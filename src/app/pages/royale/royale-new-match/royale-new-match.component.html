<div id="royale-new-match" class="page">
  <div class="page--wrapper">
    <div class="page--body">
      <!-- Create match -->
      <form [formGroup]="form">
        <ul class="list">
          <li class="list--spaced-element">
            <h2>{{ "NEW_AGA_EXT" | translate }}</h2>
          </li>

          <li class="list--spaced-element">
            {{ "NEW_ROYALE_DESC" | translate }}
          </li>

          <!-- Match Name -->
          <li class="list--simple-element">
            <label for="agaName">{{ "MATCH_NAME" | translate }}</label>
          </li>
          <li class="list--spaced-element">
            <input
              id="agaName"
              type="text"
              class="standard-input"
              maxlength="22"
              formControlName="gameName"
              [placeholder]="'MATCH_NAME_EXAMPLE' | translate"
              autofocus
            />
          </li>

          <!-- Nickname -->
          <li class="list--simple-element">
            <label for="nickname">{{ "NICKNAME" | translate }}</label>
          </li>
          <li class="list--spaced-element">
            <input
              id="nickname"
              type="text"
              class="standard-input"
              maxlength="22"
              formControlName="nickname"
              [placeholder]="'NICKNAME_EXAMPLE' | translate"
            />
          </li>

          <!-- Match Time -->
          <li class="list--simple-element">
            {{ "MATCH_TIME" | translate }}
          </li>
          <li class="list--spaced-element">
            <div class="selector">
              <div class="selector--button" (click)="editTimer(false)">
                <i class="material-symbols-outlined">remove</i>
              </div>
              @if (settingsTimerReady) {
              <div class="selector--text">
                <!-- TO DO: Capire perchÃ© da errore text -->
                {{ timerSettings[currentTimerIndex].text }}
              </div>
              }
              <div class="selector--button" (click)="editTimer(true)">
                <i class="material-symbols-outlined">add</i>
              </div>
            </div>
          </li>

          <!-- Max Players -->
          <li class="list--simple-element">
            {{ "MAX_PLAYERS" | translate }}
          </li>
          <li class="list--spaced-element">
            <div class="selector">
              <div class="selector--button" (click)="editMaxPlayers(false)">
                <i class="material-symbols-outlined">remove</i>
              </div>
              @if (settingsMaxPlayersReady) {
              <div class="selector--text">
                {{ maxPlayersSettings[currentMaxPlayersIndex].text }}
              </div>
              }
              <div class="selector--button" (click)="editMaxPlayers(true)">
                <i class="material-symbols-outlined">add</i>
              </div>
            </div>
          </li>

          <!-- Start Mode -->
          <li class="list--simple-element">
            {{ "NEW_ROYALE_START_MODE" | translate }}
          </li>
          <li class="list--spaced-element">
            <div class="selector">
              <div class="selector--button" (click)="editStartMode()">
                <i class="material-symbols-outlined">keyboard_arrow_left</i>
              </div>
              @if (settingsStartReady) {
              <div class="selector--text">
                {{ startSettings[currentStartIndex].text }}
              </div>
              }
              <div class="selector--button" (click)="editStartMode()">
                <i class="material-symbols-outlined">keyboard_arrow_right</i>
              </div>
            </div>
          </li>

          @if (currentStartIndex === 0) {
          <li class="list--simple-element">
            {{ "NEW_ROYALE_TIME" | translate }}
          </li>
          <li class="list--spaced-element">
            <input
              type="number"
              class="timepicker--text"
              formControlName="hours"
              min="0"
              max="23"
              placeholder="HH"
            />

            <span>:</span>

            <input
              type="number"
              class="timepicker--text"
              formControlName="minutes"
              min="0"
              max="59"
              placeholder="mm"
            />
          </li>
          }

          <!-- Submit -->
          <li class="list--spaced-element">
            <button
              class="navigation--button flashing-animation"
              type="button"
              (click)="requestMMaking()"
              [disabled]="form.invalid"
            >
              {{ "CREATE_MATCH" | translate }}
              <i
                class="material-symbols-outlined floating-right-animation navigation--icon-in-text icon-lg"
                >keyboard_double_arrow_right</i
              >
            </button>
          </li>

          <!-- Creating -->
          @if (creatingMatch) {
          <li class="list--spaced-element">
            <div class="flashing-animation">
              {{ "CREATING_MATCH" | translate }}
            </div>
          </li>
          }
        </ul>
      </form>
    </div>

    <div class="page--push"></div>
  </div>
</div>
