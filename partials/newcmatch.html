<div id="wrapper">
    <div id="page-body-container">
        <div id="createMatch" ng-show="mmakingState === 'createMatch'" class="centered-component">
            <form name="customMatchForm">
                <ul class="menu-list">
                    <li class="menu-list-element">
                        Scegli il nickname con il quale apparire all'avversario, e le varie opzioni di
                        gioco. CodyColor genererà una nuova partita privata alla quale potrai invitare i tuoi amici.
                    </li>

                    <li class="menu-list-element">
                        <input type="text" name="nickname" maxlength="22" ng-model="nickname" placeholder="Nickname"
                               required autofocus/>
                    </li>

                    <li class="menu-list-element">
                        Durata partita
                    </li>
                    <li class="menu-list-element">
                        <div class="selector">
                            <div class="selector-button" ng-click="decrementTime()"><i class="fas fa-minus"></i></div>
                            <div class="selector-text">{{timerSettings[currentIndex].text}}</div>
                            <div class="selector-button" ng-click="incrementTime()"><i class="fas fa-plus"></i></div>
                        </div>
                        <br>
                    </li>
                    <li class="menu-list-element">
                        <button class="menu-button icons-margin" type="submit"
                                ng-click="requestMMaking(customMatchForm.nickname.$viewValue)"
                                ng-disabled="customMatchForm.nickname.$invalid">
                            Genera partita <i class="fas fa-angle-double-right floating-right-component"></i>
                        </button>
                    </li>
                    <li class="menu-list-element" ng-show="creatingMatch">
                        <p class="flashing-component">Preparando la partita…</p>
                    </li>
                </ul>
            </form>
        </div>

        <div id="enemyInvitation" ng-show="mmakingState === 'enemyInvitation'" class="centered-component">
            <ul class="menu-list">
                <li class="menu-list-element">
                    La tua partita è pronta! Puoi invitare l'avversario inviandogli il codice sottostante, da inserire
                    nella schermata "partita custom" del gioco. Premi il codice per copiarlo negli appunti.
                </li>

                <li class="menu-list-element">
                    <div class="copyable-container" ng-click="copyCode()">
                        <div class="copyable-container-primary-text">{{gameCode}}</div>
                        <div class="copyable-container-secondary-text" ng-show="codeCopied">
                            <i class="far fa-copy copyable-container-icon"></i> Codice copiato negli appunti!
                        </div>
                    </div>
                </li>

                <li class="menu-list-element">
                    In alternativa, puoi inviare l'avversario tramite il seguente link. Basterà accedervi per entrare
                    nella
                    partita. Premi il link per copiarlo negli appunti.
                </li>

                <li class="menu-list-element">
                    <div class="copyable-container" ng-click="copyLink()">
                        https://codycolor.codemooc.net/#!?match={{gameCode}}
                        <div class="copyable-container-secondary-text" ng-show="linkCopied"><i
                                class="far fa-copy copyable-container-icon"></i> Link copiato negli appunti!
                        </div>
                    </div>
                </li>

                <li class="menu-list-element flashing-component">
                    Attendi che l'avversario confermi la sua partecipazione…
                </li>
            </ul>
        </div>

        <div id="enemy-found" ng-show="mmakingState === 'enemyFound'" class="centered-component">
            Hai un nuovo avversario: <strong>{{enemyNickname}}</strong><br><br>
            <button class="menu-button flashing-component" ng-click="playerReady()">Iniziamo! <i
                    class="fas fa-angle-double-right floating-right-component"></i>
            </button>
        </div>

        <div id="waiting-confirm" ng-show="mmakingState === 'waitingConfirm'" class="centered-component">
            <!-- Spinner -->
            <div class="lds-grid">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
            <p class="flashing-component">Attendi che l'avversario confermi la sua partecipazione…</p>
        </div>

        <div class="chat-container-mmaking" ng-show="mmakingState === 'enemyFound' || mmakingState === 'waitingConfirm'">
            <div class="chat-bubbles-container">
                <div class="chat-bubbles-header">Chat</div>
                <div id="chat-bubbles-sub-container" ng-repeat="bubble in chatBubbles">
                    <div class="chat-bubble-container">
                        <div ng-class="getBubbleStyle(bubble)">{{bubble.body}}</div>
                    </div>
                </div>
            </div>

            <div class="chat-hint-container">
                <div class="chat-hint-header">Invia un messaggio all'avversario</div>
                <div id="chat-hints-sub-container" ng-repeat="hint in chatHints">
                    <button class="chat-hint" ng-click="sendChatMessage(hint)">{{hint}}</button>
                </div>
            </div>
        </div>
    </div>
    <div id="push"></div>
</div>

<div id="footer-container">
    <div id="footer-content">
        <div class="footer-component-left">
            <i class="fas fa-sign-out-alt fa-2x footer-icons" ng-click="exitGame()"></i>
            <i class="fas fa-2x footer-icons" ng-class="basePlaying ? 'fa-volume-up' : 'fa-volume-mute'"
               ng-click="toggleBase()"></i>
        </div>
        <div class="footer-component-right"><i class="far fa-user-circle fa-2x footer-icons"></i>Non loggato</div>
    </div>
</div>


<div id="exitGameModal" class="modal-container" ng-show="exitGameModal">
    <div class="modal-content">
        <p>Sei sicuro di voler abbandonare la partita?</p>
        <div class="modal-button-container">
            <button class="modal-button-secondary" ng-click="stopExitGame()">Annulla</button>
            <button class="modal-button-primary" ng-click="continueExitGame()">Ok</button>
        </div>
    </div>
</div>

<div id="forceExitModal" class="modal-container" ng-show="forceExitModal">
    <div class="modal-content">
        <p>{{forceExitText}}</p>
        <div class="modal-button-container">
            <button class="modal-button-primary" ng-click="continueForceExit()">Ok</button>
        </div>
    </div>
</div>
