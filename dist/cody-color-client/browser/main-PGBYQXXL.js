var NP=Object.create;var sd=Object.defineProperty,OP=Object.defineProperties,PP=Object.getOwnPropertyDescriptor,LP=Object.getOwnPropertyDescriptors,FP=Object.getOwnPropertyNames,od=Object.getOwnPropertySymbols,ZI=Object.getPrototypeOf,Am=Object.prototype.hasOwnProperty,eC=Object.prototype.propertyIsEnumerable,BP=Reflect.get;var Rs=(n,e)=>(e=Symbol[n])?e:Symbol.for("Symbol."+n),VP=n=>{throw TypeError(n)};var QI=(n,e,t)=>e in n?sd(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,E=(n,e)=>{for(var t in e||={})Am.call(e,t)&&QI(n,t,e[t]);if(od)for(var t of od(e))eC.call(e,t)&&QI(n,t,e[t]);return n},$=(n,e)=>OP(n,LP(e));var tC=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var Nc=(n,e)=>{var t={};for(var i in n)Am.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&od)for(var i of od(n))e.indexOf(i)<0&&eC.call(n,i)&&(t[i]=n[i]);return t};var ye=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),jP=(n,e)=>{for(var t in e)sd(n,t,{get:e[t],enumerable:!0})},UP=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of FP(e))!Am.call(n,r)&&r!==t&&sd(n,r,{get:()=>e[r],enumerable:!(i=PP(e,r))||i.enumerable});return n};var HP=(n,e,t)=>(t=n!=null?NP(ZI(n)):{},UP(e||!n||!n.__esModule?sd(t,"default",{value:n,enumerable:!0}):t,n));var lo=(n,e,t)=>BP(ZI(n),t,e);var p=(n,e,t)=>new Promise((i,r)=>{var o=c=>{try{a(t.next(c))}catch(l){r(l)}},s=c=>{try{a(t.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())}),Ct=function(n,e){this[0]=n,this[1]=e},vn=(n,e,t)=>{var i=(s,a,c,l)=>{try{var u=t[s](a),d=(a=u.value)instanceof Ct,h=u.done;Promise.resolve(d?a[0]:a).then(f=>d?i(s==="return"?s:"next",a[1]?{done:f.done,value:f.value}:f,c,l):c({value:f,done:h})).catch(f=>i("throw",f,c,l))}catch(f){l(f)}},r=s=>o[s]=a=>new Promise((c,l)=>i(s,a,c,l)),o={};return t=t.apply(n,e),o[Rs("asyncIterator")]=()=>o,r("next"),r("throw"),r("return"),o},ad=n=>{var e=n[Rs("asyncIterator")],t=!1,i,r={};return e==null?(e=n[Rs("iterator")](),i=o=>r[o]=s=>e[o](s)):(e=e.call(n),i=o=>r[o]=s=>{if(t){if(t=!1,o==="throw")throw s;return s}return t=!0,{done:!1,value:new Ct(new Promise(a=>{var c=e[o](s);c instanceof Object||VP("Object expected"),a(c)}),1)}}),r[Rs("iterator")]=()=>r,i("next"),"throw"in e?i("throw"):r.throw=o=>{throw o},"return"in e&&i("return"),r},Gt=(n,e,t)=>(e=n[Rs("asyncIterator")])?e.call(n):(n=n[Rs("iterator")](),e={},t=(i,r)=>(r=n[i])&&(e[i]=o=>new Promise((s,a,c)=>(o=r.call(n,o),c=o.done,Promise.resolve(o.value).then(l=>s({value:l,done:c}),a)))),t("next"),t("return"),e);var Vw=ye(ig=>{"use strict";ig.byteLength=YG;ig.toByteArray=XG;ig.fromByteArray=ZG;var Ai=[],Nn=[],qG=typeof Uint8Array<"u"?Uint8Array:Array,Bw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(cs=0,$M=Bw.length;cs<$M;++cs)Ai[cs]=Bw[cs],Nn[Bw.charCodeAt(cs)]=cs;var cs,$M;Nn[45]=62;Nn[95]=63;function WM(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function YG(n){var e=WM(n),t=e[0],i=e[1];return(t+i)*3/4-i}function KG(n,e,t){return(e+t)*3/4-t}function XG(n){var e,t=WM(n),i=t[0],r=t[1],o=new qG(KG(n,i,r)),s=0,a=r>0?i-4:i,c;for(c=0;c<a;c+=4)e=Nn[n.charCodeAt(c)]<<18|Nn[n.charCodeAt(c+1)]<<12|Nn[n.charCodeAt(c+2)]<<6|Nn[n.charCodeAt(c+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return r===2&&(e=Nn[n.charCodeAt(c)]<<2|Nn[n.charCodeAt(c+1)]>>4,o[s++]=e&255),r===1&&(e=Nn[n.charCodeAt(c)]<<10|Nn[n.charCodeAt(c+1)]<<4|Nn[n.charCodeAt(c+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function JG(n){return Ai[n>>18&63]+Ai[n>>12&63]+Ai[n>>6&63]+Ai[n&63]}function QG(n,e,t){for(var i,r=[],o=e;o<t;o+=3)i=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),r.push(JG(i));return r.join("")}function ZG(n){for(var e,t=n.length,i=t%3,r=[],o=16383,s=0,a=t-i;s<a;s+=o)r.push(QG(n,s,s+o>a?a:s+o));return i===1?(e=n[t-1],r.push(Ai[e>>2]+Ai[e<<4&63]+"==")):i===2&&(e=(n[t-2]<<8)+n[t-1],r.push(Ai[e>>10]+Ai[e>>4&63]+Ai[e<<2&63]+"=")),r.join("")}});var Uw=ye(jw=>{"use strict";jw.read=function(n,e,t,i,r){var o,s,a=r*8-i-1,c=(1<<a)-1,l=c>>1,u=-7,d=t?r-1:0,h=t?-1:1,f=n[e+d];for(d+=h,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=o*256+n[e+d],d+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=s*256+n[e+d],d+=h,u-=8);if(o===0)o=1-l;else{if(o===c)return s?NaN:(f?-1:1)*(1/0);s=s+Math.pow(2,i),o=o-l}return(f?-1:1)*s*Math.pow(2,o-i)};jw.write=function(n,e,t,i,r,o){var s,a,c,l=o*8-r-1,u=(1<<l)-1,d=u>>1,h=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,b=i?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+d>=1?e+=h/c:e+=h*Math.pow(2,1-d),e*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*c-1)*Math.pow(2,r),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,r),s=0));r>=8;n[t+f]=a&255,f+=b,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;n[t+f]=s&255,f+=b,s/=256,l-=8);n[t+f-b]|=v*128}});var Zr=ye(nc=>{"use strict";var Hw=Vw(),ec=Uw(),GM=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;nc.Buffer=C;nc.SlowBuffer=o6;nc.INSPECT_MAX_BYTES=50;var rg=2147483647;nc.kMaxLength=rg;C.TYPED_ARRAY_SUPPORT=e6();!C.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function e6(){try{let n=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(n,e),n.foo()===42}catch{return!1}}Object.defineProperty(C.prototype,"parent",{enumerable:!0,get:function(){if(C.isBuffer(this))return this.buffer}});Object.defineProperty(C.prototype,"offset",{enumerable:!0,get:function(){if(C.isBuffer(this))return this.byteOffset}});function mr(n){if(n>rg)throw new RangeError('The value "'+n+'" is invalid for option "size"');let e=new Uint8Array(n);return Object.setPrototypeOf(e,C.prototype),e}function C(n,e,t){if(typeof n=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return zw(n)}return KM(n,e,t)}C.poolSize=8192;function KM(n,e,t){if(typeof n=="string")return n6(n,e);if(ArrayBuffer.isView(n))return i6(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(Ri(n,ArrayBuffer)||n&&Ri(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ri(n,SharedArrayBuffer)||n&&Ri(n.buffer,SharedArrayBuffer)))return Ww(n,e,t);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=n.valueOf&&n.valueOf();if(i!=null&&i!==n)return C.from(i,e,t);let r=r6(n);if(r)return r;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return C.from(n[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}C.from=function(n,e,t){return KM(n,e,t)};Object.setPrototypeOf(C.prototype,Uint8Array.prototype);Object.setPrototypeOf(C,Uint8Array);function XM(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function t6(n,e,t){return XM(n),n<=0?mr(n):e!==void 0?typeof t=="string"?mr(n).fill(e,t):mr(n).fill(e):mr(n)}C.alloc=function(n,e,t){return t6(n,e,t)};function zw(n){return XM(n),mr(n<0?0:qw(n)|0)}C.allocUnsafe=function(n){return zw(n)};C.allocUnsafeSlow=function(n){return zw(n)};function n6(n,e){if((typeof e!="string"||e==="")&&(e="utf8"),!C.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=JM(n,e)|0,i=mr(t),r=i.write(n,e);return r!==t&&(i=i.slice(0,r)),i}function $w(n){let e=n.length<0?0:qw(n.length)|0,t=mr(e);for(let i=0;i<e;i+=1)t[i]=n[i]&255;return t}function i6(n){if(Ri(n,Uint8Array)){let e=new Uint8Array(n);return Ww(e.buffer,e.byteOffset,e.byteLength)}return $w(n)}function Ww(n,e,t){if(e<0||n.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(n):t===void 0?i=new Uint8Array(n,e):i=new Uint8Array(n,e,t),Object.setPrototypeOf(i,C.prototype),i}function r6(n){if(C.isBuffer(n)){let e=qw(n.length)|0,t=mr(e);return t.length===0||n.copy(t,0,0,e),t}if(n.length!==void 0)return typeof n.length!="number"||Kw(n.length)?mr(0):$w(n);if(n.type==="Buffer"&&Array.isArray(n.data))return $w(n.data)}function qw(n){if(n>=rg)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+rg.toString(16)+" bytes");return n|0}function o6(n){return+n!=n&&(n=0),C.alloc(+n)}C.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==C.prototype};C.compare=function(e,t){if(Ri(e,Uint8Array)&&(e=C.from(e,e.offset,e.byteLength)),Ri(t,Uint8Array)&&(t=C.from(t,t.offset,t.byteLength)),!C.isBuffer(e)||!C.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,r=t.length;for(let o=0,s=Math.min(i,r);o<s;++o)if(e[o]!==t[o]){i=e[o],r=t[o];break}return i<r?-1:r<i?1:0};C.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};C.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return C.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let r=C.allocUnsafe(t),o=0;for(i=0;i<e.length;++i){let s=e[i];if(Ri(s,Uint8Array))o+s.length>r.length?(C.isBuffer(s)||(s=C.from(s)),s.copy(r,o)):Uint8Array.prototype.set.call(r,s,o);else if(C.isBuffer(s))s.copy(r,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return r};function JM(n,e){if(C.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||Ri(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);let t=n.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let r=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Gw(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return s1(n).length;default:if(r)return i?-1:Gw(n).length;e=(""+e).toLowerCase(),r=!0}}C.byteLength=JM;function s6(n,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(n||(n="utf8");;)switch(n){case"hex":return m6(this,e,t);case"utf8":case"utf-8":return ZM(this,e,t);case"ascii":return p6(this,e,t);case"latin1":case"binary":return g6(this,e,t);case"base64":return f6(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y6(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),i=!0}}C.prototype._isBuffer=!0;function ls(n,e,t){let i=n[e];n[e]=n[t],n[t]=i}C.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)ls(this,t,t+1);return this};C.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)ls(this,t,t+3),ls(this,t+1,t+2);return this};C.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)ls(this,t,t+7),ls(this,t+1,t+6),ls(this,t+2,t+5),ls(this,t+3,t+4);return this};C.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?ZM(this,0,e):s6.apply(this,arguments)};C.prototype.toLocaleString=C.prototype.toString;C.prototype.equals=function(e){if(!C.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:C.compare(this,e)===0};C.prototype.inspect=function(){let e="",t=nc.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};GM&&(C.prototype[GM]=C.prototype.inspect);C.prototype.compare=function(e,t,i,r,o){if(Ri(e,Uint8Array)&&(e=C.from(e,e.offset,e.byteLength)),!C.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),r===void 0&&(r=0),o===void 0&&(o=this.length),t<0||i>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=i)return 0;if(r>=o)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,r>>>=0,o>>>=0,this===e)return 0;let s=o-r,a=i-t,c=Math.min(s,a),l=this.slice(r,o),u=e.slice(t,i);for(let d=0;d<c;++d)if(l[d]!==u[d]){s=l[d],a=u[d];break}return s<a?-1:a<s?1:0};function QM(n,e,t,i,r){if(n.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Kw(t)&&(t=r?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(r)return-1;t=n.length-1}else if(t<0)if(r)t=0;else return-1;if(typeof e=="string"&&(e=C.from(e,i)),C.isBuffer(e))return e.length===0?-1:zM(n,e,t,i,r);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?r?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):zM(n,[e],t,i,r);throw new TypeError("val must be string, number or Buffer")}function zM(n,e,t,i,r){let o=1,s=n.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(n.length<2||e.length<2)return-1;o=2,s/=2,a/=2,t/=2}function c(u,d){return o===1?u[d]:u.readUInt16BE(d*o)}let l;if(r){let u=-1;for(l=t;l<s;l++)if(c(n,l)===c(e,u===-1?0:l-u)){if(u===-1&&(u=l),l-u+1===a)return u*o}else u!==-1&&(l-=l-u),u=-1}else for(t+a>s&&(t=s-a),l=t;l>=0;l--){let u=!0;for(let d=0;d<a;d++)if(c(n,l+d)!==c(e,d)){u=!1;break}if(u)return l}return-1}C.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};C.prototype.indexOf=function(e,t,i){return QM(this,e,t,i,!0)};C.prototype.lastIndexOf=function(e,t,i){return QM(this,e,t,i,!1)};function a6(n,e,t,i){t=Number(t)||0;let r=n.length-t;i?(i=Number(i),i>r&&(i=r)):i=r;let o=e.length;i>o/2&&(i=o/2);let s;for(s=0;s<i;++s){let a=parseInt(e.substr(s*2,2),16);if(Kw(a))return s;n[t+s]=a}return s}function c6(n,e,t,i){return og(Gw(e,n.length-t),n,t,i)}function l6(n,e,t,i){return og(w6(e),n,t,i)}function u6(n,e,t,i){return og(s1(e),n,t,i)}function d6(n,e,t,i){return og(E6(e,n.length-t),n,t,i)}C.prototype.write=function(e,t,i,r){if(t===void 0)r="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")r=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,r===void 0&&(r="utf8")):(r=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-t;if((i===void 0||i>o)&&(i=o),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return a6(this,e,t,i);case"utf8":case"utf-8":return c6(this,e,t,i);case"ascii":case"latin1":case"binary":return l6(this,e,t,i);case"base64":return u6(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d6(this,e,t,i);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}};C.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function f6(n,e,t){return e===0&&t===n.length?Hw.fromByteArray(n):Hw.fromByteArray(n.slice(e,t))}function ZM(n,e,t){t=Math.min(n.length,t);let i=[],r=e;for(;r<t;){let o=n[r],s=null,a=o>239?4:o>223?3:o>191?2:1;if(r+a<=t){let c,l,u,d;switch(a){case 1:o<128&&(s=o);break;case 2:c=n[r+1],(c&192)===128&&(d=(o&31)<<6|c&63,d>127&&(s=d));break;case 3:c=n[r+1],l=n[r+2],(c&192)===128&&(l&192)===128&&(d=(o&15)<<12|(c&63)<<6|l&63,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:c=n[r+1],l=n[r+2],u=n[r+3],(c&192)===128&&(l&192)===128&&(u&192)===128&&(d=(o&15)<<18|(c&63)<<12|(l&63)<<6|u&63,d>65535&&d<1114112&&(s=d))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|s&1023),i.push(s),r+=a}return h6(i)}var qM=4096;function h6(n){let e=n.length;if(e<=qM)return String.fromCharCode.apply(String,n);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,n.slice(i,i+=qM));return t}function p6(n,e,t){let i="";t=Math.min(n.length,t);for(let r=e;r<t;++r)i+=String.fromCharCode(n[r]&127);return i}function g6(n,e,t){let i="";t=Math.min(n.length,t);for(let r=e;r<t;++r)i+=String.fromCharCode(n[r]);return i}function m6(n,e,t){let i=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let r="";for(let o=e;o<t;++o)r+=I6[n[o]];return r}function y6(n,e,t){let i=n.slice(e,t),r="";for(let o=0;o<i.length-1;o+=2)r+=String.fromCharCode(i[o]+i[o+1]*256);return r}C.prototype.slice=function(e,t){let i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,C.prototype),r};function bt(n,e,t){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}C.prototype.readUintLE=C.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||bt(e,t,this.length);let r=this[e],o=1,s=0;for(;++s<t&&(o*=256);)r+=this[e+s]*o;return r};C.prototype.readUintBE=C.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||bt(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r};C.prototype.readUint8=C.prototype.readUInt8=function(e,t){return e=e>>>0,t||bt(e,1,this.length),this[e]};C.prototype.readUint16LE=C.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||bt(e,2,this.length),this[e]|this[e+1]<<8};C.prototype.readUint16BE=C.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||bt(e,2,this.length),this[e]<<8|this[e+1]};C.prototype.readUint32LE=C.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||bt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};C.prototype.readUint32BE=C.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||bt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};C.prototype.readBigUInt64LE=Qr(function(e){e=e>>>0,tc(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&ku(e,this.length-8);let r=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))});C.prototype.readBigUInt64BE=Qr(function(e){e=e>>>0,tc(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&ku(e,this.length-8);let r=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(r)<<BigInt(32))+BigInt(o)});C.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||bt(e,t,this.length);let r=this[e],o=1,s=0;for(;++s<t&&(o*=256);)r+=this[e+s]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r};C.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||bt(e,t,this.length);let r=t,o=1,s=this[e+--r];for(;r>0&&(o*=256);)s+=this[e+--r]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*t)),s};C.prototype.readInt8=function(e,t){return e=e>>>0,t||bt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};C.prototype.readInt16LE=function(e,t){e=e>>>0,t||bt(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};C.prototype.readInt16BE=function(e,t){e=e>>>0,t||bt(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};C.prototype.readInt32LE=function(e,t){return e=e>>>0,t||bt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};C.prototype.readInt32BE=function(e,t){return e=e>>>0,t||bt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};C.prototype.readBigInt64LE=Qr(function(e){e=e>>>0,tc(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&ku(e,this.length-8);let r=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});C.prototype.readBigInt64BE=Qr(function(e){e=e>>>0,tc(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&ku(e,this.length-8);let r=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});C.prototype.readFloatLE=function(e,t){return e=e>>>0,t||bt(e,4,this.length),ec.read(this,e,!0,23,4)};C.prototype.readFloatBE=function(e,t){return e=e>>>0,t||bt(e,4,this.length),ec.read(this,e,!1,23,4)};C.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||bt(e,8,this.length),ec.read(this,e,!0,52,8)};C.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||bt(e,8,this.length),ec.read(this,e,!1,52,8)};function tn(n,e,t,i,r,o){if(!C.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(t+i>n.length)throw new RangeError("Index out of range")}C.prototype.writeUintLE=C.prototype.writeUIntLE=function(e,t,i,r){if(e=+e,t=t>>>0,i=i>>>0,!r){let a=Math.pow(2,8*i)-1;tn(this,e,t,i,a,0)}let o=1,s=0;for(this[t]=e&255;++s<i&&(o*=256);)this[t+s]=e/o&255;return t+i};C.prototype.writeUintBE=C.prototype.writeUIntBE=function(e,t,i,r){if(e=+e,t=t>>>0,i=i>>>0,!r){let a=Math.pow(2,8*i)-1;tn(this,e,t,i,a,0)}let o=i-1,s=1;for(this[t+o]=e&255;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+i};C.prototype.writeUint8=C.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||tn(this,e,t,1,255,0),this[t]=e&255,t+1};C.prototype.writeUint16LE=C.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||tn(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};C.prototype.writeUint16BE=C.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||tn(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};C.prototype.writeUint32LE=C.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||tn(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};C.prototype.writeUint32BE=C.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||tn(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function e1(n,e,t,i,r){o1(e,i,r,n,t,7);let o=Number(e&BigInt(4294967295));n[t++]=o,o=o>>8,n[t++]=o,o=o>>8,n[t++]=o,o=o>>8,n[t++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s,t}function t1(n,e,t,i,r){o1(e,i,r,n,t,7);let o=Number(e&BigInt(4294967295));n[t+7]=o,o=o>>8,n[t+6]=o,o=o>>8,n[t+5]=o,o=o>>8,n[t+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return n[t+3]=s,s=s>>8,n[t+2]=s,s=s>>8,n[t+1]=s,s=s>>8,n[t]=s,t+8}C.prototype.writeBigUInt64LE=Qr(function(e,t=0){return e1(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});C.prototype.writeBigUInt64BE=Qr(function(e,t=0){return t1(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});C.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t=t>>>0,!r){let c=Math.pow(2,8*i-1);tn(this,e,t,i,c-1,-c)}let o=0,s=1,a=0;for(this[t]=e&255;++o<i&&(s*=256);)e<0&&a===0&&this[t+o-1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+i};C.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t=t>>>0,!r){let c=Math.pow(2,8*i-1);tn(this,e,t,i,c-1,-c)}let o=i-1,s=1,a=0;for(this[t+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[t+o+1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+i};C.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||tn(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};C.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||tn(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};C.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||tn(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};C.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||tn(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};C.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||tn(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};C.prototype.writeBigInt64LE=Qr(function(e,t=0){return e1(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});C.prototype.writeBigInt64BE=Qr(function(e,t=0){return t1(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function n1(n,e,t,i,r,o){if(t+i>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function i1(n,e,t,i,r){return e=+e,t=t>>>0,r||n1(n,e,t,4,34028234663852886e22,-34028234663852886e22),ec.write(n,e,t,i,23,4),t+4}C.prototype.writeFloatLE=function(e,t,i){return i1(this,e,t,!0,i)};C.prototype.writeFloatBE=function(e,t,i){return i1(this,e,t,!1,i)};function r1(n,e,t,i,r){return e=+e,t=t>>>0,r||n1(n,e,t,8,17976931348623157e292,-17976931348623157e292),ec.write(n,e,t,i,52,8),t+8}C.prototype.writeDoubleLE=function(e,t,i){return r1(this,e,t,!0,i)};C.prototype.writeDoubleBE=function(e,t,i){return r1(this,e,t,!1,i)};C.prototype.copy=function(e,t,i,r){if(!C.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!r&&r!==0&&(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);let o=r-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,r):Uint8Array.prototype.set.call(e,this.subarray(i,r),t),o};C.prototype.fill=function(e,t,i,r){if(typeof e=="string"){if(typeof t=="string"?(r=t,t=0,i=this.length):typeof i=="string"&&(r=i,i=this.length),r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!C.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(e.length===1){let s=e.charCodeAt(0);(r==="utf8"&&s<128||r==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{let s=C.isBuffer(e)?e:C.from(e,r),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=s[o%a]}return this};var Za={};function Yw(n,e,t){Za[n]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(r){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:r,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}Yw("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Yw("ERR_INVALID_ARG_TYPE",function(n,e){return`The "${n}" argument must be of type number. Received type ${typeof e}`},TypeError);Yw("ERR_OUT_OF_RANGE",function(n,e,t){let i=`The value of "${n}" is out of range.`,r=t;return Number.isInteger(t)&&Math.abs(t)>2**32?r=YM(String(t)):typeof t=="bigint"&&(r=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(r=YM(r)),r+="n"),i+=` It must be ${e}. Received ${r}`,i},RangeError);function YM(n){let e="",t=n.length,i=n[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${n.slice(t-3,t)}${e}`;return`${n.slice(0,t)}${e}`}function _6(n,e,t){tc(e,"offset"),(n[e]===void 0||n[e+t]===void 0)&&ku(e,n.length-(t+1))}function o1(n,e,t,i,r,o){if(n>t||n<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${t}${s}`,new Za.ERR_OUT_OF_RANGE("value",a,n)}_6(i,r,o)}function tc(n,e){if(typeof n!="number")throw new Za.ERR_INVALID_ARG_TYPE(e,"number",n)}function ku(n,e,t){throw Math.floor(n)!==n?(tc(n,t),new Za.ERR_OUT_OF_RANGE(t||"offset","an integer",n)):e<0?new Za.ERR_BUFFER_OUT_OF_BOUNDS:new Za.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,n)}var v6=/[^+/0-9A-Za-z-_]/g;function b6(n){if(n=n.split("=")[0],n=n.trim().replace(v6,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function Gw(n,e){e=e||1/0;let t,i=n.length,r=null,o=[];for(let s=0;s<i;++s){if(t=n.charCodeAt(s),t>55295&&t<57344){if(!r){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),r=t;continue}t=(r-55296<<10|t-56320)+65536}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function w6(n){let e=[];for(let t=0;t<n.length;++t)e.push(n.charCodeAt(t)&255);return e}function E6(n,e){let t,i,r,o=[];for(let s=0;s<n.length&&!((e-=2)<0);++s)t=n.charCodeAt(s),i=t>>8,r=t%256,o.push(r),o.push(i);return o}function s1(n){return Hw.toByteArray(b6(n))}function og(n,e,t,i){let r;for(r=0;r<i&&!(r+t>=e.length||r>=n.length);++r)e[r+t]=n[r];return r}function Ri(n,e){return n instanceof e||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===e.name}function Kw(n){return n!==n}var I6=function(){let n="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let i=t*16;for(let r=0;r<16;++r)e[i+r]=n[t]+n[r]}return e}();function Qr(n){return typeof BigInt>"u"?C6:n}function C6(){throw new Error("BigInt not supported")}});var Fe=ye((pde,a1)=>{"use strict";var Xw=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let t="";for(let i=0;i<e.length;i++)t+=`    ${e[i].stack}
`;super(t),this.name="AggregateError",this.errors=e}};a1.exports={AggregateError:Xw,ArrayIsArray(n){return Array.isArray(n)},ArrayPrototypeIncludes(n,e){return n.includes(e)},ArrayPrototypeIndexOf(n,e){return n.indexOf(e)},ArrayPrototypeJoin(n,e){return n.join(e)},ArrayPrototypeMap(n,e){return n.map(e)},ArrayPrototypePop(n,e){return n.pop(e)},ArrayPrototypePush(n,e){return n.push(e)},ArrayPrototypeSlice(n,e,t){return n.slice(e,t)},Error,FunctionPrototypeCall(n,e,...t){return n.call(e,...t)},FunctionPrototypeSymbolHasInstance(n,e){return Function.prototype[Symbol.hasInstance].call(n,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(n,e){return Object.defineProperties(n,e)},ObjectDefineProperty(n,e,t){return Object.defineProperty(n,e,t)},ObjectGetOwnPropertyDescriptor(n,e){return Object.getOwnPropertyDescriptor(n,e)},ObjectKeys(n){return Object.keys(n)},ObjectSetPrototypeOf(n,e){return Object.setPrototypeOf(n,e)},Promise,PromisePrototypeCatch(n,e){return n.catch(e)},PromisePrototypeThen(n,e,t){return n.then(e,t)},PromiseReject(n){return Promise.reject(n)},PromiseResolve(n){return Promise.resolve(n)},ReflectApply:Reflect.apply,RegExpPrototypeTest(n,e){return n.test(e)},SafeSet:Set,String,StringPrototypeSlice(n,e,t){return n.slice(e,t)},StringPrototypeToLowerCase(n){return n.toLowerCase()},StringPrototypeToUpperCase(n){return n.toUpperCase()},StringPrototypeTrim(n){return n.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(n,e,t){return n.set(e,t)},Boolean,Uint8Array}});var Jw=ye((gde,c1)=>{"use strict";c1.exports={format(n,...e){return n.replace(/%([sdifj])/g,function(...[t,i]){let r=e.shift();return i==="f"?r.toFixed(6):i==="j"?JSON.stringify(r):i==="s"&&typeof r=="object"?`${r.constructor!==Object?r.constructor.name:""} {}`.trim():r.toString()})},inspect(n){switch(typeof n){case"string":if(n.includes("'"))if(n.includes('"')){if(!n.includes("`")&&!n.includes("${"))return`\`${n}\``}else return`"${n}"`;return`'${n}'`;case"number":return isNaN(n)?"NaN":Object.is(n,-0)?String(n):n;case"bigint":return`${String(n)}n`;case"boolean":case"undefined":return String(n);case"object":return"{}"}}}});var Pt=ye((mde,d1)=>{"use strict";var{format:D6,inspect:sg}=Jw(),{AggregateError:S6}=Fe(),T6=globalThis.AggregateError||S6,A6=Symbol("kIsNodeError"),R6=["string","function","number","object","Function","Object","boolean","bigint","symbol"],x6=/^([A-Z][a-z0-9]*)+$/,M6="__node_internal_",ag={};function us(n,e){if(!n)throw new ag.ERR_INTERNAL_ASSERTION(e)}function l1(n){let e="",t=n.length,i=n[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${n.slice(t-3,t)}${e}`;return`${n.slice(0,t)}${e}`}function k6(n,e,t){if(typeof e=="function")return us(e.length<=t.length,`Code: ${n}; The provided arguments length (${t.length}) does not match the required ones (${e.length}).`),e(...t);let i=(e.match(/%[dfijoOs]/g)||[]).length;return us(i===t.length,`Code: ${n}; The provided arguments length (${t.length}) does not match the required ones (${i}).`),t.length===0?e:D6(e,...t)}function Tt(n,e,t){t||(t=Error);class i extends t{constructor(...o){super(k6(n,e,o))}toString(){return`${this.name} [${n}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:t.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${n}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=n,i.prototype[A6]=!0,ag[n]=i}function u1(n){let e=M6+n.name;return Object.defineProperty(n,"name",{value:e}),n}function N6(n,e){if(n&&e&&n!==e){if(Array.isArray(e.errors))return e.errors.push(n),e;let t=new T6([e,n],e.message);return t.code=e.code,t}return n||e}var Qw=class extends Error{constructor(e="The operation was aborted",t=void 0){if(t!==void 0&&typeof t!="object")throw new ag.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}};Tt("ERR_ASSERTION","%s",Error);Tt("ERR_INVALID_ARG_TYPE",(n,e,t)=>{us(typeof n=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let i="The ";n.endsWith(" argument")?i+=`${n} `:i+=`"${n}" ${n.includes(".")?"property":"argument"} `,i+="must be ";let r=[],o=[],s=[];for(let c of e)us(typeof c=="string","All expected entries have to be of type string"),R6.includes(c)?r.push(c.toLowerCase()):x6.test(c)?o.push(c):(us(c!=="object",'The value "object" should be written as "Object"'),s.push(c));if(o.length>0){let c=r.indexOf("object");c!==-1&&(r.splice(r,c,1),o.push("Object"))}if(r.length>0){switch(r.length){case 1:i+=`of type ${r[0]}`;break;case 2:i+=`one of type ${r[0]} or ${r[1]}`;break;default:{let c=r.pop();i+=`one of type ${r.join(", ")}, or ${c}`}}(o.length>0||s.length>0)&&(i+=" or ")}if(o.length>0){switch(o.length){case 1:i+=`an instance of ${o[0]}`;break;case 2:i+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let c=o.pop();i+=`an instance of ${o.join(", ")}, or ${c}`}}s.length>0&&(i+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(i+="an "),i+=`${s[0]}`;break;case 2:i+=`one of ${s[0]} or ${s[1]}`;break;default:{let c=s.pop();i+=`one of ${s.join(", ")}, or ${c}`}}if(t==null)i+=`. Received ${t}`;else if(typeof t=="function"&&t.name)i+=`. Received function ${t.name}`;else if(typeof t=="object"){var a;if((a=t.constructor)!==null&&a!==void 0&&a.name)i+=`. Received an instance of ${t.constructor.name}`;else{let c=sg(t,{depth:-1});i+=`. Received ${c}`}}else{let c=sg(t,{colors:!1});c.length>25&&(c=`${c.slice(0,25)}...`),i+=`. Received type ${typeof t} (${c})`}return i},TypeError);Tt("ERR_INVALID_ARG_VALUE",(n,e,t="is invalid")=>{let i=sg(e);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${n.includes(".")?"property":"argument"} '${n}' ${t}. Received ${i}`},TypeError);Tt("ERR_INVALID_RETURN_VALUE",(n,e,t)=>{var i;let r=t!=null&&(i=t.constructor)!==null&&i!==void 0&&i.name?`instance of ${t.constructor.name}`:`type ${typeof t}`;return`Expected ${n} to be returned from the "${e}" function but got ${r}.`},TypeError);Tt("ERR_MISSING_ARGS",(...n)=>{us(n.length>0,"At least one arg needs to be specified");let e,t=n.length;switch(n=(Array.isArray(n)?n:[n]).map(i=>`"${i}"`).join(" or "),t){case 1:e+=`The ${n[0]} argument`;break;case 2:e+=`The ${n[0]} and ${n[1]} arguments`;break;default:{let i=n.pop();e+=`The ${n.join(", ")}, and ${i} arguments`}break}return`${e} must be specified`},TypeError);Tt("ERR_OUT_OF_RANGE",(n,e,t)=>{us(e,'Missing "range" argument');let i;if(Number.isInteger(t)&&Math.abs(t)>2**32)i=l1(String(t));else if(typeof t=="bigint"){i=String(t);let r=BigInt(2)**BigInt(32);(t>r||t<-r)&&(i=l1(i)),i+="n"}else i=sg(t);return`The value of "${n}" is out of range. It must be ${e}. Received ${i}`},RangeError);Tt("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Tt("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Tt("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Tt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Tt("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Tt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Tt("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Tt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Tt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Tt("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Tt("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);d1.exports={AbortError:Qw,aggregateTwoErrors:u1(N6),hideStackFrames:u1,codes:ag}});var ic=ye((yde,cg)=>{"use strict";var{AbortController:f1,AbortSignal:O6}=typeof self<"u"?self:typeof window<"u"?window:void 0;cg.exports=f1;cg.exports.AbortSignal=O6;cg.exports.default=f1});var Nu=ye((_de,Zw)=>{"use strict";var rc=typeof Reflect=="object"?Reflect:null,h1=rc&&typeof rc.apply=="function"?rc.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)},lg;rc&&typeof rc.ownKeys=="function"?lg=rc.ownKeys:Object.getOwnPropertySymbols?lg=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:lg=function(e){return Object.getOwnPropertyNames(e)};function P6(n){console&&console.warn&&console.warn(n)}var g1=Number.isNaN||function(e){return e!==e};function Se(){Se.init.call(this)}Zw.exports=Se;Zw.exports.once=V6;Se.EventEmitter=Se;Se.prototype._events=void 0;Se.prototype._eventsCount=0;Se.prototype._maxListeners=void 0;var p1=10;function ug(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(Se,"defaultMaxListeners",{enumerable:!0,get:function(){return p1},set:function(n){if(typeof n!="number"||n<0||g1(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");p1=n}});Se.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Se.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||g1(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function m1(n){return n._maxListeners===void 0?Se.defaultMaxListeners:n._maxListeners}Se.prototype.getMaxListeners=function(){return m1(this)};Se.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r=e==="error",o=this._events;if(o!==void 0)r=r&&o.error===void 0;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(c===void 0)return!1;if(typeof c=="function")h1(c,this,t);else for(var l=c.length,u=w1(c,l),i=0;i<l;++i)h1(u[i],this,t);return!0};function y1(n,e,t,i){var r,o,s;if(ug(t),o=n._events,o===void 0?(o=n._events=Object.create(null),n._eventsCount=0):(o.newListener!==void 0&&(n.emit("newListener",e,t.listener?t.listener:t),o=n._events),s=o[e]),s===void 0)s=o[e]=t,++n._eventsCount;else if(typeof s=="function"?s=o[e]=i?[t,s]:[s,t]:i?s.unshift(t):s.push(t),r=m1(n),r>0&&s.length>r&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=n,a.type=e,a.count=s.length,P6(a)}return n}Se.prototype.addListener=function(e,t){return y1(this,e,t,!1)};Se.prototype.on=Se.prototype.addListener;Se.prototype.prependListener=function(e,t){return y1(this,e,t,!0)};function L6(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _1(n,e,t){var i={fired:!1,wrapFn:void 0,target:n,type:e,listener:t},r=L6.bind(i);return r.listener=t,i.wrapFn=r,r}Se.prototype.once=function(e,t){return ug(t),this.on(e,_1(this,e,t)),this};Se.prototype.prependOnceListener=function(e,t){return ug(t),this.prependListener(e,_1(this,e,t)),this};Se.prototype.removeListener=function(e,t){var i,r,o,s,a;if(ug(t),r=this._events,r===void 0)return this;if(i=r[e],i===void 0)return this;if(i===t||i.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if(typeof i!="function"){for(o=-1,s=i.length-1;s>=0;s--)if(i[s]===t||i[s].listener===t){a=i[s].listener,o=s;break}if(o<0)return this;o===0?i.shift():F6(i,o),i.length===1&&(r[e]=i[0]),r.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};Se.prototype.off=Se.prototype.removeListener;Se.prototype.removeAllListeners=function(e){var t,i,r;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var o=Object.keys(i),s;for(r=0;r<o.length;++r)s=o[r],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this};function v1(n,e,t){var i=n._events;if(i===void 0)return[];var r=i[e];return r===void 0?[]:typeof r=="function"?t?[r.listener||r]:[r]:t?B6(r):w1(r,r.length)}Se.prototype.listeners=function(e){return v1(this,e,!0)};Se.prototype.rawListeners=function(e){return v1(this,e,!1)};Se.listenerCount=function(n,e){return typeof n.listenerCount=="function"?n.listenerCount(e):b1.call(n,e)};Se.prototype.listenerCount=b1;function b1(n){var e=this._events;if(e!==void 0){var t=e[n];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Se.prototype.eventNames=function(){return this._eventsCount>0?lg(this._events):[]};function w1(n,e){for(var t=new Array(e),i=0;i<e;++i)t[i]=n[i];return t}function F6(n,e){for(;e+1<n.length;e++)n[e]=n[e+1];n.pop()}function B6(n){for(var e=new Array(n.length),t=0;t<e.length;++t)e[t]=n[t].listener||n[t];return e}function V6(n,e){return new Promise(function(t,i){function r(s){n.removeListener(e,o),i(s)}function o(){typeof n.removeListener=="function"&&n.removeListener("error",r),t([].slice.call(arguments))}E1(n,e,o,{once:!0}),e!=="error"&&j6(n,r,{once:!0})})}function j6(n,e,t){typeof n.on=="function"&&E1(n,"error",e,t)}function E1(n,e,t,i){if(typeof n.on=="function")i.once?n.once(e,t):n.on(e,t);else if(typeof n.addEventListener=="function")n.addEventListener(e,function r(o){i.once&&n.removeEventListener(e,r),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}});var Ht=ye((vde,tE)=>{"use strict";var U6=Zr(),{format:H6,inspect:$6}=Jw(),{codes:{ERR_INVALID_ARG_TYPE:eE}}=Pt(),{kResistStopPropagation:W6,AggregateError:G6,SymbolDispose:z6}=Fe(),q6=globalThis.AbortSignal||ic().AbortSignal,Y6=globalThis.AbortController||ic().AbortController,K6=Object.getPrototypeOf(function(){return p(this,null,function*(){})}).constructor,I1=globalThis.Blob||U6.Blob,X6=typeof I1<"u"?function(e){return e instanceof I1}:function(e){return!1},C1=(n,e)=>{if(n!==void 0&&(n===null||typeof n!="object"||!("aborted"in n)))throw new eE(e,"AbortSignal",n)},J6=(n,e)=>{if(typeof n!="function")throw new eE(e,"Function",n)};tE.exports={AggregateError:G6,kEmptyObject:Object.freeze({}),once(n){let e=!1;return function(...t){e||(e=!0,n.apply(this,t))}},createDeferredPromise:function(){let n,e;return{promise:new Promise((i,r)=>{n=i,e=r}),resolve:n,reject:e}},promisify(n){return new Promise((e,t)=>{n((i,...r)=>i?t(i):e(...r))})},debuglog(){return function(){}},format:H6,inspect:$6,types:{isAsyncFunction(n){return n instanceof K6},isArrayBufferView(n){return ArrayBuffer.isView(n)}},isBlob:X6,deprecate(n,e){return n},addAbortListener:Nu().addAbortListener||function(e,t){if(e===void 0)throw new eE("signal","AbortSignal",e);C1(e,"signal"),J6(t,"listener");let i;return e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[W6]:!0}),i=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[z6](){var r;(r=i)===null||r===void 0||r()}}},AbortSignalAny:q6.any||function(e){if(e.length===1)return e[0];let t=new Y6,i=()=>t.abort();return e.forEach(r=>{C1(r,"signals"),r.addEventListener("abort",i,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(r=>r.removeEventListener("abort",i))},{once:!0}),t.signal}};tE.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var sc=ye((wde,O1)=>{"use strict";var{ArrayIsArray:iE,ArrayPrototypeIncludes:A1,ArrayPrototypeJoin:R1,ArrayPrototypeMap:Q6,NumberIsInteger:rE,NumberIsNaN:Z6,NumberMAX_SAFE_INTEGER:ez,NumberMIN_SAFE_INTEGER:tz,NumberParseInt:nz,ObjectPrototypeHasOwnProperty:iz,RegExpPrototypeExec:x1,String:rz,StringPrototypeToUpperCase:oz,StringPrototypeTrim:sz}=Fe(),{hideStackFrames:On,codes:{ERR_SOCKET_BAD_PORT:az,ERR_INVALID_ARG_TYPE:Lt,ERR_INVALID_ARG_VALUE:oc,ERR_OUT_OF_RANGE:ds,ERR_UNKNOWN_SIGNAL:D1}}=Pt(),{normalizeEncoding:cz}=Ht(),{isAsyncFunction:lz,isArrayBufferView:uz}=Ht().types,S1={};function dz(n){return n===(n|0)}function fz(n){return n===n>>>0}var hz=/^[0-7]+$/,pz="must be a 32-bit unsigned integer or an octal string";function gz(n,e,t){if(typeof n>"u"&&(n=t),typeof n=="string"){if(x1(hz,n)===null)throw new oc(e,n,pz);n=nz(n,8)}return M1(n,e),n}var mz=On((n,e,t=tz,i=ez)=>{if(typeof n!="number")throw new Lt(e,"number",n);if(!rE(n))throw new ds(e,"an integer",n);if(n<t||n>i)throw new ds(e,`>= ${t} && <= ${i}`,n)}),yz=On((n,e,t=-2147483648,i=2147483647)=>{if(typeof n!="number")throw new Lt(e,"number",n);if(!rE(n))throw new ds(e,"an integer",n);if(n<t||n>i)throw new ds(e,`>= ${t} && <= ${i}`,n)}),M1=On((n,e,t=!1)=>{if(typeof n!="number")throw new Lt(e,"number",n);if(!rE(n))throw new ds(e,"an integer",n);let i=t?1:0,r=4294967295;if(n<i||n>r)throw new ds(e,`>= ${i} && <= ${r}`,n)});function oE(n,e){if(typeof n!="string")throw new Lt(e,"string",n)}function _z(n,e,t=void 0,i){if(typeof n!="number")throw new Lt(e,"number",n);if(t!=null&&n<t||i!=null&&n>i||(t!=null||i!=null)&&Z6(n))throw new ds(e,`${t!=null?`>= ${t}`:""}${t!=null&&i!=null?" && ":""}${i!=null?`<= ${i}`:""}`,n)}var vz=On((n,e,t)=>{if(!A1(t,n)){let r="must be one of: "+R1(Q6(t,o=>typeof o=="string"?`'${o}'`:rz(o)),", ");throw new oc(e,n,r)}});function k1(n,e){if(typeof n!="boolean")throw new Lt(e,"boolean",n)}function nE(n,e,t){return n==null||!iz(n,e)?t:n[e]}var bz=On((n,e,t=null)=>{let i=nE(t,"allowArray",!1),r=nE(t,"allowFunction",!1);if(!nE(t,"nullable",!1)&&n===null||!i&&iE(n)||typeof n!="object"&&(!r||typeof n!="function"))throw new Lt(e,"Object",n)}),wz=On((n,e)=>{if(n!=null&&typeof n!="object"&&typeof n!="function")throw new Lt(e,"a dictionary",n)}),dg=On((n,e,t=0)=>{if(!iE(n))throw new Lt(e,"Array",n);if(n.length<t){let i=`must be longer than ${t}`;throw new oc(e,n,i)}});function Ez(n,e){dg(n,e);for(let t=0;t<n.length;t++)oE(n[t],`${e}[${t}]`)}function Iz(n,e){dg(n,e);for(let t=0;t<n.length;t++)k1(n[t],`${e}[${t}]`)}function Cz(n,e){dg(n,e);for(let t=0;t<n.length;t++){let i=n[t],r=`${e}[${t}]`;if(i==null)throw new Lt(r,"AbortSignal",i);N1(i,r)}}function Dz(n,e="signal"){if(oE(n,e),S1[n]===void 0)throw S1[oz(n)]!==void 0?new D1(n+" (signals must use all capital letters)"):new D1(n)}var Sz=On((n,e="buffer")=>{if(!uz(n))throw new Lt(e,["Buffer","TypedArray","DataView"],n)});function Tz(n,e){let t=cz(e),i=n.length;if(t==="hex"&&i%2!==0)throw new oc("encoding",e,`is invalid for data of length ${i}`)}function Az(n,e="Port",t=!0){if(typeof n!="number"&&typeof n!="string"||typeof n=="string"&&sz(n).length===0||+n!==+n>>>0||n>65535||n===0&&!t)throw new az(e,n,t);return n|0}var N1=On((n,e)=>{if(n!==void 0&&(n===null||typeof n!="object"||!("aborted"in n)))throw new Lt(e,"AbortSignal",n)}),Rz=On((n,e)=>{if(typeof n!="function")throw new Lt(e,"Function",n)}),xz=On((n,e)=>{if(typeof n!="function"||lz(n))throw new Lt(e,"Function",n)}),Mz=On((n,e)=>{if(n!==void 0)throw new Lt(e,"undefined",n)});function kz(n,e,t){if(!A1(t,n))throw new Lt(e,`('${R1(t,"|")}')`,n)}var Nz=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function T1(n,e){if(typeof n>"u"||!x1(Nz,n))throw new oc(e,n,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Oz(n){if(typeof n=="string")return T1(n,"hints"),n;if(iE(n)){let e=n.length,t="";if(e===0)return t;for(let i=0;i<e;i++){let r=n[i];T1(r,"hints"),t+=r,i!==e-1&&(t+=", ")}return t}throw new oc("hints",n,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}O1.exports={isInt32:dz,isUint32:fz,parseFileMode:gz,validateArray:dg,validateStringArray:Ez,validateBooleanArray:Iz,validateAbortSignalArray:Cz,validateBoolean:k1,validateBuffer:Sz,validateDictionary:wz,validateEncoding:Tz,validateFunction:Rz,validateInt32:yz,validateInteger:mz,validateNumber:_z,validateObject:bz,validateOneOf:vz,validatePlainFunction:xz,validatePort:Az,validateSignalName:Dz,validateString:oE,validateUint32:M1,validateUndefined:Mz,validateUnion:kz,validateAbortSignal:N1,validateLinkHeaderValue:Oz}});var eo=ye((Ede,B1)=>{"use strict";var Xe=B1.exports={},xi,Mi;function sE(){throw new Error("setTimeout has not been defined")}function aE(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?xi=setTimeout:xi=sE}catch{xi=sE}try{typeof clearTimeout=="function"?Mi=clearTimeout:Mi=aE}catch{Mi=aE}})();function P1(n){if(xi===setTimeout)return setTimeout(n,0);if((xi===sE||!xi)&&setTimeout)return xi=setTimeout,setTimeout(n,0);try{return xi(n,0)}catch{try{return xi.call(null,n,0)}catch{return xi.call(this,n,0)}}}function Pz(n){if(Mi===clearTimeout)return clearTimeout(n);if((Mi===aE||!Mi)&&clearTimeout)return Mi=clearTimeout,clearTimeout(n);try{return Mi(n)}catch{try{return Mi.call(null,n)}catch{return Mi.call(this,n)}}}var yr=[],ac=!1,fs,fg=-1;function Lz(){!ac||!fs||(ac=!1,fs.length?yr=fs.concat(yr):fg=-1,yr.length&&L1())}function L1(){if(!ac){var n=P1(Lz);ac=!0;for(var e=yr.length;e;){for(fs=yr,yr=[];++fg<e;)fs&&fs[fg].run();fg=-1,e=yr.length}fs=null,ac=!1,Pz(n)}}Xe.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];yr.push(new F1(n,e)),yr.length===1&&!ac&&P1(L1)};function F1(n,e){this.fun=n,this.array=e}F1.prototype.run=function(){this.fun.apply(null,this.array)};Xe.title="browser";Xe.browser=!0;Xe.env={};Xe.argv=[];Xe.version="";Xe.versions={};function _r(){}Xe.on=_r;Xe.addListener=_r;Xe.once=_r;Xe.off=_r;Xe.removeListener=_r;Xe.removeAllListeners=_r;Xe.emit=_r;Xe.prependListener=_r;Xe.prependOnceListener=_r;Xe.listeners=function(n){return[]};Xe.binding=function(n){throw new Error("process.binding is not supported")};Xe.cwd=function(){return"/"};Xe.chdir=function(n){throw new Error("process.chdir is not supported")};Xe.umask=function(){return 0}});var Ni=ye((Ide,Z1)=>{"use strict";var{SymbolAsyncIterator:V1,SymbolIterator:j1,SymbolFor:hs}=Fe(),U1=hs("nodejs.stream.destroyed"),H1=hs("nodejs.stream.errored"),cE=hs("nodejs.stream.readable"),lE=hs("nodejs.stream.writable"),$1=hs("nodejs.stream.disturbed"),Fz=hs("nodejs.webstream.isClosedPromise"),Bz=hs("nodejs.webstream.controllerErrorFunction");function hg(n,e=!1){var t;return!!(n&&typeof n.pipe=="function"&&typeof n.on=="function"&&(!e||typeof n.pause=="function"&&typeof n.resume=="function")&&(!n._writableState||((t=n._readableState)===null||t===void 0?void 0:t.readable)!==!1)&&(!n._writableState||n._readableState))}function pg(n){var e;return!!(n&&typeof n.write=="function"&&typeof n.on=="function"&&(!n._readableState||((e=n._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Vz(n){return!!(n&&typeof n.pipe=="function"&&n._readableState&&typeof n.on=="function"&&typeof n.write=="function")}function ki(n){return n&&(n._readableState||n._writableState||typeof n.write=="function"&&typeof n.on=="function"||typeof n.pipe=="function"&&typeof n.on=="function")}function W1(n){return!!(n&&!ki(n)&&typeof n.pipeThrough=="function"&&typeof n.getReader=="function"&&typeof n.cancel=="function")}function G1(n){return!!(n&&!ki(n)&&typeof n.getWriter=="function"&&typeof n.abort=="function")}function z1(n){return!!(n&&!ki(n)&&typeof n.readable=="object"&&typeof n.writable=="object")}function jz(n){return W1(n)||G1(n)||z1(n)}function Uz(n,e){return n==null?!1:e===!0?typeof n[V1]=="function":e===!1?typeof n[j1]=="function":typeof n[V1]=="function"||typeof n[j1]=="function"}function gg(n){if(!ki(n))return null;let e=n._writableState,t=n._readableState,i=e||t;return!!(n.destroyed||n[U1]||i!=null&&i.destroyed)}function q1(n){if(!pg(n))return null;if(n.writableEnded===!0)return!0;let e=n._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Hz(n,e){if(!pg(n))return null;if(n.writableFinished===!0)return!0;let t=n._writableState;return t!=null&&t.errored?!1:typeof t?.finished!="boolean"?null:!!(t.finished||e===!1&&t.ended===!0&&t.length===0)}function $z(n){if(!hg(n))return null;if(n.readableEnded===!0)return!0;let e=n._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Y1(n,e){if(!hg(n))return null;let t=n._readableState;return t!=null&&t.errored?!1:typeof t?.endEmitted!="boolean"?null:!!(t.endEmitted||e===!1&&t.ended===!0&&t.length===0)}function K1(n){return n&&n[cE]!=null?n[cE]:typeof n?.readable!="boolean"?null:gg(n)?!1:hg(n)&&n.readable&&!Y1(n)}function X1(n){return n&&n[lE]!=null?n[lE]:typeof n?.writable!="boolean"?null:gg(n)?!1:pg(n)&&n.writable&&!q1(n)}function Wz(n,e){return ki(n)?gg(n)?!0:!(e?.readable!==!1&&K1(n)||e?.writable!==!1&&X1(n)):null}function Gz(n){var e,t;return ki(n)?n.writableErrored?n.writableErrored:(e=(t=n._writableState)===null||t===void 0?void 0:t.errored)!==null&&e!==void 0?e:null:null}function zz(n){var e,t;return ki(n)?n.readableErrored?n.readableErrored:(e=(t=n._readableState)===null||t===void 0?void 0:t.errored)!==null&&e!==void 0?e:null:null}function qz(n){if(!ki(n))return null;if(typeof n.closed=="boolean")return n.closed;let e=n._writableState,t=n._readableState;return typeof e?.closed=="boolean"||typeof t?.closed=="boolean"?e?.closed||t?.closed:typeof n._closed=="boolean"&&J1(n)?n._closed:null}function J1(n){return typeof n._closed=="boolean"&&typeof n._defaultKeepAlive=="boolean"&&typeof n._removedConnection=="boolean"&&typeof n._removedContLen=="boolean"}function Q1(n){return typeof n._sent100=="boolean"&&J1(n)}function Yz(n){var e;return typeof n._consuming=="boolean"&&typeof n._dumped=="boolean"&&((e=n.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Kz(n){if(!ki(n))return null;let e=n._writableState,t=n._readableState,i=e||t;return!i&&Q1(n)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function Xz(n){var e;return!!(n&&((e=n[$1])!==null&&e!==void 0?e:n.readableDidRead||n.readableAborted))}function Jz(n){var e,t,i,r,o,s,a,c,l,u;return!!(n&&((e=(t=(i=(r=(o=(s=n[H1])!==null&&s!==void 0?s:n.readableErrored)!==null&&o!==void 0?o:n.writableErrored)!==null&&r!==void 0?r:(a=n._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&i!==void 0?i:(c=n._writableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&t!==void 0?t:(l=n._readableState)===null||l===void 0?void 0:l.errored)!==null&&e!==void 0?e:!((u=n._writableState)===null||u===void 0)&&u.errored))}Z1.exports={isDestroyed:gg,kIsDestroyed:U1,isDisturbed:Xz,kIsDisturbed:$1,isErrored:Jz,kIsErrored:H1,isReadable:K1,kIsReadable:cE,kIsClosedPromise:Fz,kControllerErrorFunction:Bz,kIsWritable:lE,isClosed:qz,isDuplexNodeStream:Vz,isFinished:Wz,isIterable:Uz,isReadableNodeStream:hg,isReadableStream:W1,isReadableEnded:$z,isReadableFinished:Y1,isReadableErrored:zz,isNodeStream:ki,isWebStream:jz,isWritable:X1,isWritableNodeStream:pg,isWritableStream:G1,isWritableEnded:q1,isWritableFinished:Hz,isWritableErrored:Gz,isServerRequest:Yz,isServerResponse:Q1,willEmitClose:Kz,isTransformStream:z1}});var vr=ye((Cde,pE)=>{"use strict";var to=eo(),{AbortError:ck,codes:Qz}=Pt(),{ERR_INVALID_ARG_TYPE:Zz,ERR_STREAM_PREMATURE_CLOSE:ek}=Qz,{kEmptyObject:dE,once:fE}=Ht(),{validateAbortSignal:e5,validateFunction:t5,validateObject:n5,validateBoolean:i5}=sc(),{Promise:r5,PromisePrototypeThen:o5,SymbolDispose:lk}=Fe(),{isClosed:s5,isReadable:tk,isReadableNodeStream:uE,isReadableStream:a5,isReadableFinished:nk,isReadableErrored:ik,isWritable:rk,isWritableNodeStream:ok,isWritableStream:c5,isWritableFinished:sk,isWritableErrored:ak,isNodeStream:l5,willEmitClose:u5,kIsClosedPromise:d5}=Ni(),cc;function f5(n){return n.setHeader&&typeof n.abort=="function"}var hE=()=>{};function uk(n,e,t){var i,r;if(arguments.length===2?(t=e,e=dE):e==null?e=dE:n5(e,"options"),t5(t,"callback"),e5(e.signal,"options.signal"),t=fE(t),a5(n)||c5(n))return h5(n,e,t);if(!l5(n))throw new Zz("stream",["ReadableStream","WritableStream","Stream"],n);let o=(i=e.readable)!==null&&i!==void 0?i:uE(n),s=(r=e.writable)!==null&&r!==void 0?r:ok(n),a=n._writableState,c=n._readableState,l=()=>{n.writable||h()},u=u5(n)&&uE(n)===o&&ok(n)===s,d=sk(n,!1),h=()=>{d=!0,n.destroyed&&(u=!1),!(u&&(!n.readable||o))&&(!o||f)&&t.call(n)},f=nk(n,!1),b=()=>{f=!0,n.destroyed&&(u=!1),!(u&&(!n.writable||s))&&(!s||d)&&t.call(n)},v=ge=>{t.call(n,ge)},I=s5(n),R=()=>{I=!0;let ge=ak(n)||ik(n);if(ge&&typeof ge!="boolean")return t.call(n,ge);if(o&&!f&&uE(n,!0)&&!nk(n,!1))return t.call(n,new ek);if(s&&!d&&!sk(n,!1))return t.call(n,new ek);t.call(n)},G=()=>{I=!0;let ge=ak(n)||ik(n);if(ge&&typeof ge!="boolean")return t.call(n,ge);t.call(n)},K=()=>{n.req.on("finish",h)};f5(n)?(n.on("complete",h),u||n.on("abort",R),n.req?K():n.on("request",K)):s&&!a&&(n.on("end",l),n.on("close",l)),!u&&typeof n.aborted=="boolean"&&n.on("aborted",R),n.on("end",b),n.on("finish",h),e.error!==!1&&n.on("error",v),n.on("close",R),I?to.nextTick(R):a!=null&&a.errorEmitted||c!=null&&c.errorEmitted?u||to.nextTick(G):(!o&&(!u||tk(n))&&(d||rk(n)===!1)||!s&&(!u||rk(n))&&(f||tk(n)===!1)||c&&n.req&&n.aborted)&&to.nextTick(G);let te=()=>{t=hE,n.removeListener("aborted",R),n.removeListener("complete",h),n.removeListener("abort",R),n.removeListener("request",K),n.req&&n.req.removeListener("finish",h),n.removeListener("end",l),n.removeListener("close",l),n.removeListener("finish",h),n.removeListener("end",b),n.removeListener("error",v),n.removeListener("close",R)};if(e.signal&&!I){let ge=()=>{let Rt=t;te(),Rt.call(n,new ck(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)to.nextTick(ge);else{cc=cc||Ht().addAbortListener;let Rt=cc(e.signal,ge),_n=t;t=fE((...As)=>{Rt[lk](),_n.apply(n,As)})}}return te}function h5(n,e,t){let i=!1,r=hE;if(e.signal)if(r=()=>{i=!0,t.call(n,new ck(void 0,{cause:e.signal.reason}))},e.signal.aborted)to.nextTick(r);else{cc=cc||Ht().addAbortListener;let s=cc(e.signal,r),a=t;t=fE((...c)=>{s[lk](),a.apply(n,c)})}let o=(...s)=>{i||to.nextTick(()=>t.apply(n,s))};return o5(n[d5].promise,o,o),hE}function p5(n,e){var t;let i=!1;return e===null&&(e=dE),(t=e)!==null&&t!==void 0&&t.cleanup&&(i5(e.cleanup,"cleanup"),i=e.cleanup),new r5((r,o)=>{let s=uk(n,e,a=>{i&&s(),a?o(a):r()})})}pE.exports=uk;pE.exports.finished=p5});var ps=ye((Dde,_k)=>{"use strict";var Oi=eo(),{aggregateTwoErrors:g5,codes:{ERR_MULTIPLE_CALLBACK:m5},AbortError:y5}=Pt(),{Symbol:hk}=Fe(),{kIsDestroyed:_5,isDestroyed:v5,isFinished:b5,isServerRequest:w5}=Ni(),pk=hk("kDestroy"),gE=hk("kConstruct");function gk(n,e,t){n&&(n.stack,e&&!e.errored&&(e.errored=n),t&&!t.errored&&(t.errored=n))}function E5(n,e){let t=this._readableState,i=this._writableState,r=i||t;return i!=null&&i.destroyed||t!=null&&t.destroyed?(typeof e=="function"&&e(),this):(gk(n,i,t),i&&(i.destroyed=!0),t&&(t.destroyed=!0),r.constructed?dk(this,n,e):this.once(pk,function(o){dk(this,g5(o,n),e)}),this)}function dk(n,e,t){let i=!1;function r(o){if(i)return;i=!0;let s=n._readableState,a=n._writableState;gk(o,a,s),a&&(a.closed=!0),s&&(s.closed=!0),typeof t=="function"&&t(o),o?Oi.nextTick(I5,n,o):Oi.nextTick(mk,n)}try{n._destroy(e||null,r)}catch(o){r(o)}}function I5(n,e){mE(n,e),mk(n)}function mk(n){let e=n._readableState,t=n._writableState;t&&(t.closeEmitted=!0),e&&(e.closeEmitted=!0),(t!=null&&t.emitClose||e!=null&&e.emitClose)&&n.emit("close")}function mE(n,e){let t=n._readableState,i=n._writableState;i!=null&&i.errorEmitted||t!=null&&t.errorEmitted||(i&&(i.errorEmitted=!0),t&&(t.errorEmitted=!0),n.emit("error",e))}function C5(){let n=this._readableState,e=this._writableState;n&&(n.constructed=!0,n.closed=!1,n.closeEmitted=!1,n.destroyed=!1,n.errored=null,n.errorEmitted=!1,n.reading=!1,n.ended=n.readable===!1,n.endEmitted=n.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function yE(n,e,t){let i=n._readableState,r=n._writableState;if(r!=null&&r.destroyed||i!=null&&i.destroyed)return this;i!=null&&i.autoDestroy||r!=null&&r.autoDestroy?n.destroy(e):e&&(e.stack,r&&!r.errored&&(r.errored=e),i&&!i.errored&&(i.errored=e),t?Oi.nextTick(mE,n,e):mE(n,e))}function D5(n,e){if(typeof n._construct!="function")return;let t=n._readableState,i=n._writableState;t&&(t.constructed=!1),i&&(i.constructed=!1),n.once(gE,e),!(n.listenerCount(gE)>1)&&Oi.nextTick(S5,n)}function S5(n){let e=!1;function t(i){if(e){yE(n,i??new m5);return}e=!0;let r=n._readableState,o=n._writableState,s=o||r;r&&(r.constructed=!0),o&&(o.constructed=!0),s.destroyed?n.emit(pk,i):i?yE(n,i,!0):Oi.nextTick(T5,n)}try{n._construct(i=>{Oi.nextTick(t,i)})}catch(i){Oi.nextTick(t,i)}}function T5(n){n.emit(gE)}function fk(n){return n?.setHeader&&typeof n.abort=="function"}function yk(n){n.emit("close")}function A5(n,e){n.emit("error",e),Oi.nextTick(yk,n)}function R5(n,e){!n||v5(n)||(!e&&!b5(n)&&(e=new y5),w5(n)?(n.socket=null,n.destroy(e)):fk(n)?n.abort():fk(n.req)?n.req.abort():typeof n.destroy=="function"?n.destroy(e):typeof n.close=="function"?n.close():e?Oi.nextTick(A5,n,e):Oi.nextTick(yk,n),n.destroyed||(n[_5]=!0))}_k.exports={construct:D5,destroyer:R5,destroy:E5,undestroy:C5,errorOrDestroy:yE}});var _g=ye((Sde,bk)=>{"use strict";var{ArrayIsArray:x5,ObjectSetPrototypeOf:vk}=Fe(),{EventEmitter:mg}=Nu();function yg(n){mg.call(this,n)}vk(yg.prototype,mg.prototype);vk(yg,mg);yg.prototype.pipe=function(n,e){let t=this;function i(u){n.writable&&n.write(u)===!1&&t.pause&&t.pause()}t.on("data",i);function r(){t.readable&&t.resume&&t.resume()}n.on("drain",r),!n._isStdio&&(!e||e.end!==!1)&&(t.on("end",s),t.on("close",a));let o=!1;function s(){o||(o=!0,n.end())}function a(){o||(o=!0,typeof n.destroy=="function"&&n.destroy())}function c(u){l(),mg.listenerCount(this,"error")===0&&this.emit("error",u)}_E(t,"error",c),_E(n,"error",c);function l(){t.removeListener("data",i),n.removeListener("drain",r),t.removeListener("end",s),t.removeListener("close",a),t.removeListener("error",c),n.removeListener("error",c),t.removeListener("end",l),t.removeListener("close",l),n.removeListener("close",l)}return t.on("end",l),t.on("close",l),n.on("close",l),n.emit("pipe",t),n};function _E(n,e,t){if(typeof n.prependListener=="function")return n.prependListener(e,t);!n._events||!n._events[e]?n.on(e,t):x5(n._events[e])?n._events[e].unshift(t):n._events[e]=[t,n._events[e]]}bk.exports={Stream:yg,prependListener:_E}});var Ou=ye((Tde,vg)=>{"use strict";var{SymbolDispose:M5}=Fe(),{AbortError:wk,codes:k5}=Pt(),{isNodeStream:Ek,isWebStream:N5,kControllerErrorFunction:O5}=Ni(),P5=vr(),{ERR_INVALID_ARG_TYPE:Ik}=k5,vE,L5=(n,e)=>{if(typeof n!="object"||!("aborted"in n))throw new Ik(e,"AbortSignal",n)};vg.exports.addAbortSignal=function(e,t){if(L5(e,"signal"),!Ek(t)&&!N5(t))throw new Ik("stream",["ReadableStream","WritableStream","Stream"],t);return vg.exports.addAbortSignalNoValidate(e,t)};vg.exports.addAbortSignalNoValidate=function(n,e){if(typeof n!="object"||!("aborted"in n))return e;let t=Ek(e)?()=>{e.destroy(new wk(void 0,{cause:n.reason}))}:()=>{e[O5](new wk(void 0,{cause:n.reason}))};if(n.aborted)t();else{vE=vE||Ht().addAbortListener;let i=vE(n,t);P5(e,i[M5])}return e}});var Sk=ye((Rde,Dk)=>{"use strict";var{StringPrototypeSlice:Ck,SymbolIterator:F5,TypedArrayPrototypeSet:bg,Uint8Array:B5}=Fe(),{Buffer:bE}=Zr(),{inspect:V5}=Ht();Dk.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let t=this.head,i=""+t.data;for(;(t=t.next)!==null;)i+=e+t.data;return i}concat(e){if(this.length===0)return bE.alloc(0);let t=bE.allocUnsafe(e>>>0),i=this.head,r=0;for(;i;)bg(t,i.data,r),r+=i.data.length,i=i.next;return t}consume(e,t){let i=this.head.data;if(e<i.length){let r=i.slice(0,e);return this.head.data=i.slice(e),r}return e===i.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[F5](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",i=this.head,r=0;do{let o=i.data;if(e>o.length)t+=o,e-=o.length;else{e===o.length?(t+=o,++r,i.next?this.head=i.next:this.head=this.tail=null):(t+=Ck(o,0,e),this.head=i,i.data=Ck(o,e));break}++r}while((i=i.next)!==null);return this.length-=r,t}_getBuffer(e){let t=bE.allocUnsafe(e),i=e,r=this.head,o=0;do{let s=r.data;if(e>s.length)bg(t,s,i-e),e-=s.length;else{e===s.length?(bg(t,s,i-e),++o,r.next?this.head=r.next:this.head=this.tail=null):(bg(t,new B5(s.buffer,s.byteOffset,e),i-e),this.head=r,r.data=s.slice(e));break}++o}while((r=r.next)!==null);return this.length-=o,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return V5(this,$(E({},t),{depth:0,customInspect:!1}))}}});var Pu=ye((Mde,xk)=>{"use strict";var{MathFloor:j5,NumberIsInteger:U5}=Fe(),{validateInteger:H5}=sc(),{ERR_INVALID_ARG_VALUE:$5}=Pt().codes,Tk=16*1024,Ak=16;function W5(n,e,t){return n.highWaterMark!=null?n.highWaterMark:e?n[t]:null}function Rk(n){return n?Ak:Tk}function G5(n,e){H5(e,"value",0),n?Ak=e:Tk=e}function z5(n,e,t,i){let r=W5(e,i,t);if(r!=null){if(!U5(r)||r<0){let o=i?`options.${t}`:"options.highWaterMark";throw new $5(o,r)}return j5(r)}return Rk(n.objectMode)}xk.exports={getHighWaterMark:z5,getDefaultHighWaterMark:Rk,setDefaultHighWaterMark:G5}});var $k=ye(uc=>{"use strict";var wE=Vw(),lc=Uw(),Mk=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;uc.Buffer=A;uc.SlowBuffer=Q5;uc.INSPECT_MAX_BYTES=50;var wg=2147483647;uc.kMaxLength=wg;A.TYPED_ARRAY_SUPPORT=q5();!A.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function q5(){try{var n=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(n,e),n.foo()===42}catch{return!1}}Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}});Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}});function br(n){if(n>wg)throw new RangeError('The value "'+n+'" is invalid for option "size"');var e=new Uint8Array(n);return Object.setPrototypeOf(e,A.prototype),e}function A(n,e,t){if(typeof n=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return DE(n)}return Ok(n,e,t)}A.poolSize=8192;function Ok(n,e,t){if(typeof n=="string")return K5(n,e);if(ArrayBuffer.isView(n))return X5(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(Pi(n,ArrayBuffer)||n&&Pi(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Pi(n,SharedArrayBuffer)||n&&Pi(n.buffer,SharedArrayBuffer)))return IE(n,e,t);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=n.valueOf&&n.valueOf();if(i!=null&&i!==n)return A.from(i,e,t);var r=J5(n);if(r)return r;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return A.from(n[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}A.from=function(n,e,t){return Ok(n,e,t)};Object.setPrototypeOf(A.prototype,Uint8Array.prototype);Object.setPrototypeOf(A,Uint8Array);function Pk(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function Y5(n,e,t){return Pk(n),n<=0?br(n):e!==void 0?typeof t=="string"?br(n).fill(e,t):br(n).fill(e):br(n)}A.alloc=function(n,e,t){return Y5(n,e,t)};function DE(n){return Pk(n),br(n<0?0:SE(n)|0)}A.allocUnsafe=function(n){return DE(n)};A.allocUnsafeSlow=function(n){return DE(n)};function K5(n,e){if((typeof e!="string"||e==="")&&(e="utf8"),!A.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=Lk(n,e)|0,i=br(t),r=i.write(n,e);return r!==t&&(i=i.slice(0,r)),i}function EE(n){for(var e=n.length<0?0:SE(n.length)|0,t=br(e),i=0;i<e;i+=1)t[i]=n[i]&255;return t}function X5(n){if(Pi(n,Uint8Array)){var e=new Uint8Array(n);return IE(e.buffer,e.byteOffset,e.byteLength)}return EE(n)}function IE(n,e,t){if(e<0||n.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(n):t===void 0?i=new Uint8Array(n,e):i=new Uint8Array(n,e,t),Object.setPrototypeOf(i,A.prototype),i}function J5(n){if(A.isBuffer(n)){var e=SE(n.length)|0,t=br(e);return t.length===0||n.copy(t,0,0,e),t}if(n.length!==void 0)return typeof n.length!="number"||TE(n.length)?br(0):EE(n);if(n.type==="Buffer"&&Array.isArray(n.data))return EE(n.data)}function SE(n){if(n>=wg)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+wg.toString(16)+" bytes");return n|0}function Q5(n){return+n!=n&&(n=0),A.alloc(+n)}A.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==A.prototype};A.compare=function(e,t){if(Pi(e,Uint8Array)&&(e=A.from(e,e.offset,e.byteLength)),Pi(t,Uint8Array)&&(t=A.from(t,t.offset,t.byteLength)),!A.isBuffer(e)||!A.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,r=t.length,o=0,s=Math.min(i,r);o<s;++o)if(e[o]!==t[o]){i=e[o],r=t[o];break}return i<r?-1:r<i?1:0};A.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};A.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return A.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=A.allocUnsafe(t),o=0;for(i=0;i<e.length;++i){var s=e[i];if(Pi(s,Uint8Array))o+s.length>r.length?A.from(s).copy(r,o):Uint8Array.prototype.set.call(r,s,o);else if(A.isBuffer(s))s.copy(r,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return r};function Lk(n,e){if(A.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||Pi(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);var t=n.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return CE(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Hk(n).length;default:if(r)return i?-1:CE(n).length;e=(""+e).toLowerCase(),r=!0}}A.byteLength=Lk;function Z5(n,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(n||(n="utf8");;)switch(n){case"hex":return lq(this,e,t);case"utf8":case"utf-8":return Bk(this,e,t);case"ascii":return aq(this,e,t);case"latin1":case"binary":return cq(this,e,t);case"base64":return oq(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return uq(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),i=!0}}A.prototype._isBuffer=!0;function gs(n,e,t){var i=n[e];n[e]=n[t],n[t]=i}A.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)gs(this,t,t+1);return this};A.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)gs(this,t,t+3),gs(this,t+1,t+2);return this};A.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)gs(this,t,t+7),gs(this,t+1,t+6),gs(this,t+2,t+5),gs(this,t+3,t+4);return this};A.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?Bk(this,0,e):Z5.apply(this,arguments)};A.prototype.toLocaleString=A.prototype.toString;A.prototype.equals=function(e){if(!A.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:A.compare(this,e)===0};A.prototype.inspect=function(){var e="",t=uc.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Mk&&(A.prototype[Mk]=A.prototype.inspect);A.prototype.compare=function(e,t,i,r,o){if(Pi(e,Uint8Array)&&(e=A.from(e,e.offset,e.byteLength)),!A.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),r===void 0&&(r=0),o===void 0&&(o=this.length),t<0||i>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=i)return 0;if(r>=o)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var s=o-r,a=i-t,c=Math.min(s,a),l=this.slice(r,o),u=e.slice(t,i),d=0;d<c;++d)if(l[d]!==u[d]){s=l[d],a=u[d];break}return s<a?-1:a<s?1:0};function Fk(n,e,t,i,r){if(n.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,TE(t)&&(t=r?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(r)return-1;t=n.length-1}else if(t<0)if(r)t=0;else return-1;if(typeof e=="string"&&(e=A.from(e,i)),A.isBuffer(e))return e.length===0?-1:kk(n,e,t,i,r);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?r?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):kk(n,[e],t,i,r);throw new TypeError("val must be string, number or Buffer")}function kk(n,e,t,i,r){var o=1,s=n.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(n.length<2||e.length<2)return-1;o=2,s/=2,a/=2,t/=2}function c(f,b){return o===1?f[b]:f.readUInt16BE(b*o)}var l;if(r){var u=-1;for(l=t;l<s;l++)if(c(n,l)===c(e,u===-1?0:l-u)){if(u===-1&&(u=l),l-u+1===a)return u*o}else u!==-1&&(l-=l-u),u=-1}else for(t+a>s&&(t=s-a),l=t;l>=0;l--){for(var d=!0,h=0;h<a;h++)if(c(n,l+h)!==c(e,h)){d=!1;break}if(d)return l}return-1}A.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};A.prototype.indexOf=function(e,t,i){return Fk(this,e,t,i,!0)};A.prototype.lastIndexOf=function(e,t,i){return Fk(this,e,t,i,!1)};function eq(n,e,t,i){t=Number(t)||0;var r=n.length-t;i?(i=Number(i),i>r&&(i=r)):i=r;var o=e.length;i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(s*2,2),16);if(TE(a))return s;n[t+s]=a}return s}function tq(n,e,t,i){return Eg(CE(e,n.length-t),n,t,i)}function nq(n,e,t,i){return Eg(hq(e),n,t,i)}function iq(n,e,t,i){return Eg(Hk(e),n,t,i)}function rq(n,e,t,i){return Eg(pq(e,n.length-t),n,t,i)}A.prototype.write=function(e,t,i,r){if(t===void 0)r="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")r=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,r===void 0&&(r="utf8")):(r=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-t;if((i===void 0||i>o)&&(i=o),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return eq(this,e,t,i);case"utf8":case"utf-8":return tq(this,e,t,i);case"ascii":case"latin1":case"binary":return nq(this,e,t,i);case"base64":return iq(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rq(this,e,t,i);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}};A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oq(n,e,t){return e===0&&t===n.length?wE.fromByteArray(n):wE.fromByteArray(n.slice(e,t))}function Bk(n,e,t){t=Math.min(n.length,t);for(var i=[],r=e;r<t;){var o=n[r],s=null,a=o>239?4:o>223?3:o>191?2:1;if(r+a<=t){var c,l,u,d;switch(a){case 1:o<128&&(s=o);break;case 2:c=n[r+1],(c&192)===128&&(d=(o&31)<<6|c&63,d>127&&(s=d));break;case 3:c=n[r+1],l=n[r+2],(c&192)===128&&(l&192)===128&&(d=(o&15)<<12|(c&63)<<6|l&63,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:c=n[r+1],l=n[r+2],u=n[r+3],(c&192)===128&&(l&192)===128&&(u&192)===128&&(d=(o&15)<<18|(c&63)<<12|(l&63)<<6|u&63,d>65535&&d<1114112&&(s=d))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|s&1023),i.push(s),r+=a}return sq(i)}var Nk=4096;function sq(n){var e=n.length;if(e<=Nk)return String.fromCharCode.apply(String,n);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,n.slice(i,i+=Nk));return t}function aq(n,e,t){var i="";t=Math.min(n.length,t);for(var r=e;r<t;++r)i+=String.fromCharCode(n[r]&127);return i}function cq(n,e,t){var i="";t=Math.min(n.length,t);for(var r=e;r<t;++r)i+=String.fromCharCode(n[r]);return i}function lq(n,e,t){var i=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var r="",o=e;o<t;++o)r+=gq[n[o]];return r}function uq(n,e,t){for(var i=n.slice(e,t),r="",o=0;o<i.length-1;o+=2)r+=String.fromCharCode(i[o]+i[o+1]*256);return r}A.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,A.prototype),r};function wt(n,e,t){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}A.prototype.readUintLE=A.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||wt(e,t,this.length);for(var r=this[e],o=1,s=0;++s<t&&(o*=256);)r+=this[e+s]*o;return r};A.prototype.readUintBE=A.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||wt(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r};A.prototype.readUint8=A.prototype.readUInt8=function(e,t){return e=e>>>0,t||wt(e,1,this.length),this[e]};A.prototype.readUint16LE=A.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||wt(e,2,this.length),this[e]|this[e+1]<<8};A.prototype.readUint16BE=A.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||wt(e,2,this.length),this[e]<<8|this[e+1]};A.prototype.readUint32LE=A.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||wt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};A.prototype.readUint32BE=A.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||wt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};A.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||wt(e,t,this.length);for(var r=this[e],o=1,s=0;++s<t&&(o*=256);)r+=this[e+s]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r};A.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||wt(e,t,this.length);for(var r=t,o=1,s=this[e+--r];r>0&&(o*=256);)s+=this[e+--r]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*t)),s};A.prototype.readInt8=function(e,t){return e=e>>>0,t||wt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};A.prototype.readInt16LE=function(e,t){e=e>>>0,t||wt(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};A.prototype.readInt16BE=function(e,t){e=e>>>0,t||wt(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};A.prototype.readInt32LE=function(e,t){return e=e>>>0,t||wt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};A.prototype.readInt32BE=function(e,t){return e=e>>>0,t||wt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};A.prototype.readFloatLE=function(e,t){return e=e>>>0,t||wt(e,4,this.length),lc.read(this,e,!0,23,4)};A.prototype.readFloatBE=function(e,t){return e=e>>>0,t||wt(e,4,this.length),lc.read(this,e,!1,23,4)};A.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||wt(e,8,this.length),lc.read(this,e,!0,52,8)};A.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||wt(e,8,this.length),lc.read(this,e,!1,52,8)};function nn(n,e,t,i,r,o){if(!A.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(t+i>n.length)throw new RangeError("Index out of range")}A.prototype.writeUintLE=A.prototype.writeUIntLE=function(e,t,i,r){if(e=+e,t=t>>>0,i=i>>>0,!r){var o=Math.pow(2,8*i)-1;nn(this,e,t,i,o,0)}var s=1,a=0;for(this[t]=e&255;++a<i&&(s*=256);)this[t+a]=e/s&255;return t+i};A.prototype.writeUintBE=A.prototype.writeUIntBE=function(e,t,i,r){if(e=+e,t=t>>>0,i=i>>>0,!r){var o=Math.pow(2,8*i)-1;nn(this,e,t,i,o,0)}var s=i-1,a=1;for(this[t+s]=e&255;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+i};A.prototype.writeUint8=A.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||nn(this,e,t,1,255,0),this[t]=e&255,t+1};A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||nn(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||nn(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||nn(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||nn(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};A.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t=t>>>0,!r){var o=Math.pow(2,8*i-1);nn(this,e,t,i,o-1,-o)}var s=0,a=1,c=0;for(this[t]=e&255;++s<i&&(a*=256);)e<0&&c===0&&this[t+s-1]!==0&&(c=1),this[t+s]=(e/a>>0)-c&255;return t+i};A.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t=t>>>0,!r){var o=Math.pow(2,8*i-1);nn(this,e,t,i,o-1,-o)}var s=i-1,a=1,c=0;for(this[t+s]=e&255;--s>=0&&(a*=256);)e<0&&c===0&&this[t+s+1]!==0&&(c=1),this[t+s]=(e/a>>0)-c&255;return t+i};A.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||nn(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};A.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||nn(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};A.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||nn(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};A.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||nn(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};A.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||nn(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function Vk(n,e,t,i,r,o){if(t+i>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function jk(n,e,t,i,r){return e=+e,t=t>>>0,r||Vk(n,e,t,4,34028234663852886e22,-34028234663852886e22),lc.write(n,e,t,i,23,4),t+4}A.prototype.writeFloatLE=function(e,t,i){return jk(this,e,t,!0,i)};A.prototype.writeFloatBE=function(e,t,i){return jk(this,e,t,!1,i)};function Uk(n,e,t,i,r){return e=+e,t=t>>>0,r||Vk(n,e,t,8,17976931348623157e292,-17976931348623157e292),lc.write(n,e,t,i,52,8),t+8}A.prototype.writeDoubleLE=function(e,t,i){return Uk(this,e,t,!0,i)};A.prototype.writeDoubleBE=function(e,t,i){return Uk(this,e,t,!1,i)};A.prototype.copy=function(e,t,i,r){if(!A.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!r&&r!==0&&(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var o=r-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,r):Uint8Array.prototype.set.call(e,this.subarray(i,r),t),o};A.prototype.fill=function(e,t,i,r){if(typeof e=="string"){if(typeof t=="string"?(r=t,t=0,i=this.length):typeof i=="string"&&(r=i,i=this.length),r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!A.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(e.length===1){var o=e.charCodeAt(0);(r==="utf8"&&o<128||r==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var s;if(typeof e=="number")for(s=t;s<i;++s)this[s]=e;else{var a=A.isBuffer(e)?e:A.from(e,r),c=a.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=a[s%c]}return this};var dq=/[^+/0-9A-Za-z-_]/g;function fq(n){if(n=n.split("=")[0],n=n.trim().replace(dq,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function CE(n,e){e=e||1/0;for(var t,i=n.length,r=null,o=[],s=0;s<i;++s){if(t=n.charCodeAt(s),t>55295&&t<57344){if(!r){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),r=t;continue}t=(r-55296<<10|t-56320)+65536}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function hq(n){for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t)&255);return e}function pq(n,e){for(var t,i,r,o=[],s=0;s<n.length&&!((e-=2)<0);++s)t=n.charCodeAt(s),i=t>>8,r=t%256,o.push(r),o.push(i);return o}function Hk(n){return wE.toByteArray(fq(n))}function Eg(n,e,t,i){for(var r=0;r<i&&!(r+t>=e.length||r>=n.length);++r)e[r+t]=n[r];return r}function Pi(n,e){return n instanceof e||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===e.name}function TE(n){return n!==n}var gq=function(){for(var n="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,r=0;r<16;++r)e[i+r]=n[t]+n[r];return e}()});var zk=ye((AE,Gk)=>{"use strict";var Ig=$k(),Li=Ig.Buffer;function Wk(n,e){for(var t in n)e[t]=n[t]}Li.from&&Li.alloc&&Li.allocUnsafe&&Li.allocUnsafeSlow?Gk.exports=Ig:(Wk(Ig,AE),AE.Buffer=ms);function ms(n,e,t){return Li(n,e,t)}ms.prototype=Object.create(Li.prototype);Wk(Li,ms);ms.from=function(n,e,t){if(typeof n=="number")throw new TypeError("Argument must not be a number");return Li(n,e,t)};ms.alloc=function(n,e,t){if(typeof n!="number")throw new TypeError("Argument must be a number");var i=Li(n);return e!==void 0?typeof t=="string"?i.fill(e,t):i.fill(e):i.fill(0),i};ms.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return Li(n)};ms.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return Ig.SlowBuffer(n)}});var Kk=ye(Yk=>{"use strict";var xE=zk().Buffer,qk=xE.isEncoding||function(n){switch(n=""+n,n&&n.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function mq(n){if(!n)return"utf8";for(var e;;)switch(n){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return n;default:if(e)return;n=(""+n).toLowerCase(),e=!0}}function yq(n){var e=mq(n);if(typeof e!="string"&&(xE.isEncoding===qk||!qk(n)))throw new Error("Unknown encoding: "+n);return e||n}Yk.StringDecoder=Lu;function Lu(n){this.encoding=yq(n);var e;switch(this.encoding){case"utf16le":this.text=Iq,this.end=Cq,e=4;break;case"utf8":this.fillLast=bq,e=4;break;case"base64":this.text=Dq,this.end=Sq,e=3;break;default:this.write=Tq,this.end=Aq;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=xE.allocUnsafe(e)}Lu.prototype.write=function(n){if(n.length===0)return"";var e,t;if(this.lastNeed){if(e=this.fillLast(n),e===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<n.length?e?e+this.text(n,t):this.text(n,t):e||""};Lu.prototype.end=Eq;Lu.prototype.text=wq;Lu.prototype.fillLast=function(n){if(this.lastNeed<=n.length)return n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,n.length),this.lastNeed-=n.length};function RE(n){return n<=127?0:n>>5===6?2:n>>4===14?3:n>>3===30?4:n>>6===2?-1:-2}function _q(n,e,t){var i=e.length-1;if(i<t)return 0;var r=RE(e[i]);return r>=0?(r>0&&(n.lastNeed=r-1),r):--i<t||r===-2?0:(r=RE(e[i]),r>=0?(r>0&&(n.lastNeed=r-2),r):--i<t||r===-2?0:(r=RE(e[i]),r>=0?(r>0&&(r===2?r=0:n.lastNeed=r-3),r):0))}function vq(n,e,t){if((e[0]&192)!==128)return n.lastNeed=0,"\uFFFD";if(n.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return n.lastNeed=1,"\uFFFD";if(n.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return n.lastNeed=2,"\uFFFD"}}function bq(n){var e=this.lastTotal-this.lastNeed,t=vq(this,n,e);if(t!==void 0)return t;if(this.lastNeed<=n.length)return n.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,e,0,n.length),this.lastNeed-=n.length}function wq(n,e){var t=_q(this,n,e);if(!this.lastNeed)return n.toString("utf8",e);this.lastTotal=t;var i=n.length-(t-this.lastNeed);return n.copy(this.lastChar,0,i),n.toString("utf8",e,i)}function Eq(n){var e=n&&n.length?this.write(n):"";return this.lastNeed?e+"\uFFFD":e}function Iq(n,e){if((n.length-e)%2===0){var t=n.toString("utf16le",e);if(t){var i=t.charCodeAt(t.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=n[n.length-1],n.toString("utf16le",e,n.length-1)}function Cq(n){var e=n&&n.length?this.write(n):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,t)}return e}function Dq(n,e){var t=(n.length-e)%3;return t===0?n.toString("base64",e):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=n[n.length-1]:(this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1]),n.toString("base64",e,n.length-t))}function Sq(n){var e=n&&n.length?this.write(n):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Tq(n){return n.toString(this.encoding)}function Aq(n){return n&&n.length?this.write(n):""}});var ME=ye((Ode,Zk)=>{"use strict";var Xk=eo(),{PromisePrototypeThen:Rq,SymbolAsyncIterator:Jk,SymbolIterator:Qk}=Fe(),{Buffer:xq}=Zr(),{ERR_INVALID_ARG_TYPE:Mq,ERR_STREAM_NULL_VALUES:kq}=Pt().codes;function Nq(n,e,t){let i;if(typeof e=="string"||e instanceof xq)return new n($(E({objectMode:!0},t),{read(){this.push(e),this.push(null)}}));let r;if(e&&e[Jk])r=!0,i=e[Jk]();else if(e&&e[Qk])r=!1,i=e[Qk]();else throw new Mq("iterable",["Iterable"],e);let o=new n(E({objectMode:!0,highWaterMark:1},t)),s=!1;o._read=function(){s||(s=!0,c())},o._destroy=function(l,u){Rq(a(l),()=>Xk.nextTick(u,l),d=>Xk.nextTick(u,d||l))};function a(l){return p(this,null,function*(){let u=l!=null,d=typeof i.throw=="function";if(u&&d){let{value:h,done:f}=yield i.throw(l);if(yield h,f)return}if(typeof i.return=="function"){let{value:h}=yield i.return();yield h}})}function c(){return p(this,null,function*(){for(;;){try{let{value:l,done:u}=r?yield i.next():i.next();if(u)o.push(null);else{let d=l&&typeof l.then=="function"?yield l:l;if(d===null)throw s=!1,new kq;if(o.push(d))continue;s=!1}}catch(l){o.destroy(l)}break}})}return o}Zk.exports=Nq});var Bu=ye((Lde,yN)=>{"use strict";var ti=eo(),{ArrayPrototypeIndexOf:Oq,NumberIsInteger:Pq,NumberIsNaN:Lq,NumberParseInt:Fq,ObjectDefineProperties:VE,ObjectKeys:Bq,ObjectSetPrototypeOf:nN,Promise:iN,SafeSet:Vq,SymbolAsyncDispose:jq,SymbolAsyncIterator:Uq,Symbol:Hq}=Fe();yN.exports=de;de.ReadableState=Tg;var{EventEmitter:$q}=Nu(),{Stream:no,prependListener:Wq}=_g(),{Buffer:kE}=Zr(),{addAbortSignal:Gq}=Ou(),rN=vr(),me=Ht().debuglog("stream",n=>{me=n}),zq=Sk(),hc=ps(),{getHighWaterMark:qq,getDefaultHighWaterMark:Yq}=Pu(),{aggregateTwoErrors:eN,codes:{ERR_INVALID_ARG_TYPE:Kq,ERR_METHOD_NOT_IMPLEMENTED:Xq,ERR_OUT_OF_RANGE:Jq,ERR_STREAM_PUSH_AFTER_EOF:Qq,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Zq},AbortError:e7}=Pt(),{validateObject:t7}=sc(),ys=Hq("kPaused"),{StringDecoder:oN}=Kk(),n7=ME();nN(de.prototype,no.prototype);nN(de,no);var NE=()=>{},{errorOrDestroy:dc}=hc,fc=1,i7=2,sN=4,Fu=8,aN=16,Cg=32,Dg=64,cN=128,r7=256,o7=512,s7=1024,FE=2048,BE=4096,a7=8192,c7=16384,l7=32768,lN=65536,u7=1<<17,d7=1<<18;function dt(n){return{enumerable:!1,get(){return(this.state&n)!==0},set(e){e?this.state|=n:this.state&=~n}}}VE(Tg.prototype,{objectMode:dt(fc),ended:dt(i7),endEmitted:dt(sN),reading:dt(Fu),constructed:dt(aN),sync:dt(Cg),needReadable:dt(Dg),emittedReadable:dt(cN),readableListening:dt(r7),resumeScheduled:dt(o7),errorEmitted:dt(s7),emitClose:dt(FE),autoDestroy:dt(BE),destroyed:dt(a7),closed:dt(c7),closeEmitted:dt(l7),multiAwaitDrain:dt(lN),readingMore:dt(u7),dataEmitted:dt(d7)});function Tg(n,e,t){typeof t!="boolean"&&(t=e instanceof Fi()),this.state=FE|BE|aN|Cg,n&&n.objectMode&&(this.state|=fc),t&&n&&n.readableObjectMode&&(this.state|=fc),this.highWaterMark=n?qq(this,n,"readableHighWaterMark",t):Yq(!1),this.buffer=new zq,this.length=0,this.pipes=[],this.flowing=null,this[ys]=null,n&&n.emitClose===!1&&(this.state&=~FE),n&&n.autoDestroy===!1&&(this.state&=~BE),this.errored=null,this.defaultEncoding=n&&n.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,n&&n.encoding&&(this.decoder=new oN(n.encoding),this.encoding=n.encoding)}function de(n){if(!(this instanceof de))return new de(n);let e=this instanceof Fi();this._readableState=new Tg(n,this,e),n&&(typeof n.read=="function"&&(this._read=n.read),typeof n.destroy=="function"&&(this._destroy=n.destroy),typeof n.construct=="function"&&(this._construct=n.construct),n.signal&&!e&&Gq(n.signal,this)),no.call(this,n),hc.construct(this,()=>{this._readableState.needReadable&&Sg(this,this._readableState)})}de.prototype.destroy=hc.destroy;de.prototype._undestroy=hc.undestroy;de.prototype._destroy=function(n,e){e(n)};de.prototype[$q.captureRejectionSymbol]=function(n){this.destroy(n)};de.prototype[jq]=function(){let n;return this.destroyed||(n=this.readableEnded?null:new e7,this.destroy(n)),new iN((e,t)=>rN(this,i=>i&&i!==n?t(i):e(null)))};de.prototype.push=function(n,e){return uN(this,n,e,!1)};de.prototype.unshift=function(n,e){return uN(this,n,e,!0)};function uN(n,e,t,i){me("readableAddChunk",e);let r=n._readableState,o;if((r.state&fc)===0&&(typeof e=="string"?(t=t||r.defaultEncoding,r.encoding!==t&&(i&&r.encoding?e=kE.from(e,t).toString(r.encoding):(e=kE.from(e,t),t=""))):e instanceof kE?t="":no._isUint8Array(e)?(e=no._uint8ArrayToBuffer(e),t=""):e!=null&&(o=new Kq("chunk",["string","Buffer","Uint8Array"],e))),o)dc(n,o);else if(e===null)r.state&=~Fu,p7(n,r);else if((r.state&fc)!==0||e&&e.length>0)if(i)if((r.state&sN)!==0)dc(n,new Zq);else{if(r.destroyed||r.errored)return!1;OE(n,r,e,!0)}else if(r.ended)dc(n,new Qq);else{if(r.destroyed||r.errored)return!1;r.state&=~Fu,r.decoder&&!t?(e=r.decoder.write(e),r.objectMode||e.length!==0?OE(n,r,e,!1):Sg(n,r)):OE(n,r,e,!1)}else i||(r.state&=~Fu,Sg(n,r));return!r.ended&&(r.length<r.highWaterMark||r.length===0)}function OE(n,e,t,i){e.flowing&&e.length===0&&!e.sync&&n.listenerCount("data")>0?((e.state&lN)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,n.emit("data",t)):(e.length+=e.objectMode?1:t.length,i?e.buffer.unshift(t):e.buffer.push(t),(e.state&Dg)!==0&&Ag(n)),Sg(n,e)}de.prototype.isPaused=function(){let n=this._readableState;return n[ys]===!0||n.flowing===!1};de.prototype.setEncoding=function(n){let e=new oN(n);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let t=this._readableState.buffer,i="";for(let r of t)i+=e.write(r);return t.clear(),i!==""&&t.push(i),this._readableState.length=i.length,this};var f7=1073741824;function h7(n){if(n>f7)throw new Jq("size","<= 1GiB",n);return n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++,n}function tN(n,e){return n<=0||e.length===0&&e.ended?0:(e.state&fc)!==0?1:Lq(n)?e.flowing&&e.length?e.buffer.first().length:e.length:n<=e.length?n:e.ended?e.length:0}de.prototype.read=function(n){me("read",n),n===void 0?n=NaN:Pq(n)||(n=Fq(n,10));let e=this._readableState,t=n;if(n>e.highWaterMark&&(e.highWaterMark=h7(n)),n!==0&&(e.state&=~cN),n===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return me("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?PE(this):Ag(this),null;if(n=tN(n,e),n===0&&e.ended)return e.length===0&&PE(this),null;let i=(e.state&Dg)!==0;if(me("need readable",i),(e.length===0||e.length-n<e.highWaterMark)&&(i=!0,me("length less than watermark",i)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)i=!1,me("reading, ended or constructing",i);else if(i){me("do read"),e.state|=Fu|Cg,e.length===0&&(e.state|=Dg);try{this._read(e.highWaterMark)}catch(o){dc(this,o)}e.state&=~Cg,e.reading||(n=tN(t,e))}let r;return n>0?r=gN(n,e):r=null,r===null?(e.needReadable=e.length<=e.highWaterMark,n=0):(e.length-=n,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),t!==n&&e.ended&&PE(this)),r!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",r)),r};function p7(n,e){if(me("onEofChunk"),!e.ended){if(e.decoder){let t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?Ag(n):(e.needReadable=!1,e.emittedReadable=!0,dN(n))}}function Ag(n){let e=n._readableState;me("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(me("emitReadable",e.flowing),e.emittedReadable=!0,ti.nextTick(dN,n))}function dN(n){let e=n._readableState;me("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(n.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,hN(n)}function Sg(n,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,ti.nextTick(g7,n,e))}function g7(n,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let t=e.length;if(me("maybeReadMore read 0"),n.read(0),t===e.length)break}e.readingMore=!1}de.prototype._read=function(n){throw new Xq("_read()")};de.prototype.pipe=function(n,e){let t=this,i=this._readableState;i.pipes.length===1&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new Vq(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(n),me("pipe count=%d opts=%j",i.pipes.length,e);let o=(!e||e.end!==!1)&&n!==ti.stdout&&n!==ti.stderr?a:I;i.endEmitted?ti.nextTick(o):t.once("end",o),n.on("unpipe",s);function s(R,G){me("onunpipe"),R===t&&G&&G.hasUnpiped===!1&&(G.hasUnpiped=!0,u())}function a(){me("onend"),n.end()}let c,l=!1;function u(){me("cleanup"),n.removeListener("close",b),n.removeListener("finish",v),c&&n.removeListener("drain",c),n.removeListener("error",f),n.removeListener("unpipe",s),t.removeListener("end",a),t.removeListener("end",I),t.removeListener("data",h),l=!0,c&&i.awaitDrainWriters&&(!n._writableState||n._writableState.needDrain)&&c()}function d(){l||(i.pipes.length===1&&i.pipes[0]===n?(me("false write response, pause",0),i.awaitDrainWriters=n,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(n)&&(me("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(n)),t.pause()),c||(c=m7(t,n),n.on("drain",c))}t.on("data",h);function h(R){me("ondata");let G=n.write(R);me("dest.write",G),G===!1&&d()}function f(R){if(me("onerror",R),I(),n.removeListener("error",f),n.listenerCount("error")===0){let G=n._writableState||n._readableState;G&&!G.errorEmitted?dc(n,R):n.emit("error",R)}}Wq(n,"error",f);function b(){n.removeListener("finish",v),I()}n.once("close",b);function v(){me("onfinish"),n.removeListener("close",b),I()}n.once("finish",v);function I(){me("unpipe"),t.unpipe(n)}return n.emit("pipe",t),n.writableNeedDrain===!0?d():i.flowing||(me("pipe resume"),t.resume()),n};function m7(n,e){return function(){let i=n._readableState;i.awaitDrainWriters===e?(me("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(me("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(e)),(!i.awaitDrainWriters||i.awaitDrainWriters.size===0)&&n.listenerCount("data")&&n.resume()}}de.prototype.unpipe=function(n){let e=this._readableState,t={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!n){let r=e.pipes;e.pipes=[],this.pause();for(let o=0;o<r.length;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}let i=Oq(e.pipes,n);return i===-1?this:(e.pipes.splice(i,1),e.pipes.length===0&&this.pause(),n.emit("unpipe",this,t),this)};de.prototype.on=function(n,e){let t=no.prototype.on.call(this,n,e),i=this._readableState;return n==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):n==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,me("on readable",i.length,i.reading),i.length?Ag(this):i.reading||ti.nextTick(y7,this)),t};de.prototype.addListener=de.prototype.on;de.prototype.removeListener=function(n,e){let t=no.prototype.removeListener.call(this,n,e);return n==="readable"&&ti.nextTick(fN,this),t};de.prototype.off=de.prototype.removeListener;de.prototype.removeAllListeners=function(n){let e=no.prototype.removeAllListeners.apply(this,arguments);return(n==="readable"||n===void 0)&&ti.nextTick(fN,this),e};function fN(n){let e=n._readableState;e.readableListening=n.listenerCount("readable")>0,e.resumeScheduled&&e[ys]===!1?e.flowing=!0:n.listenerCount("data")>0?n.resume():e.readableListening||(e.flowing=null)}function y7(n){me("readable nexttick read 0"),n.read(0)}de.prototype.resume=function(){let n=this._readableState;return n.flowing||(me("resume"),n.flowing=!n.readableListening,_7(this,n)),n[ys]=!1,this};function _7(n,e){e.resumeScheduled||(e.resumeScheduled=!0,ti.nextTick(v7,n,e))}function v7(n,e){me("resume",e.reading),e.reading||n.read(0),e.resumeScheduled=!1,n.emit("resume"),hN(n),e.flowing&&!e.reading&&n.read(0)}de.prototype.pause=function(){return me("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(me("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ys]=!0,this};function hN(n){let e=n._readableState;for(me("flow",e.flowing);e.flowing&&n.read()!==null;);}de.prototype.wrap=function(n){let e=!1;n.on("data",i=>{!this.push(i)&&n.pause&&(e=!0,n.pause())}),n.on("end",()=>{this.push(null)}),n.on("error",i=>{dc(this,i)}),n.on("close",()=>{this.destroy()}),n.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&n.resume&&(e=!1,n.resume())};let t=Bq(n);for(let i=1;i<t.length;i++){let r=t[i];this[r]===void 0&&typeof n[r]=="function"&&(this[r]=n[r].bind(n))}return this};de.prototype[Uq]=function(){return pN(this)};de.prototype.iterator=function(n){return n!==void 0&&t7(n,"options"),pN(this,n)};function pN(n,e){typeof n.read!="function"&&(n=de.wrap(n,{objectMode:!0}));let t=b7(n,e);return t.stream=n,t}function b7(n,e){return vn(this,null,function*(){let t=NE;function i(s){this===n?(t(),t=NE):t=s}n.on("readable",i);let r,o=rN(n,{writable:!1},s=>{r=s?eN(r,s):null,t(),t=NE});try{for(;;){let s=n.destroyed?null:n.read();if(s!==null)yield s;else{if(r)throw r;if(r===null)return;yield new Ct(new iN(i))}}}catch(s){throw r=eN(r,s),r}finally{(r||e?.destroyOnReturn!==!1)&&(r===void 0||n._readableState.autoDestroy)?hc.destroyer(n,null):(n.off("readable",i),o())}})}VE(de.prototype,{readable:{__proto__:null,get(){let n=this._readableState;return!!n&&n.readable!==!1&&!n.destroyed&&!n.errorEmitted&&!n.endEmitted},set(n){this._readableState&&(this._readableState.readable=!!n)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(n){this._readableState&&(this._readableState.flowing=n)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(n){this._readableState&&(this._readableState.destroyed=n)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});VE(Tg.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ys]!==!1},set(n){this[ys]=!!n}}});de._fromList=gN;function gN(n,e){if(e.length===0)return null;let t;return e.objectMode?t=e.buffer.shift():!n||n>=e.length?(e.decoder?t=e.buffer.join(""):e.buffer.length===1?t=e.buffer.first():t=e.buffer.concat(e.length),e.buffer.clear()):t=e.buffer.consume(n,e.decoder),t}function PE(n){let e=n._readableState;me("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,ti.nextTick(w7,e,n))}function w7(n,e){if(me("endReadableNT",n.endEmitted,n.length),!n.errored&&!n.closeEmitted&&!n.endEmitted&&n.length===0){if(n.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)ti.nextTick(E7,e);else if(n.autoDestroy){let t=e._writableState;(!t||t.autoDestroy&&(t.finished||t.writable===!1))&&e.destroy()}}}function E7(n){n.writable&&!n.writableEnded&&!n.destroyed&&n.end()}de.from=function(n,e){return n7(de,n,e)};var LE;function mN(){return LE===void 0&&(LE={}),LE}de.fromWeb=function(n,e){return mN().newStreamReadableFromReadableStream(n,e)};de.toWeb=function(n,e){return mN().newReadableStreamFromStreamReadable(n,e)};de.wrap=function(n,e){var t,i;return new de($(E({objectMode:(t=(i=n.readableObjectMode)!==null&&i!==void 0?i:n.objectMode)!==null&&t!==void 0?t:!0},e),{destroy(r,o){hc.destroyer(n,r),o(r)}})).wrap(n)}});var Ng=ye((Bde,RN)=>{"use strict";var _s=eo(),{ArrayPrototypeSlice:bN,Error:I7,FunctionPrototypeSymbolHasInstance:wN,ObjectDefineProperty:EN,ObjectDefineProperties:C7,ObjectSetPrototypeOf:IN,StringPrototypeToLowerCase:D7,Symbol:S7,SymbolHasInstance:T7}=Fe();RN.exports=Ve;Ve.WritableState=Uu;var{EventEmitter:A7}=Nu(),Vu=_g().Stream,{Buffer:Rg}=Zr(),kg=ps(),{addAbortSignal:R7}=Ou(),{getHighWaterMark:x7,getDefaultHighWaterMark:M7}=Pu(),{ERR_INVALID_ARG_TYPE:k7,ERR_METHOD_NOT_IMPLEMENTED:N7,ERR_MULTIPLE_CALLBACK:CN,ERR_STREAM_CANNOT_PIPE:O7,ERR_STREAM_DESTROYED:ju,ERR_STREAM_ALREADY_FINISHED:P7,ERR_STREAM_NULL_VALUES:L7,ERR_STREAM_WRITE_AFTER_END:F7,ERR_UNKNOWN_ENCODING:DN}=Pt().codes,{errorOrDestroy:pc}=kg;IN(Ve.prototype,Vu.prototype);IN(Ve,Vu);function HE(){}var gc=S7("kOnFinished");function Uu(n,e,t){typeof t!="boolean"&&(t=e instanceof Fi()),this.objectMode=!!(n&&n.objectMode),t&&(this.objectMode=this.objectMode||!!(n&&n.writableObjectMode)),this.highWaterMark=n?x7(this,n,"writableHighWaterMark",t):M7(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(n&&n.decodeStrings===!1);this.decodeStrings=!i,this.defaultEncoding=n&&n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=V7.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Mg(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!n||n.emitClose!==!1,this.autoDestroy=!n||n.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[gc]=[]}function Mg(n){n.buffered=[],n.bufferedIndex=0,n.allBuffers=!0,n.allNoop=!0}Uu.prototype.getBuffer=function(){return bN(this.buffered,this.bufferedIndex)};EN(Uu.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Ve(n){let e=this instanceof Fi();if(!e&&!wN(Ve,this))return new Ve(n);this._writableState=new Uu(n,this,e),n&&(typeof n.write=="function"&&(this._write=n.write),typeof n.writev=="function"&&(this._writev=n.writev),typeof n.destroy=="function"&&(this._destroy=n.destroy),typeof n.final=="function"&&(this._final=n.final),typeof n.construct=="function"&&(this._construct=n.construct),n.signal&&R7(n.signal,this)),Vu.call(this,n),kg.construct(this,()=>{let t=this._writableState;t.writing||WE(this,t),GE(this,t)})}EN(Ve,T7,{__proto__:null,value:function(n){return wN(this,n)?!0:this!==Ve?!1:n&&n._writableState instanceof Uu}});Ve.prototype.pipe=function(){pc(this,new O7)};function SN(n,e,t,i){let r=n._writableState;if(typeof t=="function")i=t,t=r.defaultEncoding;else{if(!t)t=r.defaultEncoding;else if(t!=="buffer"&&!Rg.isEncoding(t))throw new DN(t);typeof i!="function"&&(i=HE)}if(e===null)throw new L7;if(!r.objectMode)if(typeof e=="string")r.decodeStrings!==!1&&(e=Rg.from(e,t),t="buffer");else if(e instanceof Rg)t="buffer";else if(Vu._isUint8Array(e))e=Vu._uint8ArrayToBuffer(e),t="buffer";else throw new k7("chunk",["string","Buffer","Uint8Array"],e);let o;return r.ending?o=new F7:r.destroyed&&(o=new ju("write")),o?(_s.nextTick(i,o),pc(n,o,!0),o):(r.pendingcb++,B7(n,r,e,t,i))}Ve.prototype.write=function(n,e,t){return SN(this,n,e,t)===!0};Ve.prototype.cork=function(){this._writableState.corked++};Ve.prototype.uncork=function(){let n=this._writableState;n.corked&&(n.corked--,n.writing||WE(this,n))};Ve.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=D7(e)),!Rg.isEncoding(e))throw new DN(e);return this._writableState.defaultEncoding=e,this};function B7(n,e,t,i,r){let o=e.objectMode?1:t.length;e.length+=o;let s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:t,encoding:i,callback:r}),e.allBuffers&&i!=="buffer"&&(e.allBuffers=!1),e.allNoop&&r!==HE&&(e.allNoop=!1)):(e.writelen=o,e.writecb=r,e.writing=!0,e.sync=!0,n._write(t,i,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}function _N(n,e,t,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new ju("write")):t?n._writev(r,e.onwrite):n._write(r,o,e.onwrite),e.sync=!1}function vN(n,e,t,i){--e.pendingcb,i(t),$E(e),pc(n,t)}function V7(n,e){let t=n._writableState,i=t.sync,r=t.writecb;if(typeof r!="function"){pc(n,new CN);return}t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0,e?(e.stack,t.errored||(t.errored=e),n._readableState&&!n._readableState.errored&&(n._readableState.errored=e),i?_s.nextTick(vN,n,t,e,r):vN(n,t,e,r)):(t.buffered.length>t.bufferedIndex&&WE(n,t),i?t.afterWriteTickInfo!==null&&t.afterWriteTickInfo.cb===r?t.afterWriteTickInfo.count++:(t.afterWriteTickInfo={count:1,cb:r,stream:n,state:t},_s.nextTick(j7,t.afterWriteTickInfo)):TN(n,t,1,r))}function j7({stream:n,state:e,count:t,cb:i}){return e.afterWriteTickInfo=null,TN(n,e,t,i)}function TN(n,e,t,i){for(!e.ending&&!n.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,n.emit("drain"));t-- >0;)e.pendingcb--,i();e.destroyed&&$E(e),GE(n,e)}function $E(n){if(n.writing)return;for(let r=n.bufferedIndex;r<n.buffered.length;++r){var e;let{chunk:o,callback:s}=n.buffered[r],a=n.objectMode?1:o.length;n.length-=a,s((e=n.errored)!==null&&e!==void 0?e:new ju("write"))}let t=n[gc].splice(0);for(let r=0;r<t.length;r++){var i;t[r]((i=n.errored)!==null&&i!==void 0?i:new ju("end"))}Mg(n)}function WE(n,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:t,bufferedIndex:i,objectMode:r}=e,o=t.length-i;if(!o)return;let s=i;if(e.bufferProcessing=!0,o>1&&n._writev){e.pendingcb-=o-1;let a=e.allNoop?HE:l=>{for(let u=s;u<t.length;++u)t[u].callback(l)},c=e.allNoop&&s===0?t:bN(t,s);c.allBuffers=e.allBuffers,_N(n,e,!0,e.length,c,"",a),Mg(e)}else{do{let{chunk:a,encoding:c,callback:l}=t[s];t[s++]=null;let u=r?1:a.length;_N(n,e,!1,u,a,c,l)}while(s<t.length&&!e.writing);s===t.length?Mg(e):s>256?(t.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s}e.bufferProcessing=!1}Ve.prototype._write=function(n,e,t){if(this._writev)this._writev([{chunk:n,encoding:e}],t);else throw new N7("_write()")};Ve.prototype._writev=null;Ve.prototype.end=function(n,e,t){let i=this._writableState;typeof n=="function"?(t=n,n=null,e=null):typeof e=="function"&&(t=e,e=null);let r;if(n!=null){let o=SN(this,n,e);o instanceof I7&&(r=o)}return i.corked&&(i.corked=1,this.uncork()),r||(!i.errored&&!i.ending?(i.ending=!0,GE(this,i,!0),i.ended=!0):i.finished?r=new P7("end"):i.destroyed&&(r=new ju("end"))),typeof t=="function"&&(r||i.finished?_s.nextTick(t,r):i[gc].push(t)),this};function xg(n){return n.ending&&!n.destroyed&&n.constructed&&n.length===0&&!n.errored&&n.buffered.length===0&&!n.finished&&!n.writing&&!n.errorEmitted&&!n.closeEmitted}function U7(n,e){let t=!1;function i(r){if(t){pc(n,r??CN());return}if(t=!0,e.pendingcb--,r){let o=e[gc].splice(0);for(let s=0;s<o.length;s++)o[s](r);pc(n,r,e.sync)}else xg(e)&&(e.prefinished=!0,n.emit("prefinish"),e.pendingcb++,_s.nextTick(UE,n,e))}e.sync=!0,e.pendingcb++;try{n._final(i)}catch(r){i(r)}e.sync=!1}function H7(n,e){!e.prefinished&&!e.finalCalled&&(typeof n._final=="function"&&!e.destroyed?(e.finalCalled=!0,U7(n,e)):(e.prefinished=!0,n.emit("prefinish")))}function GE(n,e,t){xg(e)&&(H7(n,e),e.pendingcb===0&&(t?(e.pendingcb++,_s.nextTick((i,r)=>{xg(r)?UE(i,r):r.pendingcb--},n,e)):xg(e)&&(e.pendingcb++,UE(n,e))))}function UE(n,e){e.pendingcb--,e.finished=!0;let t=e[gc].splice(0);for(let i=0;i<t.length;i++)t[i]();if(n.emit("finish"),e.autoDestroy){let i=n._readableState;(!i||i.autoDestroy&&(i.endEmitted||i.readable===!1))&&n.destroy()}}C7(Ve.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(n){this._writableState&&(this._writableState.destroyed=n)}},writable:{__proto__:null,get(){let n=this._writableState;return!!n&&n.writable!==!1&&!n.destroyed&&!n.errored&&!n.ending&&!n.ended},set(n){this._writableState&&(this._writableState.writable=!!n)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let n=this._writableState;return n?!n.destroyed&&!n.ending&&n.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var $7=kg.destroy;Ve.prototype.destroy=function(n,e){let t=this._writableState;return!t.destroyed&&(t.bufferedIndex<t.buffered.length||t[gc].length)&&_s.nextTick($E,t),$7.call(this,n,e),this};Ve.prototype._undestroy=kg.undestroy;Ve.prototype._destroy=function(n,e){e(n)};Ve.prototype[A7.captureRejectionSymbol]=function(n){this.destroy(n)};var jE;function AN(){return jE===void 0&&(jE={}),jE}Ve.fromWeb=function(n,e){return AN().newStreamWritableFromWritableStream(n,e)};Ve.toWeb=function(n){return AN().newWritableStreamFromStreamWritable(n)}});var WN=ye((Vde,$N)=>{"use strict";var zE=eo(),W7=Zr(),{isReadable:G7,isWritable:z7,isIterable:xN,isNodeStream:q7,isReadableNodeStream:MN,isWritableNodeStream:kN,isDuplexNodeStream:Y7,isReadableStream:NN,isWritableStream:ON}=Ni(),PN=vr(),{AbortError:UN,codes:{ERR_INVALID_ARG_TYPE:K7,ERR_INVALID_RETURN_VALUE:LN}}=Pt(),{destroyer:yc}=ps(),X7=Fi(),HN=Bu(),J7=Ng(),{createDeferredPromise:FN}=Ht(),BN=ME(),VN=globalThis.Blob||W7.Blob,Q7=typeof VN<"u"?function(e){return e instanceof VN}:function(e){return!1},Z7=globalThis.AbortController||ic().AbortController,{FunctionPrototypeCall:jN}=Fe(),io=class extends X7{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};$N.exports=function n(e,t){if(Y7(e))return e;if(MN(e))return mc({readable:e});if(kN(e))return mc({writable:e});if(q7(e))return mc({writable:!1,readable:!1});if(NN(e))return mc({readable:HN.fromWeb(e)});if(ON(e))return mc({writable:J7.fromWeb(e)});if(typeof e=="function"){let{value:r,write:o,final:s,destroy:a}=e9(e);if(xN(r))return BN(io,r,{objectMode:!0,write:o,final:s,destroy:a});let c=r?.then;if(typeof c=="function"){let l,u=jN(c,r,d=>{if(d!=null)throw new LN("nully","body",d)},d=>{yc(l,d)});return l=new io({objectMode:!0,readable:!1,write:o,final(d){s(()=>p(null,null,function*(){try{yield u,zE.nextTick(d,null)}catch(h){zE.nextTick(d,h)}}))},destroy:a})}throw new LN("Iterable, AsyncIterable or AsyncFunction",t,r)}if(Q7(e))return n(e.arrayBuffer());if(xN(e))return BN(io,e,{objectMode:!0,writable:!1});if(NN(e?.readable)&&ON(e?.writable))return io.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let r=e!=null&&e.readable?MN(e?.readable)?e?.readable:n(e.readable):void 0,o=e!=null&&e.writable?kN(e?.writable)?e?.writable:n(e.writable):void 0;return mc({readable:r,writable:o})}let i=e?.then;if(typeof i=="function"){let r;return jN(i,e,o=>{o!=null&&r.push(o),r.push(null)},o=>{yc(r,o)}),r=new io({objectMode:!0,writable:!1,read(){}})}throw new K7(t,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function e9(n){let{promise:e,resolve:t}=FN(),i=new Z7,r=i.signal;return{value:n(function(){return vn(this,null,function*(){for(;;){let s=e;e=null;let{chunk:a,done:c,cb:l}=yield new Ct(s);if(zE.nextTick(l),c)return;if(r.aborted)throw new UN(void 0,{cause:r.reason});({promise:e,resolve:t}=FN()),yield a}})}(),{signal:r}),write(s,a,c){let l=t;t=null,l({chunk:s,done:!1,cb:c})},final(s){let a=t;t=null,a({done:!0,cb:s})},destroy(s,a){i.abort(),a(s)}}}function mc(n){let e=n.readable&&typeof n.readable.read!="function"?HN.wrap(n.readable):n.readable,t=n.writable,i=!!G7(e),r=!!z7(t),o,s,a,c,l;function u(d){let h=c;c=null,h?h(d):d&&l.destroy(d)}return l=new io({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(t!=null&&t.writableObjectMode),readable:i,writable:r}),r&&(PN(t,d=>{r=!1,d&&yc(e,d),u(d)}),l._write=function(d,h,f){t.write(d,h)?f():o=f},l._final=function(d){t.end(),s=d},t.on("drain",function(){if(o){let d=o;o=null,d()}}),t.on("finish",function(){if(s){let d=s;s=null,d()}})),i&&(PN(e,d=>{i=!1,d&&yc(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){l.push(null)}),l._read=function(){for(;;){let d=e.read();if(d===null){a=l._read;return}if(!l.push(d))return}}),l._destroy=function(d,h){!d&&c!==null&&(d=new UN),a=null,o=null,s=null,c===null?h(d):(c=h,yc(t,d),yc(e,d))},l}});var Fi=ye((Ude,qN)=>{"use strict";var{ObjectDefineProperties:t9,ObjectGetOwnPropertyDescriptor:wr,ObjectKeys:n9,ObjectSetPrototypeOf:GN}=Fe();qN.exports=ni;var KE=Bu(),Pn=Ng();GN(ni.prototype,KE.prototype);GN(ni,KE);{let n=n9(Pn.prototype);for(let e=0;e<n.length;e++){let t=n[e];ni.prototype[t]||(ni.prototype[t]=Pn.prototype[t])}}function ni(n){if(!(this instanceof ni))return new ni(n);KE.call(this,n),Pn.call(this,n),n?(this.allowHalfOpen=n.allowHalfOpen!==!1,n.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),n.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t9(ni.prototype,{writable:E({__proto__:null},wr(Pn.prototype,"writable")),writableHighWaterMark:E({__proto__:null},wr(Pn.prototype,"writableHighWaterMark")),writableObjectMode:E({__proto__:null},wr(Pn.prototype,"writableObjectMode")),writableBuffer:E({__proto__:null},wr(Pn.prototype,"writableBuffer")),writableLength:E({__proto__:null},wr(Pn.prototype,"writableLength")),writableFinished:E({__proto__:null},wr(Pn.prototype,"writableFinished")),writableCorked:E({__proto__:null},wr(Pn.prototype,"writableCorked")),writableEnded:E({__proto__:null},wr(Pn.prototype,"writableEnded")),writableNeedDrain:E({__proto__:null},wr(Pn.prototype,"writableNeedDrain")),destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(n){this._readableState&&this._writableState&&(this._readableState.destroyed=n,this._writableState.destroyed=n)}}});var qE;function zN(){return qE===void 0&&(qE={}),qE}ni.fromWeb=function(n,e){return zN().newStreamDuplexFromReadableWritablePair(n,e)};ni.toWeb=function(n){return zN().newReadableWritablePairFromDuplex(n)};var YE;ni.from=function(n){return YE||(YE=WN()),YE(n,"body")}});var QE=ye(($de,KN)=>{"use strict";var{ObjectSetPrototypeOf:YN,Symbol:i9}=Fe();KN.exports=Er;var{ERR_METHOD_NOT_IMPLEMENTED:r9}=Pt().codes,JE=Fi(),{getHighWaterMark:o9}=Pu();YN(Er.prototype,JE.prototype);YN(Er,JE);var Hu=i9("kCallback");function Er(n){if(!(this instanceof Er))return new Er(n);let e=n?o9(this,n,"readableHighWaterMark",!0):null;e===0&&(n=$(E({},n),{highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:n.writableHighWaterMark||0})),JE.call(this,n),this._readableState.sync=!1,this[Hu]=null,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",s9)}function XE(n){typeof this._flush=="function"&&!this.destroyed?this._flush((e,t)=>{if(e){n?n(e):this.destroy(e);return}t!=null&&this.push(t),this.push(null),n&&n()}):(this.push(null),n&&n())}function s9(){this._final!==XE&&XE.call(this)}Er.prototype._final=XE;Er.prototype._transform=function(n,e,t){throw new r9("_transform()")};Er.prototype._write=function(n,e,t){let i=this._readableState,r=this._writableState,o=i.length;this._transform(n,e,(s,a)=>{if(s){t(s);return}a!=null&&this.push(a),r.ended||o===i.length||i.length<i.highWaterMark?t():this[Hu]=t})};Er.prototype._read=function(){if(this[Hu]){let n=this[Hu];this[Hu]=null,n()}}});var eI=ye((Gde,JN)=>{"use strict";var{ObjectSetPrototypeOf:XN}=Fe();JN.exports=_c;var ZE=QE();XN(_c.prototype,ZE.prototype);XN(_c,ZE);function _c(n){if(!(this instanceof _c))return new _c(n);ZE.call(this,n)}_c.prototype._transform=function(n,e,t){t(null,n)}});var Fg=ye((zde,nO)=>{"use strict";var $u=eo(),{ArrayIsArray:a9,Promise:c9,SymbolAsyncIterator:l9,SymbolDispose:u9}=Fe(),Lg=vr(),{once:d9}=Ht(),f9=ps(),QN=Fi(),{aggregateTwoErrors:h9,codes:{ERR_INVALID_ARG_TYPE:lI,ERR_INVALID_RETURN_VALUE:tI,ERR_MISSING_ARGS:p9,ERR_STREAM_DESTROYED:g9,ERR_STREAM_PREMATURE_CLOSE:m9},AbortError:y9}=Pt(),{validateFunction:_9,validateAbortSignal:v9}=sc(),{isIterable:vs,isReadable:nI,isReadableNodeStream:Pg,isNodeStream:ZN,isTransformStream:vc,isWebStream:b9,isReadableStream:iI,isReadableFinished:w9}=Ni(),E9=globalThis.AbortController||ic().AbortController,rI,oI,sI;function eO(n,e,t){let i=!1;n.on("close",()=>{i=!0});let r=Lg(n,{readable:e,writable:t},o=>{i=!o});return{destroy:o=>{i||(i=!0,f9.destroyer(n,o||new g9("pipe")))},cleanup:r}}function I9(n){return _9(n[n.length-1],"streams[stream.length - 1]"),n.pop()}function aI(n){if(vs(n))return n;if(Pg(n))return C9(n);throw new lI("val",["Readable","Iterable","AsyncIterable"],n)}function C9(n){return vn(this,null,function*(){oI||(oI=Bu()),yield*ad(oI.prototype[l9].call(n))})}function Og(r,o,s,a){return p(this,arguments,function*(n,e,t,{end:i}){let c,l=null,u=R=>{if(R&&(c=R),l){let G=l;l=null,G()}},d=()=>new c9((R,G)=>{c?G(c):l=()=>{c?G(c):R()}});e.on("drain",u);let h=Lg(e,{readable:!1},u);try{e.writableNeedDrain&&(yield d());try{for(var f=Gt(n),b,v,I;b=!(v=yield f.next()).done;b=!1){let R=v.value;e.write(R)||(yield d())}}catch{I=[v]}finally{try{b&&(v=f.return)&&(yield v.call(f))}finally{if(I)throw I[0]}}i&&(e.end(),yield d()),t()}catch(R){t(c!==R?h9(c,R):R)}finally{h(),e.off("drain",u)}})}function cI(r,o,s,a){return p(this,arguments,function*(n,e,t,{end:i}){vc(e)&&(e=e.writable);let c=e.getWriter();try{try{for(var l=Gt(n),u,d,h;u=!(d=yield l.next()).done;u=!1){let f=d.value;yield c.ready,c.write(f).catch(()=>{})}}catch{h=[d]}finally{try{u&&(d=l.return)&&(yield d.call(l))}finally{if(h)throw h[0]}}yield c.ready,i&&(yield c.close()),t()}catch(f){try{yield c.abort(f),t(f)}catch(b){t(b)}}})}function D9(...n){return tO(n,d9(I9(n)))}function tO(n,e,t){if(n.length===1&&a9(n[0])&&(n=n[0]),n.length<2)throw new p9("streams");let i=new E9,r=i.signal,o=t?.signal,s=[];v9(o,"options.signal");function a(){b(new y9)}sI=sI||Ht().addAbortListener;let c;o&&(c=sI(o,a));let l,u,d=[],h=0;function f(K){b(K,--h===0)}function b(K,te){var ge;if(K&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=K),!(!l&&!te)){for(;d.length;)d.shift()(l);(ge=c)===null||ge===void 0||ge[u9](),i.abort(),te&&(l||s.forEach(Rt=>Rt()),$u.nextTick(e,l,u))}}let v;for(let K=0;K<n.length;K++){let te=n[K],ge=K<n.length-1,Rt=K>0,_n=ge||t?.end!==!1,As=K===n.length-1;if(ZN(te)){let Wt=function(Vi){Vi&&Vi.name!=="AbortError"&&Vi.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(Vi)};var G=Wt;if(_n){let{destroy:Vi,cleanup:Tm}=eO(te,ge,Rt);d.push(Vi),nI(te)&&As&&s.push(Tm)}te.on("error",Wt),nI(te)&&As&&s.push(()=>{te.removeListener("error",Wt)})}if(K===0)if(typeof te=="function"){if(v=te({signal:r}),!vs(v))throw new tI("Iterable, AsyncIterable or Stream","source",v)}else vs(te)||Pg(te)||vc(te)?v=te:v=QN.from(te);else if(typeof te=="function"){if(vc(v)){var I;v=aI((I=v)===null||I===void 0?void 0:I.readable)}else v=aI(v);if(v=te(v,{signal:r}),ge){if(!vs(v,!0))throw new tI("AsyncIterable",`transform[${K-1}]`,v)}else{var R;rI||(rI=eI());let Wt=new rI({objectMode:!0}),Vi=(R=v)===null||R===void 0?void 0:R.then;if(typeof Vi=="function")h++,Vi.call(v,Cr=>{u=Cr,Cr!=null&&Wt.write(Cr),_n&&Wt.end(),$u.nextTick(f)},Cr=>{Wt.destroy(Cr),$u.nextTick(f,Cr)});else if(vs(v,!0))h++,Og(v,Wt,f,{end:_n});else if(iI(v)||vc(v)){let Cr=v.readable||v;h++,Og(Cr,Wt,f,{end:_n})}else throw new tI("AsyncIterable or Promise","destination",v);v=Wt;let{destroy:Tm,cleanup:kP}=eO(v,!1,!0);d.push(Tm),As&&s.push(kP)}}else if(ZN(te)){if(Pg(v)){h+=2;let Wt=S9(v,te,f,{end:_n});nI(te)&&As&&s.push(Wt)}else if(vc(v)||iI(v)){let Wt=v.readable||v;h++,Og(Wt,te,f,{end:_n})}else if(vs(v))h++,Og(v,te,f,{end:_n});else throw new lI("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],v);v=te}else if(b9(te)){if(Pg(v))h++,cI(aI(v),te,f,{end:_n});else if(iI(v)||vs(v))h++,cI(v,te,f,{end:_n});else if(vc(v))h++,cI(v.readable,te,f,{end:_n});else throw new lI("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],v);v=te}else v=QN.from(te)}return(r!=null&&r.aborted||o!=null&&o.aborted)&&$u.nextTick(a),v}function S9(n,e,t,{end:i}){let r=!1;if(e.on("close",()=>{r||t(new m9)}),n.pipe(e,{end:!1}),i){let s=function(){r=!0,e.end()};var o=s;w9(n)?$u.nextTick(s):n.once("end",s)}else t();return Lg(n,{readable:!0,writable:!1},s=>{let a=n._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?n.once("end",t).once("error",t):t(s)}),Lg(e,{readable:!1,writable:!0},t)}nO.exports={pipelineImpl:tO,pipeline:D9}});var dI=ye((Yde,cO)=>{"use strict";var{pipeline:T9}=Fg(),Bg=Fi(),{destroyer:A9}=ps(),{isNodeStream:Vg,isReadable:iO,isWritable:rO,isWebStream:uI,isTransformStream:bs,isWritableStream:oO,isReadableStream:sO}=Ni(),{AbortError:R9,codes:{ERR_INVALID_ARG_VALUE:aO,ERR_MISSING_ARGS:x9}}=Pt(),M9=vr();cO.exports=function(...e){if(e.length===0)throw new x9("streams");if(e.length===1)return Bg.from(e[0]);let t=[...e];if(typeof e[0]=="function"&&(e[0]=Bg.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=Bg.from(e[f])}for(let f=0;f<e.length;++f)if(!(!Vg(e[f])&&!uI(e[f]))){if(f<e.length-1&&!(iO(e[f])||sO(e[f])||bs(e[f])))throw new aO(`streams[${f}]`,t[f],"must be readable");if(f>0&&!(rO(e[f])||oO(e[f])||bs(e[f])))throw new aO(`streams[${f}]`,t[f],"must be writable")}let i,r,o,s,a;function c(f){let b=s;s=null,b?b(f):f?a.destroy(f):!h&&!d&&a.destroy()}let l=e[0],u=T9(e,c),d=!!(rO(l)||oO(l)||bs(l)),h=!!(iO(u)||sO(u)||bs(u));if(a=new Bg({writableObjectMode:!!(l!=null&&l.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:h}),d){if(Vg(l))a._write=function(b,v,I){l.write(b,v)?I():i=I},a._final=function(b){l.end(),r=b},l.on("drain",function(){if(i){let b=i;i=null,b()}});else if(uI(l)){let v=(bs(l)?l.writable:l).getWriter();a._write=function(I,R,G){return p(this,null,function*(){try{yield v.ready,v.write(I).catch(()=>{}),G()}catch(K){G(K)}})},a._final=function(I){return p(this,null,function*(){try{yield v.ready,v.close().catch(()=>{}),r=I}catch(R){I(R)}})}}let f=bs(u)?u.readable:u;M9(f,()=>{if(r){let b=r;r=null,b()}})}if(h){if(Vg(u))u.on("readable",function(){if(o){let f=o;o=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){o=a._read;return}if(!a.push(f))return}};else if(uI(u)){let b=(bs(u)?u.readable:u).getReader();a._read=function(){return p(this,null,function*(){for(;;)try{let{value:v,done:I}=yield b.read();if(!a.push(v))return;if(I){a.push(null);return}}catch{return}})}}}return a._destroy=function(f,b){!f&&s!==null&&(f=new R9),o=null,i=null,r=null,s===null?b(f):(s=b,Vg(u)&&A9(u,f))},a}});var _O=ye((Xde,pI)=>{"use strict";var k9=globalThis.AbortController||ic().AbortController,{codes:{ERR_INVALID_ARG_VALUE:N9,ERR_INVALID_ARG_TYPE:Wu,ERR_MISSING_ARGS:O9,ERR_OUT_OF_RANGE:P9},AbortError:Bi}=Pt(),{validateAbortSignal:ws,validateInteger:lO,validateObject:Es}=sc(),L9=Fe().Symbol("kWeak"),F9=Fe().Symbol("kResistStopPropagation"),{finished:B9}=vr(),V9=dI(),{addAbortSignalNoValidate:j9}=Ou(),{isWritable:U9,isNodeStream:H9}=Ni(),{deprecate:$9}=Ht(),{ArrayPrototypePush:W9,Boolean:G9,MathFloor:uO,Number:z9,NumberIsNaN:q9,Promise:dO,PromiseReject:fO,PromiseResolve:Y9,PromisePrototypeThen:hO,Symbol:gO}=Fe(),jg=gO("kEmpty"),pO=gO("kEof");function K9(n,e){if(e!=null&&Es(e,"options"),e?.signal!=null&&ws(e.signal,"options.signal"),H9(n)&&!U9(n))throw new N9("stream",n,"must be writable");let t=V9(this,n);return e!=null&&e.signal&&j9(e.signal,t),t}function Ug(n,e){if(typeof n!="function")throw new Wu("fn",["Function","AsyncFunction"],n);e!=null&&Es(e,"options"),e?.signal!=null&&ws(e.signal,"options.signal");let t=1;e?.concurrency!=null&&(t=uO(e.concurrency));let i=t-1;return e?.highWaterMark!=null&&(i=uO(e.highWaterMark)),lO(t,"options.concurrency",1),lO(i,"options.highWaterMark",0),i+=t,function(){return vn(this,null,function*(){let o=Ht().AbortSignalAny([e?.signal].filter(G9)),s=this,a=[],c={signal:o},l,u,d=!1,h=0;function f(){d=!0,b()}function b(){h-=1,v()}function v(){u&&!d&&h<t&&a.length<i&&(u(),u=null)}function I(){return p(this,null,function*(){try{try{for(var R=Gt(s),G,K,te;G=!(K=yield R.next()).done;G=!1){let ge=K.value;if(d)return;if(o.aborted)throw new Bi;try{if(ge=n(ge,c),ge===jg)continue;ge=Y9(ge)}catch(Rt){ge=fO(Rt)}h+=1,hO(ge,b,f),a.push(ge),l&&(l(),l=null),!d&&(a.length>=i||h>=t)&&(yield new dO(Rt=>{u=Rt}))}}catch{te=[K]}finally{try{G&&(K=R.return)&&(yield K.call(R))}finally{if(te)throw te[0]}}a.push(pO)}catch(ge){let Rt=fO(ge);hO(Rt,b,f),a.push(Rt)}finally{d=!0,l&&(l(),l=null)}})}I();try{for(;;){for(;a.length>0;){let R=yield new Ct(a[0]);if(R===pO)return;if(o.aborted)throw new Bi;R!==jg&&(yield R),a.shift(),v()}yield new Ct(new dO(R=>{l=R}))}}finally{d=!0,u&&(u(),u=null)}})}.call(this)}function X9(n=void 0){return n!=null&&Es(n,"options"),n?.signal!=null&&ws(n.signal,"options.signal"),function(){return vn(this,null,function*(){let t=0;try{for(var r=Gt(this),o,s,a;o=!(s=yield new Ct(r.next())).done;o=!1){let c=s.value;var i;if(n!=null&&(i=n.signal)!==null&&i!==void 0&&i.aborted)throw new Bi({cause:n.signal.reason});yield[t++,c]}}catch{a=[s]}finally{try{o&&(s=r.return)&&(yield new Ct(s.call(r)))}finally{if(a)throw a[0]}}})}.call(this)}function mO(n,e=void 0){return p(this,null,function*(){try{for(var t=Gt(hI.call(this,n,e)),i,r,o;i=!(r=yield t.next()).done;i=!1){let s=r.value;return!0}}catch{o=[r]}finally{try{i&&(r=t.return)&&(yield r.call(t))}finally{if(o)throw o[0]}}return!1})}function J9(n,e=void 0){return p(this,null,function*(){if(typeof n!="function")throw new Wu("fn",["Function","AsyncFunction"],n);return!(yield mO.call(this,(...t)=>p(this,null,function*(){return!(yield n(...t))}),e))})}function Q9(n,e){return p(this,null,function*(){try{for(var t=Gt(hI.call(this,n,e)),i,r,o;i=!(r=yield t.next()).done;i=!1){let s=r.value;return s}}catch{o=[r]}finally{try{i&&(r=t.return)&&(yield r.call(t))}finally{if(o)throw o[0]}}})}function Z9(n,e){return p(this,null,function*(){if(typeof n!="function")throw new Wu("fn",["Function","AsyncFunction"],n);function t(a,c){return p(this,null,function*(){return yield n(a,c),jg})}try{for(var i=Gt(Ug.call(this,t,e)),r,o,s;r=!(o=yield i.next()).done;r=!1){let a=o.value;;}}catch{s=[o]}finally{try{r&&(o=i.return)&&(yield o.call(i))}finally{if(s)throw s[0]}}})}function hI(n,e){if(typeof n!="function")throw new Wu("fn",["Function","AsyncFunction"],n);function t(i,r){return p(this,null,function*(){return(yield n(i,r))?i:jg})}return Ug.call(this,t,e)}var fI=class extends O9{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};function eY(i,r,o){return p(this,arguments,function*(n,e,t){var s;if(typeof n!="function")throw new Wu("reducer",["Function","AsyncFunction"],n);t!=null&&Es(t,"options"),t?.signal!=null&&ws(t.signal,"options.signal");let a=arguments.length>1;if(t!=null&&(s=t.signal)!==null&&s!==void 0&&s.aborted){let I=new Bi(void 0,{cause:t.signal.reason});throw this.once("error",()=>{}),yield B9(this.destroy(I)),I}let c=new k9,l=c.signal;if(t!=null&&t.signal){let I={once:!0,[L9]:this,[F9]:!0};t.signal.addEventListener("abort",()=>c.abort(),I)}let u=!1;try{try{for(var h=Gt(this),f,b,v;f=!(b=yield h.next()).done;f=!1){let I=b.value;var d;if(u=!0,t!=null&&(d=t.signal)!==null&&d!==void 0&&d.aborted)throw new Bi;a?e=yield n(e,I,{signal:l}):(e=I,a=!0)}}catch{v=[b]}finally{try{f&&(b=h.return)&&(yield b.call(h))}finally{if(v)throw v[0]}}if(!u&&!a)throw new fI}finally{c.abort()}return e})}function tY(n){return p(this,null,function*(){n!=null&&Es(n,"options"),n?.signal!=null&&ws(n.signal,"options.signal");let e=[];try{for(var i=Gt(this),r,o,s;r=!(o=yield i.next()).done;r=!1){let a=o.value;var t;if(n!=null&&(t=n.signal)!==null&&t!==void 0&&t.aborted)throw new Bi(void 0,{cause:n.signal.reason});W9(e,a)}}catch{s=[o]}finally{try{r&&(o=i.return)&&(yield o.call(i))}finally{if(s)throw s[0]}}return e})}function nY(n,e){let t=Ug.call(this,n,e);return function(){return vn(this,null,function*(){try{for(var r=Gt(t),o,s,a;o=!(s=yield new Ct(r.next())).done;o=!1){let c=s.value;yield*ad(c)}}catch{a=[s]}finally{try{o&&(s=r.return)&&(yield new Ct(s.call(r)))}finally{if(a)throw a[0]}}})}.call(this)}function yO(n){if(n=z9(n),q9(n))return 0;if(n<0)throw new P9("number",">= 0",n);return n}function iY(n,e=void 0){return e!=null&&Es(e,"options"),e?.signal!=null&&ws(e.signal,"options.signal"),n=yO(n),function(){return vn(this,null,function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Bi;try{for(var o=Gt(this),s,a,c;s=!(a=yield new Ct(o.next())).done;s=!1){let l=a.value;var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Bi;n--<=0&&(yield l)}}catch{c=[a]}finally{try{s&&(a=o.return)&&(yield new Ct(a.call(o)))}finally{if(c)throw c[0]}}})}.call(this)}function rY(n,e=void 0){return e!=null&&Es(e,"options"),e?.signal!=null&&ws(e.signal,"options.signal"),n=yO(n),function(){return vn(this,null,function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Bi;try{for(var o=Gt(this),s,a,c;s=!(a=yield new Ct(o.next())).done;s=!1){let l=a.value;var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Bi;if(n-- >0&&(yield l),n<=0)return}}catch{c=[a]}finally{try{s&&(a=o.return)&&(yield new Ct(a.call(o)))}finally{if(c)throw c[0]}}})}.call(this)}pI.exports.streamReturningOperators={asIndexedPairs:$9(X9,"readable.asIndexedPairs will be removed in a future version."),drop:iY,filter:hI,flatMap:nY,map:Ug,take:rY,compose:K9};pI.exports.promiseReturningOperators={every:J9,forEach:Z9,reduce:eY,toArray:tY,some:mO,find:Q9}});var gI=ye((Qde,vO)=>{"use strict";var{ArrayPrototypePop:oY,Promise:sY}=Fe(),{isIterable:aY,isNodeStream:cY,isWebStream:lY}=Ni(),{pipelineImpl:uY}=Fg(),{finished:dY}=vr();mI();function fY(...n){return new sY((e,t)=>{let i,r,o=n[n.length-1];if(o&&typeof o=="object"&&!cY(o)&&!aY(o)&&!lY(o)){let s=oY(n);i=s.signal,r=s.end}uY(n,(s,a)=>{s?t(s):e(a)},{signal:i,end:r})})}vO.exports={finished:dY,pipeline:fY}});var mI=ye((Zde,AO)=>{"use strict";var{Buffer:hY}=Zr(),{ObjectDefineProperty:Ir,ObjectKeys:EO,ReflectApply:IO}=Fe(),{promisify:{custom:CO}}=Ht(),{streamReturningOperators:bO,promiseReturningOperators:wO}=_O(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:DO}}=Pt(),pY=dI(),{setDefaultHighWaterMark:gY,getDefaultHighWaterMark:mY}=Pu(),{pipeline:SO}=Fg(),{destroyer:yY}=ps(),TO=vr(),yI=gI(),Gu=Ni(),Oe=AO.exports=_g().Stream;Oe.isDestroyed=Gu.isDestroyed;Oe.isDisturbed=Gu.isDisturbed;Oe.isErrored=Gu.isErrored;Oe.isReadable=Gu.isReadable;Oe.isWritable=Gu.isWritable;Oe.Readable=Bu();for(let n of EO(bO)){let t=function(...i){if(new.target)throw DO();return Oe.Readable.from(IO(e,this,i))},e=bO[n];Ir(t,"name",{__proto__:null,value:e.name}),Ir(t,"length",{__proto__:null,value:e.length}),Ir(Oe.Readable.prototype,n,{__proto__:null,value:t,enumerable:!1,configurable:!0,writable:!0})}for(let n of EO(wO)){let t=function(...i){if(new.target)throw DO();return IO(e,this,i)},e=wO[n];Ir(t,"name",{__proto__:null,value:e.name}),Ir(t,"length",{__proto__:null,value:e.length}),Ir(Oe.Readable.prototype,n,{__proto__:null,value:t,enumerable:!1,configurable:!0,writable:!0})}Oe.Writable=Ng();Oe.Duplex=Fi();Oe.Transform=QE();Oe.PassThrough=eI();Oe.pipeline=SO;var{addAbortSignal:_Y}=Ou();Oe.addAbortSignal=_Y;Oe.finished=TO;Oe.destroy=yY;Oe.compose=pY;Oe.setDefaultHighWaterMark=gY;Oe.getDefaultHighWaterMark=mY;Ir(Oe,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return yI}});Ir(SO,CO,{__proto__:null,enumerable:!0,get(){return yI.pipeline}});Ir(TO,CO,{__proto__:null,enumerable:!0,get(){return yI.finished}});Oe.Stream=Oe;Oe._isUint8Array=function(e){return e instanceof Uint8Array};Oe._uint8ArrayToBuffer=function(e){return hY.from(e.buffer,e.byteOffset,e.byteLength)}});var _I=ye((efe,Je)=>{"use strict";var ft=mI(),vY=gI(),bY=ft.Readable.destroy;Je.exports=ft.Readable;Je.exports._uint8ArrayToBuffer=ft._uint8ArrayToBuffer;Je.exports._isUint8Array=ft._isUint8Array;Je.exports.isDisturbed=ft.isDisturbed;Je.exports.isErrored=ft.isErrored;Je.exports.isReadable=ft.isReadable;Je.exports.Readable=ft.Readable;Je.exports.Writable=ft.Writable;Je.exports.Duplex=ft.Duplex;Je.exports.Transform=ft.Transform;Je.exports.PassThrough=ft.PassThrough;Je.exports.addAbortSignal=ft.addAbortSignal;Je.exports.finished=ft.finished;Je.exports.destroy=ft.destroy;Je.exports.destroy=bY;Je.exports.pipeline=ft.pipeline;Je.exports.compose=ft.compose;Object.defineProperty(ft,"promises",{configurable:!0,enumerable:!0,get(){return vY}});Je.exports.Stream=ft.Stream;Je.exports.default=Je.exports});var xO=ye((tfe,zu)=>{"use strict";var j;(function(n){n.runningInNodeJS=function(){return typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"},n.runningInMainNodeJSModule=function(){return n.runningInNodeJS()&&tC.main===zu},n.commonJSAvailable=function(){return typeof zu=="object"&&typeof zu.exports=="object"},n.runningInWebWorker=function(){return typeof window>"u"&&typeof self=="object"&&typeof self.addEventListener=="function"&&typeof self.close=="function"},n.runningInNodeChildProcess=function(){return n.runningInNodeJS()&&typeof process.send=="function"},n.runningInNullOrigin=function(){return typeof window!="object"||typeof window.location!="object"||typeof document!="object"?!1:document.location.protocol!=="http:"&&document.location.protocol!=="https:"},n.webWorkersAvailable=function(){return!(typeof Worker!="function"||n.runningInNullOrigin()||n.runningInNodeJS()||navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Android 4.3")>=0)},n.log=function(e,t){t===void 0&&(t=!1),typeof console=="object"&&(console.log(e),t&&typeof document=="object"&&(document.body.innerHTML+=e+"<br/>"))},n.createErrorMessage=function(e,t){if(t===void 0&&(t="Unhandled exception"),e==null)return t;if(t+=": ",typeof e.content=="object"){if(n.runningInNodeJS())return t+e.content.stack;var i=JSON.stringify(e.content);return i!=="{}"?t+i:t+e.content}else return typeof e.content=="string"?t+e.content:t+e},n.printExceptionAndStackTraceToConsole=function(e,t){t===void 0&&(t="Unhandled exception"),n.log(n.createErrorMessage(e,t))},n.getGlobalObject=function(){return typeof global=="object"?global:typeof window=="object"?window:typeof self=="object"?self:{}},n.toString=Object.prototype.toString,n.commonJSAvailable()&&(zu.exports=n)})(j||(j={}));var RO;(function(n){if(typeof Uint8Array=="function"&&new Uint8Array(1).subarray(1).byteLength!==0){var e=function(o,s){var a=function(l,u,d){return l<u?u:l>d?d:l};o=o|0,s=s|0,arguments.length<1&&(o=0),arguments.length<2&&(s=this.length),o<0&&(o=this.length+o),s<0&&(s=this.length+s),o=a(o,0,this.length),s=a(s,0,this.length);var c=s-o;return c<0&&(c=0),new this.constructor(this.buffer,this.byteOffset+o*this.BYTES_PER_ELEMENT,c)},t=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],i=void 0;if(typeof window=="object"?i=window:typeof self=="object"&&(i=self),i!==void 0)for(var r=0;r<t.length;r++)i[t[r]]&&(i[t[r]].prototype.subarray=e)}})(RO||(RO={}));var j;(function(n){var e=function(){function t(){}return t.compressAsync=function(i,r,o){var s=new n.Timer,a=new n.Compressor;if(!o)throw new TypeError("compressAsync: No callback argument given");if(typeof i=="string")i=n.encodeUTF8(i);else if(i==null||!(i instanceof Uint8Array)){o(void 0,new TypeError("compressAsync: Invalid input argument, only 'string' and 'Uint8Array' are supported"));return}var c=n.ArrayTools.splitByteArray(i,r.blockSize),l=[],u=function(d){if(d<c.length){var h=void 0;try{h=a.compressBlock(c[d])}catch(b){o(void 0,b);return}l.push(h),s.getElapsedTime()<=20?u(d+1):(n.enqueueImmediate(function(){return u(d+1)}),s.restart())}else{var f=n.ArrayTools.concatUint8Arrays(l);n.enqueueImmediate(function(){var b;try{b=n.CompressionCommon.encodeCompressedBytes(f,r.outputEncoding)}catch(v){o(void 0,v);return}n.enqueueImmediate(function(){return o(b)})})}};n.enqueueImmediate(function(){return u(0)})},t.createCompressionStream=function(){var i=new n.Compressor,r=_I(),o=new r.Transform({decodeStrings:!0,highWaterMark:65536});return o._transform=function(s,a,c){var l;try{l=n.BufferTools.uint8ArrayToBuffer(i.compressBlock(n.BufferTools.bufferToUint8Array(s)))}catch(u){o.emit("error",u);return}o.push(l),c()},o},t}();n.AsyncCompressor=e})(j||(j={}));var j;(function(n){var e=function(){function t(){}return t.decompressAsync=function(i,r,o){if(!o)throw new TypeError("decompressAsync: No callback argument given");var s=new n.Timer;try{i=n.CompressionCommon.decodeCompressedBytes(i,r.inputEncoding)}catch(d){o(void 0,d);return}var a=new n.Decompressor,c=n.ArrayTools.splitByteArray(i,r.blockSize),l=[],u=function(d){if(d<c.length){var h=void 0;try{h=a.decompressBlock(c[d])}catch(b){o(void 0,b);return}l.push(h),s.getElapsedTime()<=20?u(d+1):(n.enqueueImmediate(function(){return u(d+1)}),s.restart())}else{var f=n.ArrayTools.concatUint8Arrays(l);n.enqueueImmediate(function(){var b;try{b=n.CompressionCommon.encodeDecompressedBytes(f,r.outputEncoding)}catch(v){o(void 0,v);return}n.enqueueImmediate(function(){return o(b)})})}};n.enqueueImmediate(function(){return u(0)})},t.createDecompressionStream=function(){var i=new n.Decompressor,r=_I(),o=new r.Transform({decodeStrings:!0,highWaterMark:65536});return o._transform=function(s,a,c){var l;try{l=n.BufferTools.uint8ArrayToBuffer(i.decompressBlock(n.BufferTools.bufferToUint8Array(s)))}catch(u){o.emit("error",u);return}o.push(l),c()},o},t}();n.AsyncDecompressor=e})(j||(j={}));var j;(function(n){var e;(function(t){t.compressAsync=function(i,r,o){if(r.inputEncoding=="ByteArray"&&!(i instanceof Uint8Array)){o(void 0,new TypeError("compressAsync: input is not a Uint8Array"));return}var s={token:Math.random().toString(),type:"compress",data:i,inputEncoding:r.inputEncoding,outputEncoding:r.outputEncoding},a=function(c){var l=c.data;!l||l.token!=s.token||(t.globalWorker.removeEventListener("message",a),l.type=="error"?o(void 0,new Error(l.error)):o(l.data))};t.globalWorker.addEventListener("message",a),t.globalWorker.postMessage(s,[])},t.decompressAsync=function(i,r,o){var s={token:Math.random().toString(),type:"decompress",data:i,inputEncoding:r.inputEncoding,outputEncoding:r.outputEncoding},a=function(c){var l=c.data;!l||l.token!=s.token||(t.globalWorker.removeEventListener("message",a),l.type=="error"?o(void 0,new Error(l.error)):o(l.data))};t.globalWorker.addEventListener("message",a),t.globalWorker.postMessage(s,[])},t.installWebWorkerIfNeeded=function(){typeof self=="object"&&self.document===void 0&&self.addEventListener!=null&&(self.addEventListener("message",function(i){var r=i.data;if(r.type=="compress"){var o=void 0;try{o=n.compress(r.data,{outputEncoding:r.outputEncoding})}catch(c){self.postMessage({token:r.token,type:"error",error:n.createErrorMessage(c)},[]);return}var s={token:r.token,type:"compressionResult",data:o,encoding:r.outputEncoding};s.data instanceof Uint8Array&&navigator.appVersion.indexOf("MSIE 10")===-1?self.postMessage(s,[s.data.buffer]):self.postMessage(s,[])}else if(r.type=="decompress"){var a=void 0;try{a=n.decompress(r.data,{inputEncoding:r.inputEncoding,outputEncoding:r.outputEncoding})}catch(l){self.postMessage({token:r.token,type:"error",error:n.createErrorMessage(l)},[]);return}var s={token:r.token,type:"decompressionResult",data:a,encoding:r.outputEncoding};s.data instanceof Uint8Array&&navigator.appVersion.indexOf("MSIE 10")===-1?self.postMessage(s,[s.data.buffer]):self.postMessage(s,[])}}),self.addEventListener("error",function(i){n.log(n.createErrorMessage(i.error,"Unexpected LZUTF8 WebWorker exception"))}))},t.createGlobalWorkerIfNeeded=function(){if(t.globalWorker)return!0;if(!n.webWorkersAvailable())return!1;if(!t.scriptURI&&typeof document=="object"){var i=document.getElementById("lzutf8");i!=null&&(t.scriptURI=i.getAttribute("src")||void 0)}return t.scriptURI?(t.globalWorker=new Worker(t.scriptURI),!0):!1},t.terminate=function(){t.globalWorker&&(t.globalWorker.terminate(),t.globalWorker=void 0)}})(e=n.WebWorker||(n.WebWorker={})),e.installWebWorkerIfNeeded()})(j||(j={}));var j;(function(n){var e=function(){function t(i,r,o){this.container=i,this.startPosition=r,this.length=o}return t.prototype.get=function(i){return this.container[this.startPosition+i]},t.prototype.getInReversedOrder=function(i){return this.container[this.startPosition+this.length-1-i]},t.prototype.set=function(i,r){this.container[this.startPosition+i]=r},t}();n.ArraySegment=e})(j||(j={}));var j;(function(n){var e;(function(t){t.copyElements=function(i,r,o,s,a){for(;a--;)o[s++]=i[r++]},t.zeroElements=function(i,r,o){for(;o--;)i[r++]=0},t.countNonzeroValuesInArray=function(i){for(var r=0,o=0;o<i.length;o++)i[o]&&r++;return r},t.truncateStartingElements=function(i,r){if(i.length<=r)throw new RangeError("truncateStartingElements: Requested length should be smaller than array length");for(var o=i.length-r,s=0;s<r;s++)i[s]=i[o+s];i.length=r},t.doubleByteArrayCapacity=function(i){var r=new Uint8Array(i.length*2);return r.set(i),r},t.concatUint8Arrays=function(i){for(var r=0,o=0,s=i;o<s.length;o++){var a=s[o];r+=a.length}for(var c=new Uint8Array(r),l=0,u=0,d=i;u<d.length;u++){var a=d[u];c.set(a,l),l+=a.length}return c},t.splitByteArray=function(i,r){for(var o=[],s=0;s<i.length;){var a=Math.min(r,i.length-s);o.push(i.subarray(s,s+a)),s+=a}return o}})(e=n.ArrayTools||(n.ArrayTools={}))})(j||(j={}));var j;(function(n){var e;(function(t){t.convertToUint8ArrayIfNeeded=function(i){return typeof Buffer=="function"&&Buffer.isBuffer(i)?t.bufferToUint8Array(i):i},t.uint8ArrayToBuffer=function(i){if(Buffer.prototype instanceof Uint8Array){var r=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return Object.setPrototypeOf(r,Buffer.prototype),r}else{for(var o=i.length,s=new Buffer(o),a=0;a<o;a++)s[a]=i[a];return s}},t.bufferToUint8Array=function(i){if(Buffer.prototype instanceof Uint8Array)return new Uint8Array(i.buffer,i.byteOffset,i.byteLength);for(var r=i.length,o=new Uint8Array(r),s=0;s<r;s++)o[s]=i[s];return o}})(e=n.BufferTools||(n.BufferTools={}))})(j||(j={}));var j;(function(n){var e;(function(t){t.getCroppedBuffer=function(i,r,o,s){s===void 0&&(s=0);var a=new Uint8Array(o+s);return a.set(i.subarray(r,r+o)),a},t.getCroppedAndAppendedByteArray=function(i,r,o,s){return n.ArrayTools.concatUint8Arrays([i.subarray(r,r+o),s])},t.detectCompressionSourceEncoding=function(i){if(i==null)throw new TypeError("detectCompressionSourceEncoding: input is null or undefined");if(typeof i=="string")return"String";if(i instanceof Uint8Array||typeof Buffer=="function"&&Buffer.isBuffer(i))return"ByteArray";throw new TypeError("detectCompressionSourceEncoding: input must be of type 'string', 'Uint8Array' or 'Buffer'")},t.encodeCompressedBytes=function(i,r){switch(r){case"ByteArray":return i;case"Buffer":return n.BufferTools.uint8ArrayToBuffer(i);case"Base64":return n.encodeBase64(i);case"BinaryString":return n.encodeBinaryString(i);case"StorageBinaryString":return n.encodeStorageBinaryString(i);default:throw new TypeError("encodeCompressedBytes: invalid output encoding requested")}},t.decodeCompressedBytes=function(i,r){if(r==null)throw new TypeError("decodeCompressedData: Input is null or undefined");switch(r){case"ByteArray":case"Buffer":var o=n.BufferTools.convertToUint8ArrayIfNeeded(i);if(!(o instanceof Uint8Array))throw new TypeError("decodeCompressedData: 'ByteArray' or 'Buffer' input type was specified but input is not a Uint8Array or Buffer");return o;case"Base64":if(typeof i!="string")throw new TypeError("decodeCompressedData: 'Base64' input type was specified but input is not a string");return n.decodeBase64(i);case"BinaryString":if(typeof i!="string")throw new TypeError("decodeCompressedData: 'BinaryString' input type was specified but input is not a string");return n.decodeBinaryString(i);case"StorageBinaryString":if(typeof i!="string")throw new TypeError("decodeCompressedData: 'StorageBinaryString' input type was specified but input is not a string");return n.decodeStorageBinaryString(i);default:throw new TypeError("decodeCompressedData: invalid input encoding requested: '".concat(r,"'"))}},t.encodeDecompressedBytes=function(i,r){switch(r){case"String":return n.decodeUTF8(i);case"ByteArray":return i;case"Buffer":if(typeof Buffer!="function")throw new TypeError("encodeDecompressedBytes: a 'Buffer' type was specified but is not supported at the current envirnment");return n.BufferTools.uint8ArrayToBuffer(i);default:throw new TypeError("encodeDecompressedBytes: invalid output encoding requested")}}})(e=n.CompressionCommon||(n.CompressionCommon={}))})(j||(j={}));var j;(function(n){var e;(function(t){var i=[],r;t.enqueueImmediate=function(o){i.push(o),i.length===1&&r()},t.initializeScheduler=function(){var o=function(){for(var l=0,u=i;l<u.length;l++){var d=u[l];try{d.call(void 0)}catch(h){n.printExceptionAndStackTraceToConsole(h,"enqueueImmediate exception")}}i.length=0};if(n.runningInNodeJS())r=function(){return setImmediate(function(){return o()})};else if(typeof window=="object"&&typeof window.addEventListener=="function"&&typeof window.postMessage=="function"){var s="enqueueImmediate-"+Math.random().toString();window.addEventListener("message",function(l){l.data===s&&o()});var a;n.runningInNullOrigin()?a="*":a=window.location.href,r=function(){return window.postMessage(s,a)}}else if(typeof MessageChannel=="function"&&typeof MessagePort=="function"){var c=new MessageChannel;c.port1.onmessage=function(){return o()},r=function(){return c.port2.postMessage(0)}}else r=function(){return setTimeout(function(){return o()},0)}},t.initializeScheduler()})(e=n.EventLoop||(n.EventLoop={})),n.enqueueImmediate=function(t){return e.enqueueImmediate(t)}})(j||(j={}));var j;(function(n){var e;(function(t){t.override=function(i,r){return t.extend(i,r)},t.extend=function(i,r){if(i==null)throw new TypeError("obj is null or undefined");if(typeof i!="object")throw new TypeError("obj is not an object");if(r==null&&(r={}),typeof r!="object")throw new TypeError("newProperties is not an object");if(r!=null)for(var o in r)i[o]=r[o];return i}})(e=n.ObjectTools||(n.ObjectTools={}))})(j||(j={}));var j;(function(n){n.getRandomIntegerInRange=function(e,t){return e+Math.floor(Math.random()*(t-e))},n.getRandomUTF16StringOfLength=function(e){for(var t="",i=0;i<e;i++){var r=void 0;do r=n.getRandomIntegerInRange(0,1114112);while(r>=55296&&r<=57343);t+=n.Encoding.CodePoint.decodeToString(r)}return t}})(j||(j={}));var j;(function(n){var e=function(){function t(i){i===void 0&&(i=1024),this.outputBufferCapacity=i,this.outputPosition=0,this.outputString="",this.outputBuffer=new Uint16Array(this.outputBufferCapacity)}return t.prototype.appendCharCode=function(i){this.outputBuffer[this.outputPosition++]=i,this.outputPosition===this.outputBufferCapacity&&this.flushBufferToOutputString()},t.prototype.appendCharCodes=function(i){for(var r=0,o=i.length;r<o;r++)this.appendCharCode(i[r])},t.prototype.appendString=function(i){for(var r=0,o=i.length;r<o;r++)this.appendCharCode(i.charCodeAt(r))},t.prototype.appendCodePoint=function(i){if(i<=65535)this.appendCharCode(i);else if(i<=1114111)this.appendCharCode(55296+(i-65536>>>10)),this.appendCharCode(56320+(i-65536&1023));else throw new Error("appendCodePoint: A code point of ".concat(i," cannot be encoded in UTF-16"))},t.prototype.getOutputString=function(){return this.flushBufferToOutputString(),this.outputString},t.prototype.flushBufferToOutputString=function(){this.outputPosition===this.outputBufferCapacity?this.outputString+=String.fromCharCode.apply(null,this.outputBuffer):this.outputString+=String.fromCharCode.apply(null,this.outputBuffer.subarray(0,this.outputPosition)),this.outputPosition=0},t}();n.StringBuilder=e})(j||(j={}));var j;(function(n){var e=function(){function t(){this.restart()}return t.prototype.restart=function(){this.startTime=t.getTimestamp()},t.prototype.getElapsedTime=function(){return t.getTimestamp()-this.startTime},t.prototype.getElapsedTimeAndRestart=function(){var i=this.getElapsedTime();return this.restart(),i},t.prototype.logAndRestart=function(i,r){r===void 0&&(r=!0);var o=this.getElapsedTime(),s="".concat(i,": ").concat(o.toFixed(3),"ms");return n.log(s,r),this.restart(),o},t.getTimestamp=function(){return this.timestampFunc||this.createGlobalTimestampFunction(),this.timestampFunc()},t.getMicrosecondTimestamp=function(){return Math.floor(t.getTimestamp()*1e3)},t.createGlobalTimestampFunction=function(){if(typeof process=="object"&&typeof process.hrtime=="function"){var i=0;this.timestampFunc=function(){var a=process.hrtime(),c=a[0]*1e3+a[1]/1e6;return i+c},i=Date.now()-this.timestampFunc()}else if(typeof chrome=="object"&&chrome.Interval){var r=Date.now(),o=new chrome.Interval;o.start(),this.timestampFunc=function(){return r+o.microseconds()/1e3}}else if(typeof performance=="object"&&performance.now){var s=Date.now()-performance.now();this.timestampFunc=function(){return s+performance.now()}}else Date.now?this.timestampFunc=function(){return Date.now()}:this.timestampFunc=function(){return new Date().getTime()}},t}();n.Timer=e})(j||(j={}));var j;(function(n){var e=function(){function t(i){i===void 0&&(i=!0),this.MinimumSequenceLength=4,this.MaximumSequenceLength=31,this.MaximumMatchDistance=32767,this.PrefixHashTableSize=65537,this.inputBufferStreamOffset=1,i&&typeof Uint32Array=="function"?this.prefixHashTable=new n.CompressorCustomHashTable(this.PrefixHashTableSize):this.prefixHashTable=new n.CompressorSimpleHashTable(this.PrefixHashTableSize)}return t.prototype.compressBlock=function(i){if(i==null)throw new TypeError("compressBlock: undefined or null input received");return typeof i=="string"&&(i=n.encodeUTF8(i)),i=n.BufferTools.convertToUint8ArrayIfNeeded(i),this.compressUtf8Block(i)},t.prototype.compressUtf8Block=function(i){if(!i||i.length==0)return new Uint8Array(0);var r=this.cropAndAddNewBytesToInputBuffer(i),o=this.inputBuffer,s=this.inputBuffer.length;this.outputBuffer=new Uint8Array(i.length),this.outputBufferPosition=0;for(var a=0,c=r;c<s;c++){var l=o[c],u=c<a;if(c>s-this.MinimumSequenceLength){u||this.outputRawByte(l);continue}var d=this.getBucketIndexForPrefix(c);if(!u){var h=this.findLongestMatch(c,d);h!=null&&(this.outputPointerBytes(h.length,h.distance),a=c+h.length,u=!0)}u||this.outputRawByte(l);var f=this.inputBufferStreamOffset+c;this.prefixHashTable.addValueToBucket(d,f)}return this.outputBuffer.subarray(0,this.outputBufferPosition)},t.prototype.findLongestMatch=function(i,r){var o=this.prefixHashTable.getArraySegmentForBucketIndex(r,this.reusableArraySegmentObject);if(o==null)return null;for(var s=this.inputBuffer,a,c=0,l=0;l<o.length;l++){var u=o.getInReversedOrder(l)-this.inputBufferStreamOffset,d=i-u,h=void 0;if(a===void 0?h=this.MinimumSequenceLength-1:a<128&&d>=128?h=c+(c>>>1):h=c,d>this.MaximumMatchDistance||h>=this.MaximumSequenceLength||i+h>=s.length)break;if(s[u+h]===s[i+h]){for(var f=0;;f++)if(i+f===s.length||s[u+f]!==s[i+f]){f>h&&(a=d,c=f);break}else if(f===this.MaximumSequenceLength)return{distance:d,length:this.MaximumSequenceLength}}}return a!==void 0?{distance:a,length:c}:null},t.prototype.getBucketIndexForPrefix=function(i){return(this.inputBuffer[i]*7880599+this.inputBuffer[i+1]*39601+this.inputBuffer[i+2]*199+this.inputBuffer[i+3])%this.PrefixHashTableSize},t.prototype.outputPointerBytes=function(i,r){r<128?(this.outputRawByte(192|i),this.outputRawByte(r)):(this.outputRawByte(224|i),this.outputRawByte(r>>>8),this.outputRawByte(r&255))},t.prototype.outputRawByte=function(i){this.outputBuffer[this.outputBufferPosition++]=i},t.prototype.cropAndAddNewBytesToInputBuffer=function(i){if(this.inputBuffer===void 0)return this.inputBuffer=i,0;var r=Math.min(this.inputBuffer.length,this.MaximumMatchDistance),o=this.inputBuffer.length-r;return this.inputBuffer=n.CompressionCommon.getCroppedAndAppendedByteArray(this.inputBuffer,o,r,i),this.inputBufferStreamOffset+=o,r},t}();n.Compressor=e})(j||(j={}));var j;(function(n){var e=function(){function t(i){this.minimumBucketCapacity=4,this.maximumBucketCapacity=64,this.bucketLocators=new Uint32Array(i*2),this.storage=new Uint32Array(i*2),this.storageIndex=1}return t.prototype.addValueToBucket=function(i,r){i<<=1,this.storageIndex>=this.storage.length>>>1&&this.compact();var o=this.bucketLocators[i],s;if(o===0)o=this.storageIndex,s=1,this.storage[this.storageIndex]=r,this.storageIndex+=this.minimumBucketCapacity;else{s=this.bucketLocators[i+1],s===this.maximumBucketCapacity-1&&(s=this.truncateBucketToNewerElements(o,s,this.maximumBucketCapacity/2));var a=o+s;this.storage[a]===0?(this.storage[a]=r,a===this.storageIndex&&(this.storageIndex+=s)):(n.ArrayTools.copyElements(this.storage,o,this.storage,this.storageIndex,s),o=this.storageIndex,this.storageIndex+=s,this.storage[this.storageIndex++]=r,this.storageIndex+=s),s++}this.bucketLocators[i]=o,this.bucketLocators[i+1]=s},t.prototype.truncateBucketToNewerElements=function(i,r,o){var s=i+r-o;return n.ArrayTools.copyElements(this.storage,s,this.storage,i,o),n.ArrayTools.zeroElements(this.storage,i+o,r-o),o},t.prototype.compact=function(){var i=this.bucketLocators,r=this.storage;this.bucketLocators=new Uint32Array(this.bucketLocators.length),this.storageIndex=1;for(var o=0;o<i.length;o+=2){var s=i[o+1];s!==0&&(this.bucketLocators[o]=this.storageIndex,this.bucketLocators[o+1]=s,this.storageIndex+=Math.max(Math.min(s*2,this.maximumBucketCapacity),this.minimumBucketCapacity))}this.storage=new Uint32Array(this.storageIndex*8);for(var o=0;o<i.length;o+=2){var a=i[o];if(a!==0){var c=this.bucketLocators[o],l=this.bucketLocators[o+1];n.ArrayTools.copyElements(r,a,this.storage,c,l)}}},t.prototype.getArraySegmentForBucketIndex=function(i,r){i<<=1;var o=this.bucketLocators[i];return o===0?null:(r===void 0&&(r=new n.ArraySegment(this.storage,o,this.bucketLocators[i+1])),r)},t.prototype.getUsedBucketCount=function(){return Math.floor(n.ArrayTools.countNonzeroValuesInArray(this.bucketLocators)/2)},t.prototype.getTotalElementCount=function(){for(var i=0,r=0;r<this.bucketLocators.length;r+=2)i+=this.bucketLocators[r+1];return i},t}();n.CompressorCustomHashTable=e})(j||(j={}));var j;(function(n){var e=function(){function t(i){this.maximumBucketCapacity=64,this.buckets=new Array(i)}return t.prototype.addValueToBucket=function(i,r){var o=this.buckets[i];o===void 0?this.buckets[i]=[r]:(o.length===this.maximumBucketCapacity-1&&n.ArrayTools.truncateStartingElements(o,this.maximumBucketCapacity/2),o.push(r))},t.prototype.getArraySegmentForBucketIndex=function(i,r){var o=this.buckets[i];return o===void 0?null:(r===void 0&&(r=new n.ArraySegment(o,0,o.length)),r)},t.prototype.getUsedBucketCount=function(){return n.ArrayTools.countNonzeroValuesInArray(this.buckets)},t.prototype.getTotalElementCount=function(){for(var i=0,r=0;r<this.buckets.length;r++)this.buckets[r]!==void 0&&(i+=this.buckets[r].length);return i},t}();n.CompressorSimpleHashTable=e})(j||(j={}));var j;(function(n){var e=function(){function t(){this.MaximumMatchDistance=32767,this.outputPosition=0}return t.prototype.decompressBlockToString=function(i){return i=n.BufferTools.convertToUint8ArrayIfNeeded(i),n.decodeUTF8(this.decompressBlock(i))},t.prototype.decompressBlock=function(i){this.inputBufferRemainder&&(i=n.ArrayTools.concatUint8Arrays([this.inputBufferRemainder,i]),this.inputBufferRemainder=void 0);for(var r=this.cropOutputBufferToWindowAndInitialize(Math.max(i.length*4,1024)),o=0,s=i.length;o<s;o++){var a=i[o];if(a>>>6!=3){this.outputByte(a);continue}var c=a>>>5;if(o==s-1||o==s-2&&c==7){this.inputBufferRemainder=i.subarray(o);break}if(i[o+1]>>>7===1)this.outputByte(a);else{var l=a&31,u=void 0;c==6?(u=i[o+1],o+=1):(u=i[o+1]<<8|i[o+2],o+=2);for(var d=this.outputPosition-u,h=0;h<l;h++)this.outputByte(this.outputBuffer[d+h])}}return this.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence(),n.CompressionCommon.getCroppedBuffer(this.outputBuffer,r,this.outputPosition-r)},t.prototype.outputByte=function(i){this.outputPosition===this.outputBuffer.length&&(this.outputBuffer=n.ArrayTools.doubleByteArrayCapacity(this.outputBuffer)),this.outputBuffer[this.outputPosition++]=i},t.prototype.cropOutputBufferToWindowAndInitialize=function(i){if(!this.outputBuffer)return this.outputBuffer=new Uint8Array(i),0;var r=Math.min(this.outputPosition,this.MaximumMatchDistance);if(this.outputBuffer=n.CompressionCommon.getCroppedBuffer(this.outputBuffer,this.outputPosition-r,r,i),this.outputPosition=r,this.outputBufferRemainder){for(var o=0;o<this.outputBufferRemainder.length;o++)this.outputByte(this.outputBufferRemainder[o]);this.outputBufferRemainder=void 0}return r},t.prototype.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence=function(){for(var i=1;i<=4&&this.outputPosition-i>=0;i++){var r=this.outputBuffer[this.outputPosition-i];if(i<4&&r>>>3===30||i<3&&r>>>4===14||i<2&&r>>>5===6){this.outputBufferRemainder=this.outputBuffer.subarray(this.outputPosition-i,this.outputPosition),this.outputPosition-=i;return}}},t}();n.Decompressor=e})(j||(j={}));var j;(function(n){var e;(function(t){var i;(function(r){var o=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]),s=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,255,255,255,255]),a="=",c=61;r.encode=function(l){return!l||l.length==0?"":n.runningInNodeJS()?n.BufferTools.uint8ArrayToBuffer(l).toString("base64"):r.encodeWithJS(l)},r.decode=function(l){return l?n.runningInNodeJS()?n.BufferTools.bufferToUint8Array(Buffer.from(l,"base64")):r.decodeWithJS(l):new Uint8Array(0)},r.encodeWithJS=function(l,u){if(u===void 0&&(u=!0),!l||l.length==0)return"";for(var d=o,h=new n.StringBuilder,f,b=0,v=l.length;b<v;b+=3)b<=v-3?(f=l[b]<<16|l[b+1]<<8|l[b+2],h.appendCharCode(d[f>>>18&63]),h.appendCharCode(d[f>>>12&63]),h.appendCharCode(d[f>>>6&63]),h.appendCharCode(d[f&63]),f=0):b===v-2?(f=l[b]<<16|l[b+1]<<8,h.appendCharCode(d[f>>>18&63]),h.appendCharCode(d[f>>>12&63]),h.appendCharCode(d[f>>>6&63]),u&&h.appendCharCode(c)):b===v-1&&(f=l[b]<<16,h.appendCharCode(d[f>>>18&63]),h.appendCharCode(d[f>>>12&63]),u&&(h.appendCharCode(c),h.appendCharCode(c)));return h.getOutputString()},r.decodeWithJS=function(l,u){if(!l||l.length==0)return new Uint8Array(0);var d=l.length%4;if(d===1)throw new Error("Invalid Base64 string: length % 4 == 1");d===2?l+=a+a:d===3&&(l+=a),u||(u=new Uint8Array(l.length));for(var h=0,f=l.length,b=0;b<f;b+=4){var v=s[l.charCodeAt(b)]<<18|s[l.charCodeAt(b+1)]<<12|s[l.charCodeAt(b+2)]<<6|s[l.charCodeAt(b+3)];u[h++]=v>>>16&255,u[h++]=v>>>8&255,u[h++]=v&255}return l.charCodeAt(f-1)==c&&h--,l.charCodeAt(f-2)==c&&h--,u.subarray(0,h)}})(i=t.Base64||(t.Base64={}))})(e=n.Encoding||(n.Encoding={}))})(j||(j={}));var j;(function(n){var e;(function(t){var i;(function(r){r.encode=function(o){if(o==null)throw new TypeError("BinaryString.encode: undefined or null input received");if(o.length===0)return"";for(var s=o.length,a=new n.StringBuilder,c=0,l=1,u=0;u<s;u+=2){var d=void 0;u==s-1?d=o[u]<<8:d=o[u]<<8|o[u+1],a.appendCharCode(c<<16-l|d>>>l),c=d&(1<<l)-1,l===15?(a.appendCharCode(c),c=0,l=1):l+=1,u>=s-2&&a.appendCharCode(c<<16-l)}return a.appendCharCode(32768|s%2),a.getOutputString()},r.decode=function(o){if(typeof o!="string")throw new TypeError("BinaryString.decode: invalid input type");if(o=="")return new Uint8Array(0);for(var s=new Uint8Array(o.length*3),a=0,c=function(f){s[a++]=f>>>8,s[a++]=f&255},l=0,u=0,d=0;d<o.length;d++){var h=o.charCodeAt(d);if(h>=32768){h==32769&&a--,u=0;continue}u==0?l=h:(c(l<<u|h>>>15-u),l=h&(1<<15-u)-1),u==15?u=0:u+=1}return s.subarray(0,a)}})(i=t.BinaryString||(t.BinaryString={}))})(e=n.Encoding||(n.Encoding={}))})(j||(j={}));var j;(function(n){var e;(function(t){var i;(function(r){r.encodeFromString=function(o,s){var a=o.charCodeAt(s);if(a<55296||a>56319)return a;var c=o.charCodeAt(s+1);if(c>=56320&&c<=57343)return 65536+((a-55296<<10)+(c-56320));throw new Error("getUnicodeCodePoint: Received a lead surrogate character, char code ".concat(a,", followed by ").concat(c,", which is not a trailing surrogate character code."))},r.decodeToString=function(o){if(o<=65535)return String.fromCharCode(o);if(o<=1114111)return String.fromCharCode(55296+(o-65536>>>10),56320+(o-65536&1023));throw new Error("getStringFromUnicodeCodePoint: A code point of ".concat(o," cannot be encoded in UTF-16"))}})(i=t.CodePoint||(t.CodePoint={}))})(e=n.Encoding||(n.Encoding={}))})(j||(j={}));var j;(function(n){var e;(function(t){var i;(function(r){var o=["000","001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255"];r.encode=function(s){for(var a=[],c=0;c<s.length;c++)a.push(o[s[c]]);return a.join(" ")}})(i=t.DecimalString||(t.DecimalString={}))})(e=n.Encoding||(n.Encoding={}))})(j||(j={}));var j;(function(n){var e;(function(t){var i;(function(r){r.encode=function(o){return t.BinaryString.encode(o).replace(/\0/g,"\u8002")},r.decode=function(o){return t.BinaryString.decode(o.replace(/\u8002/g,"\0"))}})(i=t.StorageBinaryString||(t.StorageBinaryString={}))})(e=n.Encoding||(n.Encoding={}))})(j||(j={}));var j;(function(n){var e;(function(t){var i;(function(r){var o,s;r.encode=function(a){return!a||a.length==0?new Uint8Array(0):n.runningInNodeJS()?n.BufferTools.bufferToUint8Array(Buffer.from(a,"utf8")):r.createNativeTextEncoderAndDecoderIfAvailable()?o.encode(a):r.encodeWithJS(a)},r.decode=function(a){return!a||a.length==0?"":n.runningInNodeJS()?n.BufferTools.uint8ArrayToBuffer(a).toString("utf8"):r.createNativeTextEncoderAndDecoderIfAvailable()?s.decode(a):r.decodeWithJS(a)},r.encodeWithJS=function(a,c){if(!a||a.length==0)return new Uint8Array(0);c||(c=new Uint8Array(a.length*4));for(var l=0,u=0;u<a.length;u++){var d=t.CodePoint.encodeFromString(a,u);if(d<=127)c[l++]=d;else if(d<=2047)c[l++]=192|d>>>6,c[l++]=128|d&63;else if(d<=65535)c[l++]=224|d>>>12,c[l++]=128|d>>>6&63,c[l++]=128|d&63;else if(d<=1114111)c[l++]=240|d>>>18,c[l++]=128|d>>>12&63,c[l++]=128|d>>>6&63,c[l++]=128|d&63,u++;else throw new Error("Invalid UTF-16 string: Encountered a character unsupported by UTF-8/16 (RFC 3629)")}return c.subarray(0,l)},r.decodeWithJS=function(a,c,l){if(c===void 0&&(c=0),!a||a.length==0)return"";l===void 0&&(l=a.length);for(var u=new n.StringBuilder,d,h,f=c,b=l;f<b;){if(h=a[f],!(h>>>7))d=h,f+=1;else if(h>>>5===6){if(f+1>=l)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+f);d=(h&31)<<6|a[f+1]&63,f+=2}else if(h>>>4===14){if(f+2>=l)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+f);d=(h&15)<<12|(a[f+1]&63)<<6|a[f+2]&63,f+=3}else if(h>>>3===30){if(f+3>=l)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+f);d=(h&7)<<18|(a[f+1]&63)<<12|(a[f+2]&63)<<6|a[f+3]&63,f+=4}else throw new Error("Invalid UTF-8 stream: An invalid lead byte value encountered at position "+f);u.appendCodePoint(d)}return u.getOutputString()},r.createNativeTextEncoderAndDecoderIfAvailable=function(){return o?!0:typeof TextEncoder=="function"?(o=new TextEncoder("utf-8"),s=new TextDecoder("utf-8"),!0):!1}})(i=t.UTF8||(t.UTF8={}))})(e=n.Encoding||(n.Encoding={}))})(j||(j={}));var j;(function(n){function e(v,I){if(I===void 0&&(I={}),v==null)throw new TypeError("compress: undefined or null input received");var R=n.CompressionCommon.detectCompressionSourceEncoding(v);I=n.ObjectTools.override({inputEncoding:R,outputEncoding:"ByteArray"},I);var G=new n.Compressor,K=G.compressBlock(v);return n.CompressionCommon.encodeCompressedBytes(K,I.outputEncoding)}n.compress=e;function t(v,I){if(I===void 0&&(I={}),v==null)throw new TypeError("decompress: undefined or null input received");I=n.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String"},I);var R=n.CompressionCommon.decodeCompressedBytes(v,I.inputEncoding),G=new n.Decompressor,K=G.decompressBlock(R);return n.CompressionCommon.encodeDecompressedBytes(K,I.outputEncoding)}n.decompress=t;function i(v,I,R){R==null&&(R=function(){});var G;try{G=n.CompressionCommon.detectCompressionSourceEncoding(v)}catch(K){R(void 0,K);return}I=n.ObjectTools.override({inputEncoding:G,outputEncoding:"ByteArray",useWebWorker:!0,blockSize:65536},I),n.enqueueImmediate(function(){I.useWebWorker&&n.WebWorker.createGlobalWorkerIfNeeded()?n.WebWorker.compressAsync(v,I,R):n.AsyncCompressor.compressAsync(v,I,R)})}n.compressAsync=i;function r(v,I,R){if(R==null&&(R=function(){}),v==null){R(void 0,new TypeError("decompressAsync: undefined or null input received"));return}I=n.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String",useWebWorker:!0,blockSize:65536},I);var G=n.BufferTools.convertToUint8ArrayIfNeeded(v);n.EventLoop.enqueueImmediate(function(){I.useWebWorker&&n.WebWorker.createGlobalWorkerIfNeeded()?n.WebWorker.decompressAsync(G,I,R):n.AsyncDecompressor.decompressAsync(v,I,R)})}n.decompressAsync=r;function o(){return n.AsyncCompressor.createCompressionStream()}n.createCompressionStream=o;function s(){return n.AsyncDecompressor.createDecompressionStream()}n.createDecompressionStream=s;function a(v){return n.Encoding.UTF8.encode(v)}n.encodeUTF8=a;function c(v){return n.Encoding.UTF8.decode(v)}n.decodeUTF8=c;function l(v){return n.Encoding.Base64.encode(v)}n.encodeBase64=l;function u(v){return n.Encoding.Base64.decode(v)}n.decodeBase64=u;function d(v){return n.Encoding.BinaryString.encode(v)}n.encodeBinaryString=d;function h(v){return n.Encoding.BinaryString.decode(v)}n.decodeBinaryString=h;function f(v){return n.Encoding.StorageBinaryString.encode(v)}n.encodeStorageBinaryString=f;function b(v){return n.Encoding.StorageBinaryString.decode(v)}n.decodeStorageBinaryString=b})(j||(j={}))});function km(n,e){return Object.is(n,e)}var st=null,cd=!1,Nm=1,bn=Symbol("SIGNAL");function he(n){let e=st;return st=n,e}function Om(){return st}var Pc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Lc(n){if(cd)throw new Error("");if(st===null)return;st.consumerOnSignalRead(n);let e=st.nextProducerIndex++;if(fd(st),e<st.producerNode.length&&st.producerNode[e]!==n&&Oc(st)){let t=st.producerNode[e];dd(t,st.producerIndexOfThis[e])}st.producerNode[e]!==n&&(st.producerNode[e]=n,st.producerIndexOfThis[e]=Oc(st)?iC(n,st,e):0),st.producerLastReadVersion[e]=n.version}function nC(){Nm++}function Pm(n){if(!(Oc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Nm)){if(!n.producerMustRecompute(n)&&!Vm(n)){Mm(n);return}n.producerRecomputeValue(n),Mm(n)}}function Lm(n){if(n.liveConsumerNode===void 0)return;let e=cd;cd=!0;try{for(let t of n.liveConsumerNode)t.dirty||$P(t)}finally{cd=e}}function Fm(){return st?.consumerAllowSignalWrites!==!1}function $P(n){n.dirty=!0,Lm(n),n.consumerMarkedDirty?.(n)}function Mm(n){n.dirty=!1,n.lastCleanEpoch=Nm}function ud(n){return n&&(n.nextProducerIndex=0),he(n)}function Bm(n,e){if(he(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Oc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)dd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Vm(n){fd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Pm(t),i!==t.version))return!0}return!1}function jm(n){if(fd(n),Oc(n))for(let e=0;e<n.producerNode.length;e++)dd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function iC(n,e,t){if(rC(n),n.liveConsumerNode.length===0&&oC(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=iC(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function dd(n,e){if(rC(n),n.liveConsumerNode.length===1&&oC(n))for(let i=0;i<n.producerNode.length;i++)dd(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];fd(r),r.producerIndexOfThis[i]=e}}function Oc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function fd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function rC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function oC(n){return n.producerNode!==void 0}function Um(n,e){let t=Object.create(WP);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(Pm(t),Lc(t),t.value===ld)throw t.error;return t.value};return i[bn]=t,i}var Rm=Symbol("UNSET"),xm=Symbol("COMPUTING"),ld=Symbol("ERRORED"),WP=$(E({},Pc),{value:Rm,dirty:!0,error:null,equal:km,kind:"computed",producerMustRecompute(n){return n.value===Rm||n.value===xm},producerRecomputeValue(n){if(n.value===xm)throw new Error("Detected cycle in computations.");let e=n.value;n.value=xm;let t=ud(n),i,r=!1;try{i=n.computation(),he(null),r=e!==Rm&&e!==ld&&i!==ld&&n.equal(e,i)}catch(o){i=ld,n.error=o}finally{Bm(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function GP(){throw new Error}var sC=GP;function aC(n){sC(n)}function Hm(n){sC=n}var zP=null;function $m(n,e){let t=Object.create(hd);t.value=n,e!==void 0&&(t.equal=e);let i=()=>(Lc(t),t.value);return i[bn]=t,i}function Fc(n,e){Fm()||aC(n),n.equal(n.value,e)||(n.value=e,qP(n))}function Wm(n,e){Fm()||aC(n),Fc(n,e(n.value))}var hd=$(E({},Pc),{equal:km,value:void 0,kind:"signal"});function qP(n){n.version++,nC(),Lm(n),zP?.()}function Gm(n){let e=he(null);try{return n()}finally{he(e)}}var zm;function Bc(){return zm}function ji(n){let e=zm;return zm=n,e}var pd=Symbol("NotFound");function X(n){return typeof n=="function"}function xs(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var gd=xs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function uo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var _e=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(X(i))try{i()}catch(o){e=o instanceof gd?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{cC(o)}catch(s){e=e??[],s instanceof gd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new gd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)cC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&uo(t,e)}remove(e){let{_finalizers:t}=this;t&&uo(t,e),e instanceof n&&e._removeParent(this)}};_e.EMPTY=(()=>{let n=new _e;return n.closed=!0,n})();var qm=_e.EMPTY;function md(n){return n instanceof _e||n&&"closed"in n&&X(n.remove)&&X(n.add)&&X(n.unsubscribe)}function cC(n){X(n)?n():n.unsubscribe()}var Fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ms={setTimeout(n,e,...t){let{delegate:i}=Ms;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ms;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function yd(n){Ms.setTimeout(()=>{let{onUnhandledError:e}=Fn;if(e)e(n);else throw n})}function Vc(){}var lC=Ym("C",void 0,void 0);function uC(n){return Ym("E",void 0,n)}function dC(n){return Ym("N",n,void 0)}function Ym(n,e,t){return{kind:n,value:e,error:t}}var fo=null;function ks(n){if(Fn.useDeprecatedSynchronousErrorHandling){let e=!fo;if(e&&(fo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=fo;if(fo=null,t)throw i}}else n()}function fC(n){Fn.useDeprecatedSynchronousErrorHandling&&fo&&(fo.errorThrown=!0,fo.error=n)}var ho=class extends _e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,md(e)&&e.add(this)):this.destination=ZP}static create(e,t,i){return new Bn(e,t,i)}next(e){this.isStopped?Xm(dC(e),this):this._next(e)}error(e){this.isStopped?Xm(uC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Xm(lC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},JP=Function.prototype.bind;function Km(n,e){return JP.call(n,e)}var Jm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){_d(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){_d(i)}else _d(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){_d(t)}}},Bn=class extends ho{constructor(e,t,i){super();let r;if(X(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Fn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Km(e.next,o),error:e.error&&Km(e.error,o),complete:e.complete&&Km(e.complete,o)}):r=e}this.destination=new Jm(r)}};function _d(n){Fn.useDeprecatedSynchronousErrorHandling?fC(n):yd(n)}function QP(n){throw n}function Xm(n,e){let{onStoppedNotification:t}=Fn;t&&Ms.setTimeout(()=>t(n,e))}var ZP={closed:!0,next:Vc,error:QP,complete:Vc};var Ns=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ft(n){return n}function Qm(...n){return Zm(n)}function Zm(n){return n.length===0?Ft:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var ne=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=tL(t)?t:new Bn(t,i,r);return ks(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=hC(i),new i((r,o)=>{let s=new Bn({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Ns](){return this}pipe(...t){return Zm(t)(this)}toPromise(t){return t=hC(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function hC(n){var e;return(e=n??Fn.Promise)!==null&&e!==void 0?e:Promise}function eL(n){return n&&X(n.next)&&X(n.error)&&X(n.complete)}function tL(n){return n&&n instanceof ho||eL(n)&&md(n)}function ey(n){return X(n?.lift)}function le(n){return e=>{if(ey(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(n,e,t,i,r){return new ty(n,e,t,i,r)}var ty=class extends ho{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Os(){return le((n,e)=>{let t=null;n._refCount++;let i=se(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Ps=class extends ne{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ey(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _e;let t=this.getSubject();e.add(this.source.subscribe(se(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_e.EMPTY)}return e}refCount(){return Os()(this)}};var Ls={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame,{delegate:i}=Ls;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);let r=e(o=>{t=void 0,n(o)});return new _e(()=>t?.(r))},requestAnimationFrame(...n){let{delegate:e}=Ls;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:e}=Ls;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var pC=xs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var U=(()=>{class n extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new vd(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new pC}next(t){ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?qm:(this.currentObservers=null,o.push(t),new _e(()=>{this.currentObservers=null,uo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new ne;return t.source=this,t}}return n.create=(e,t)=>new vd(e,t),n})(),vd=class extends U{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:qm}};var Ge=class extends U{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var jc={now(){return(jc.delegate||Date).now()},delegate:void 0};var bd=class extends U{constructor(e=1/0,t=1/0,i=jc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=t.now(),a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}};var wd=class extends _e{constructor(e,t){super()}schedule(e,t=0){return this}};var Uc={setInterval(n,e,...t){let{delegate:i}=Uc;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Uc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Fs=class extends wd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Uc.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Uc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,uo(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Bs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Bs.now=jc.now;var Vs=class extends Bs{constructor(e,t=Bs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Hc=new Vs(Fs),gC=Hc;var Ed=class extends Fs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return i!==null&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Ls.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);let{actions:o}=e;t!=null&&t===e._scheduled&&((r=o[o.length-1])===null||r===void 0?void 0:r.id)!==t&&(Ls.cancelAnimationFrame(t),e._scheduled=void 0)}};var Id=class extends Vs{flush(e){this._active=!0;let t;e?t=e.id:(t=this._scheduled,this._scheduled=void 0);let{actions:i}=this,r;e=e||i.shift();do if(r=e.execute(e.state,e.delay))break;while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}};var Cd=new Id(Ed);var xt=new ne(n=>n.complete());function Dd(n){return n&&X(n.schedule)}function ny(n){return n[n.length-1]}function Sd(n){return X(ny(n))?n.pop():void 0}function ii(n){return Dd(ny(n))?n.pop():void 0}function mC(n,e){return typeof ny(n)=="number"?n.pop():e}function _C(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(d){s(d)}}function c(u){try{l(i.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}function yC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function po(n){return this instanceof po?(this.v=n,this):new po(n)}function vC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(f){return function(b){return Promise.resolve(b).then(f,d)}}function a(f,b){i[f]&&(r[f]=function(v){return new Promise(function(I,R){o.push([f,v,I,R])>1||c(f,v)})},b&&(r[f]=b(r[f])))}function c(f,b){try{l(i[f](b))}catch(v){h(o[0][3],v)}}function l(f){f.value instanceof po?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,b){f(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}function bC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof yC=="function"?yC(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var js=n=>n&&typeof n.length=="number"&&typeof n!="function";function Td(n){return X(n?.then)}function Ad(n){return X(n[Ns])}function Rd(n){return Symbol.asyncIterator&&X(n?.[Symbol.asyncIterator])}function xd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function nL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Md=nL();function kd(n){return X(n?.[Md])}function Nd(n){return vC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield po(t.read());if(r)return yield po(void 0);yield yield po(i)}}finally{t.releaseLock()}})}function Od(n){return X(n?.getReader)}function Ee(n){if(n instanceof ne)return n;if(n!=null){if(Ad(n))return iL(n);if(js(n))return rL(n);if(Td(n))return oL(n);if(Rd(n))return wC(n);if(kd(n))return sL(n);if(Od(n))return aL(n)}throw xd(n)}function iL(n){return new ne(e=>{let t=n[Ns]();if(X(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rL(n){return new ne(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function oL(n){return new ne(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,yd)})}function sL(n){return new ne(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function wC(n){return new ne(e=>{cL(n,e).catch(t=>e.error(t))})}function aL(n){return wC(Nd(n))}function cL(n,e){var t,i,r,o;return _C(this,void 0,void 0,function*(){try{for(t=bC(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function zt(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Pd(n,e=0){return le((t,i)=>{t.subscribe(se(i,r=>zt(i,n,()=>i.next(r),e),()=>zt(i,n,()=>i.complete(),e),r=>zt(i,n,()=>i.error(r),e)))})}function Ld(n,e=0){return le((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function EC(n,e){return Ee(n).pipe(Ld(e),Pd(e))}function IC(n,e){return Ee(n).pipe(Ld(e),Pd(e))}function CC(n,e){return new ne(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function DC(n,e){return new ne(t=>{let i;return zt(t,e,()=>{i=n[Md](),zt(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>X(i?.return)&&i.return()})}function Fd(n,e){if(!n)throw new Error("Iterable cannot be null");return new ne(t=>{zt(t,e,()=>{let i=n[Symbol.asyncIterator]();zt(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function SC(n,e){return Fd(Nd(n),e)}function TC(n,e){if(n!=null){if(Ad(n))return EC(n,e);if(js(n))return CC(n,e);if(Td(n))return IC(n,e);if(Rd(n))return Fd(n,e);if(kd(n))return DC(n,e);if(Od(n))return SC(n,e)}throw xd(n)}function xe(n,e){return e?TC(n,e):Ee(n)}function q(...n){let e=ii(n);return xe(n,e)}function Us(n,e){let t=X(n)?n:()=>n,i=r=>r.error(t());return new ne(e?r=>e.schedule(i,0,r):i)}function Vn(n){return!!n&&(n instanceof ne||X(n.lift)&&X(n.subscribe))}var jn=xs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function iy(n,e){let t=typeof e=="object";return new Promise((i,r)=>{let o=new Bn({next:s=>{i(s),o.unsubscribe()},error:r,complete:()=>{t?i(e.defaultValue):r(new jn)}});n.subscribe(o)})}function AC(n){return n instanceof Date&&!isNaN(n)}function Z(n,e){return le((t,i)=>{let r=0;t.subscribe(se(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:lL}=Array;function uL(n,e){return lL(e)?n(...e):n(e)}function Hs(n){return Z(e=>uL(n,e))}var{isArray:dL}=Array,{getPrototypeOf:fL,prototype:hL,keys:pL}=Object;function Bd(n){if(n.length===1){let e=n[0];if(dL(e))return{args:e,keys:null};if(gL(e)){let t=pL(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function gL(n){return n&&typeof n=="object"&&fL(n)===hL}function Vd(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function jd(...n){let e=ii(n),t=Sd(n),{args:i,keys:r}=Bd(n);if(i.length===0)return xe([],e);let o=new ne(mL(i,e,r?s=>Vd(r,s):Ft));return t?o.pipe(Hs(t)):o}function mL(n,e,t=Ft){return i=>{RC(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)RC(e,()=>{let l=xe(n[c],e),u=!1;l.subscribe(se(i,d=>{o[c]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function RC(n,e,t){n?zt(t,n,e):e()}function xC(n,e,t,i,r,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=v=>l<i?b(v):c.push(v),b=v=>{o&&e.next(v),l++;let I=!1;Ee(t(v,u++)).subscribe(se(e,R=>{r?.(R),o?f(R):e.next(R)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<i;){let R=c.shift();s?zt(e,s,()=>b(R)):b(R)}h()}catch(R){e.error(R)}}))};return n.subscribe(se(e,f,()=>{d=!0,h()})),()=>{a?.()}}function ze(n,e,t=1/0){return X(e)?ze((i,r)=>Z((o,s)=>e(i,o,r,s))(Ee(n(i,r))),t):(typeof e=="number"&&(t=e),le((i,r)=>xC(i,r,n,t)))}function Ud(n=1/0){return ze(Ft,n)}function MC(){return Ud(1)}function Ui(...n){return MC()(xe(n,ii(n)))}function Un(n){return new ne(e=>{Ee(n()).subscribe(e)})}function $c(...n){let e=Sd(n),{args:t,keys:i}=Bd(n),r=new ne(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ee(t[u]).subscribe(se(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(i?Vd(i,a):a),o.complete())}))}});return e?r.pipe(Hs(e)):r}var yL=["addListener","removeListener"],_L=["addEventListener","removeEventListener"],vL=["on","off"];function Wc(n,e,t,i){if(X(t)&&(i=t,t=void 0),i)return Wc(n,e,t).pipe(Hs(i));let[r,o]=EL(n)?_L.map(s=>a=>n[s](e,a,t)):bL(n)?yL.map(kC(n,e)):wL(n)?vL.map(kC(n,e)):[];if(!r&&js(n))return ze(s=>Wc(s,e,t))(Ee(n));if(!r)throw new TypeError("Invalid event target");return new ne(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function kC(n,e){return t=>i=>n[t](e,i)}function bL(n){return X(n.addListener)&&X(n.removeListener)}function wL(n){return X(n.on)&&X(n.off)}function EL(n){return X(n.addEventListener)&&X(n.removeEventListener)}function Hd(n=0,e,t=gC){let i=-1;return e!=null&&(Dd(e)?t=e:i=e),new ne(r=>{let o=AC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function ry(n=0,e=Hc){return n<0&&(n=0),Hd(n,n,e)}function Hi(...n){let e=ii(n),t=mC(n,1/0),i=n;return i.length?i.length===1?Ee(i[0]):Ud(t)(xe(i,e)):xt}function Ne(n,e){return le((t,i)=>{let r=0;t.subscribe(se(i,o=>n.call(e,o,r++)&&i.next(o)))})}function NC(n){return le((e,t)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(se(t,l=>{i=!0,r=l,o||Ee(n(l)).subscribe(o=se(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}function $d(n,e=Hc){return NC(()=>Hd(n,e))}function Dr(n){return le((e,t)=>{let i=null,r=!1,o;i=e.subscribe(se(t,void 0,void 0,s=>{o=Ee(n(s,Dr(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function OC(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(se(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function ri(n,e){return X(e)?ze(n,e,1):ze(n,1)}function Sr(n){return le((e,t)=>{let i=!1;e.subscribe(se(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function qe(n){return n<=0?()=>xt:le((e,t)=>{let i=0;e.subscribe(se(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Wd(n,e=Ft){return n=n??IL,le((t,i)=>{let r,o=!0;t.subscribe(se(i,s=>{let a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function IL(n,e){return n===e}function Gd(n=CL){return le((e,t)=>{let i=!1;e.subscribe(se(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function CL(){return new jn}function go(n){return le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function $i(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Ne((r,o)=>n(r,o,i)):Ft,qe(1),t?Sr(e):Gd(()=>new jn))}function $s(n){return n<=0?()=>xt:le((e,t)=>{let i=[];e.subscribe(se(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function oy(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Ne((r,o)=>n(r,o,i)):Ft,$s(1),t?Sr(e):Gd(()=>new jn))}function sy(n,e){return le(OC(n,e,arguments.length>=2,!0))}function PC(n={}){let{connector:e=()=>new U,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,u=d=!1},b=()=>{let v=s;f(),v?.unsubscribe()};return le((v,I)=>{l++,!d&&!u&&h();let R=c=c??e();I.add(()=>{l--,l===0&&!d&&!u&&(a=ay(b,r))}),R.subscribe(I),!s&&l>0&&(s=new Bn({next:G=>R.next(G),error:G=>{d=!0,h(),a=ay(f,t,G),R.error(G)},complete:()=>{u=!0,h(),a=ay(f,i),R.complete()}}),Ee(v).subscribe(s))})(o)}}function ay(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new Bn({next:()=>{i.unsubscribe(),n()}});return Ee(e(...t)).subscribe(i)}function Gc(n,e,t){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n:i=n??1/0,PC({connector:()=>new bd(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function cy(n){return Ne((e,t)=>n<=t)}function Hn(...n){let e=ii(n);return le((t,i)=>{(e?Ui(n,t,e):Ui(n,t)).subscribe(i)})}function at(n,e){return le((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(se(i,c=>{r?.unsubscribe();let l=0,u=o++;Ee(n(c,u)).subscribe(r=se(i,d=>i.next(e?e(c,d,u,l++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ln(n){return le((e,t)=>{Ee(n).subscribe(se(t,()=>t.complete(),Vc)),!t.closed&&e.subscribe(t)})}function Ze(n,e,t){let i=X(n)||e||t?{next:n,error:e,complete:t}:n;return i?le((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(se(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Ft}var RD="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,t){super(SL(e,t)),this.code=e}};function DL(n){return`NG0${Math.abs(n)}`}function SL(n,e){return`${DL(n)}${e?": "+e:""}`}var xD=Symbol("InputSignalNode#UNSET"),TL=$(E({},hd),{transformFn:void 0,applyValueToInputSignal(n,e){Fc(n,e)}});function MD(n,e){let t=Object.create(TL);t.value=n,t.transformFn=e?.transform;function i(){if(Lc(t),t.value===xD){let r=null;throw new H(-950,r)}return t.value}return i[bn]=t,i}function ol(n){return{toString:n}.toString()}var zd="__parameters__";function AL(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function kD(n,e,t){return ol(()=>{let i=AL(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(zd)?c[zd]:Object.defineProperty(c,zd,{value:[]})[zd];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Xc=globalThis;function Te(n){for(let e in n)if(n[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function RL(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Yt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Yt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function LC(n,e){return n?e?`${n} ${e}`:n:e||""}var xL=Te({__forward_ref__:Te});function In(n){return n.__forward_ref__=In,n.toString=function(){return Yt(this())},n}function Bt(n){return ND(n)?n():n}function ND(n){return typeof n=="function"&&n.hasOwnProperty(xL)&&n.__forward_ref__===In}function S(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ct(n){return{providers:n.providers||[],imports:n.imports||[]}}function kf(n){return FC(n,PD)||FC(n,LD)}function OD(n){return kf(n)!==null}function FC(n,e){return n.hasOwnProperty(e)?n[e]:null}function ML(n){let e=n&&(n[PD]||n[LD]);return e||null}function BC(n){return n&&(n.hasOwnProperty(VC)||n.hasOwnProperty(kL))?n[VC]:null}var PD=Te({\u0275prov:Te}),VC=Te({\u0275inj:Te}),LD=Te({ngInjectableDef:Te}),kL=Te({ngInjectorDef:Te}),P=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=S({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function FD(n){return n&&!!n.\u0275providers}var NL=Te({\u0275cmp:Te}),OL=Te({\u0275dir:Te}),PL=Te({\u0275pipe:Te}),LL=Te({\u0275mod:Te}),rf=Te({\u0275fac:Te}),Kc=Te({__NG_ELEMENT_ID__:Te}),jC=Te({__NG_ENV_ID__:Te});function sl(n){return typeof n=="string"?n:n==null?"":String(n)}function FL(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():sl(n)}function BD(n,e){throw new H(-200,n)}function D_(n,e){throw new H(-201,!1)}var ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ae||{}),Iy;function VD(){return Iy}function qt(n){let e=Iy;return Iy=n,e}function jD(n,e,t){let i=kf(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&ae.Optional)return null;if(e!==void 0)return e;D_(n,"Injector")}var BL={},mo=BL,Cy="__NG_DI_FLAG__",of=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=t;return this.injector.get(e,i.optional?pd:mo,i)}},sf="ngTempTokenPath",VL="ngTokenPath",jL=/\n/gm,UL="\u0275",UC="__source";function HL(n,e=ae.Default){if(Bc()===void 0)throw new H(-203,!1);if(Bc()===null)return jD(n,void 0,e);{let t=Bc(),i;return t instanceof of?i=t.injector:i=t,i.get(n,e&ae.Optional?null:void 0,e)}}function L(n,e=ae.Default){return(VD()||HL)(Bt(n),e)}function _(n,e=ae.Default){return L(n,Nf(e))}function Nf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Dy(n){let e=[];for(let t=0;t<n.length;t++){let i=Bt(n[t]);if(Array.isArray(i)){if(i.length===0)throw new H(900,!1);let r,o=ae.Default;for(let s=0;s<i.length;s++){let a=i[s],c=$L(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(L(r,o))}else e.push(L(i))}return e}function UD(n,e){return n[Cy]=e,n.prototype[Cy]=e,n}function $L(n){return n[Cy]}function WL(n,e,t,i){let r=n[sf];throw e[UC]&&r.unshift(e[UC]),n.message=GL(`
`+n.message,r,t,i),n[VL]=r,n[sf]=null,n}function GL(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==UL?n.slice(2):n;let r=Yt(e);if(Array.isArray(e))r=e.map(Yt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Yt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(jL,`
  `)}`}var HD=UD(kD("Optional"),8);var zL=UD(kD("SkipSelf"),4);function _o(n,e){let t=n.hasOwnProperty(rf);return t?n[rf]:null}function qL(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function YL(n){return n.flat(Number.POSITIVE_INFINITY)}function S_(n,e){n.forEach(t=>Array.isArray(t)?S_(t,e):e(t))}function $D(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function af(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function KL(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function XL(n,e,t){let i=al(n,e);return i>=0?n[i|1]=t:(i=~i,KL(n,i,e,t)),i}function ly(n,e){let t=al(n,e);if(t>=0)return n[t|1]}function al(n,e){return JL(n,e,1)}function JL(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var vo={},wn=[],Jc=new P(""),WD=new P("",-1),GD=new P(""),cf=class{get(e,t=mo){if(t===mo){let i=new Error(`NullInjectorError: No provider for ${Yt(e)}!`);throw i.name="NullInjectorError",i}return t}};function zD(n,e){let t=n[LL]||null;if(!t&&e===!0)throw new Error(`Type ${Yt(n)} does not have '\u0275mod' property.`);return t}function bo(n){return n[NL]||null}function QL(n){return n[OL]||null}function ZL(n){return n[PL]||null}function To(n){return{\u0275providers:n}}function eF(...n){return{\u0275providers:qD(!0,n),\u0275fromNgModule:!0}}function qD(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return S_(e,s=>{let a=s;Sy(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&YD(r,o),t}function YD(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];T_(r,o=>{e(o,i)})}}function Sy(n,e,t,i){if(n=Bt(n),!n)return!1;let r=null,o=BC(n),s=!o&&bo(n);if(!o&&!s){let c=n.ngModule;if(o=BC(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Sy(l,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{S_(o.imports,u=>{Sy(u,e,t,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&YD(l,e)}if(!a){let l=_o(r)||(()=>new r);e({provide:r,useFactory:l,deps:wn},r),e({provide:GD,useValue:r,multi:!0},r),e({provide:Jc,useValue:()=>L(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=n;T_(c,u=>{e(u,l)})}}else return!1;return r!==n&&n.providers!==void 0}function T_(n,e){for(let t of n)FD(t)&&(t=t.\u0275providers),Array.isArray(t)?T_(t,e):e(t)}var tF=Te({provide:String,useValue:Te});function KD(n){return n!==null&&typeof n=="object"&&tF in n}function nF(n){return!!(n&&n.useExisting)}function iF(n){return!!(n&&n.useFactory)}function Xs(n){return typeof n=="function"}function rF(n){return!!n.useClass}var Of=new P(""),Jd={},HC={},uy;function Pf(){return uy===void 0&&(uy=new cf),uy}var pt=class{},Qc=class extends pt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,Ay(e,s=>this.processProvider(s)),this.records.set(WD,Ws(void 0,this)),r.has("environment")&&this.records.set(pt,Ws(void 0,this));let o=this.records.get(Of);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(GD,wn,ae.Self))}retrieve(e,t){let i=t;return this.get(e,i.optional?pd:mo,i)}destroy(){qc(this),this._destroyed=!0;let e=he(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return qc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){qc(this);let t=ji(this),i=qt(void 0),r;try{return e()}finally{ji(t),qt(i)}}get(e,t=mo,i=ae.Default){if(qc(this),e.hasOwnProperty(jC))return e[jC](this);i=Nf(i);let r,o=ji(this),s=qt(void 0);try{if(!(i&ae.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=lF(e)&&kf(e);l&&this.injectableDefInScope(l)?c=Ws(Ty(e),Jd):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,i)}let a=i&ae.Self?Pf():this.parent;return t=i&ae.Optional&&t===mo?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[sf]=a[sf]||[]).unshift(Yt(e)),o)throw a;return WL(a,e,"R3InjectorError",this.source)}else throw a}finally{qt(s),ji(o)}}resolveInjectorInitializers(){let e=he(null),t=ji(this),i=qt(void 0),r;try{let o=this.get(Jc,wn,ae.Self);for(let s of o)s()}finally{ji(t),qt(i),he(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Yt(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Bt(e);let t=Xs(e)?e:Bt(e&&e.provide),i=sF(e);if(!Xs(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Ws(void 0,Jd,!0),r.factory=()=>Dy(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t,i){let r=he(null);try{return t.value===HC?BD(Yt(e)):t.value===Jd&&(t.value=HC,t.value=t.factory(void 0,i)),typeof t.value=="object"&&t.value&&cF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{he(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Bt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ty(n){let e=kf(n),t=e!==null?e.factory:_o(n);if(t!==null)return t;if(n instanceof P)throw new H(204,!1);if(n instanceof Function)return oF(n);throw new H(204,!1)}function oF(n){if(n.length>0)throw new H(204,!1);let t=ML(n);return t!==null?()=>t.factory(n):()=>new n}function sF(n){if(KD(n))return Ws(void 0,n.useValue);{let e=XD(n);return Ws(e,Jd)}}function XD(n,e,t){let i;if(Xs(n)){let r=Bt(n);return _o(r)||Ty(r)}else if(KD(n))i=()=>Bt(n.useValue);else if(iF(n))i=()=>n.useFactory(...Dy(n.deps||[]));else if(nF(n))i=(r,o)=>L(Bt(n.useExisting),o!==void 0&&o&ae.Optional?ae.Optional:void 0);else{let r=Bt(n&&(n.useClass||n.provide));if(aF(n))i=()=>new r(...Dy(n.deps));else return _o(r)||Ty(r)}return i}function qc(n){if(n.destroyed)throw new H(205,!1)}function Ws(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function aF(n){return!!n.deps}function cF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function lF(n){return typeof n=="function"||typeof n=="object"&&n instanceof P}function Ay(n,e){for(let t of n)Array.isArray(t)?Ay(t,e):t&&FD(t)?Ay(t.\u0275providers,e):e(t)}function dn(n,e){let t;n instanceof Qc?(qc(n),t=n):t=new of(n);let i,r=ji(t),o=qt(void 0);try{return e()}finally{ji(r),qt(o)}}function JD(){return VD()!==void 0||Bc()!=null}function QD(n){if(!JD())throw new H(-203,!1)}function uF(n){return typeof n=="function"}var Yi=0,re=1,ee=2,kt=3,Wn=4,qn=5,Zc=6,lf=7,ht=8,Js=9,Wi=10,je=11,el=12,$C=13,ia=14,Gn=15,wo=16,Gs=17,Gi=18,Lf=19,ZD=20,Tr=21,dy=22,uf=23,En=24,Ys=25,Vt=26,eS=1;var Eo=7,df=8,Qs=9,Mt=10;function Ar(n){return Array.isArray(n)&&typeof n[eS]=="object"}function Ki(n){return Array.isArray(n)&&n[eS]===!0}function A_(n){return(n.flags&4)!==0}function ra(n){return n.componentOffset>-1}function Ff(n){return(n.flags&1)===1}function si(n){return!!n.template}function ff(n){return(n[ee]&512)!==0}function oa(n){return(n[ee]&256)===256}var Ry=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function tS(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var Cn=(()=>{let n=()=>nS;return n.ngInherit=!0,n})();function nS(n){return n.type.prototype.ngOnChanges&&(n.setInput=fF),dF}function dF(){let n=rS(this),e=n?.current;if(e){let t=n.previous;if(t===vo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function fF(n,e,t,i,r){let o=this.declaredInputs[i],s=rS(n)||hF(n,{previous:vo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Ry(l&&l.currentValue,t,c===vo),tS(n,e,r,t)}var iS="__ngSimpleChanges__";function rS(n){return n[iS]||null}function hF(n,e){return n[iS]=e}var WC=null;var Ie=function(n,e=null,t){WC?.(n,e,t)},pF="svg",gF="math";function ai(n){for(;Array.isArray(n);)n=n[Yi];return n}function oS(n,e){return ai(e[n])}function fi(n,e){return ai(e[n.index])}function R_(n,e){return n.data[e]}function x_(n,e){return n[e]}function mF(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function ci(n,e){let t=e[n];return Ar(t)?t:t[Yi]}function yF(n){return(n[ee]&4)===4}function M_(n){return(n[ee]&128)===128}function _F(n){return Ki(n[kt])}function Rr(n,e){return e==null?null:n[e]}function sS(n){n[Gs]=0}function aS(n){n[ee]&1024||(n[ee]|=1024,M_(n)&&cl(n))}function vF(n,e){for(;n>0;)e=e[ia],n--;return e}function Bf(n){return!!(n[ee]&9216||n[En]?.dirty)}function xy(n){n[Wi].changeDetectionScheduler?.notify(8),n[ee]&64&&(n[ee]|=1024),Bf(n)&&cl(n)}function cl(n){n[Wi].changeDetectionScheduler?.notify(0);let e=Io(n);for(;e!==null&&!(e[ee]&8192||(e[ee]|=8192,!M_(e)));)e=Io(e)}function cS(n,e){if(oa(n))throw new H(911,!1);n[Tr]===null&&(n[Tr]=[]),n[Tr].push(e)}function bF(n,e){if(n[Tr]===null)return;let t=n[Tr].indexOf(e);t!==-1&&n[Tr].splice(t,1)}function Io(n){let e=n[kt];return Ki(e)?e[kt]:e}function k_(n){return n[lf]??=[]}function N_(n){return n.cleanup??=[]}function wF(n,e,t,i){let r=k_(e);r.push(t),n.firstCreatePass&&N_(n).push(i,r.length-1)}var fe={lFrame:gS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var My=!1;function EF(){return fe.lFrame.elementDepthCount}function IF(){fe.lFrame.elementDepthCount++}function CF(){fe.lFrame.elementDepthCount--}function O_(){return fe.bindingsEnabled}function DF(){return fe.skipHydrationRootTNode!==null}function SF(n){return fe.skipHydrationRootTNode===n}function TF(){fe.skipHydrationRootTNode=null}function ue(){return fe.lFrame.lView}function Ye(){return fe.lFrame.tView}function J(n){return fe.lFrame.contextLView=n,n[ht]}function Q(n){return fe.lFrame.contextLView=null,n}function Kt(){let n=lS();for(;n!==null&&n.type===64;)n=n.parent;return n}function lS(){return fe.lFrame.currentTNode}function AF(){let n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ao(n,e){let t=fe.lFrame;t.currentTNode=n,t.isParent=e}function P_(){return fe.lFrame.isParent}function uS(){fe.lFrame.isParent=!1}function RF(){return fe.lFrame.contextLView}function dS(){return My}function GC(n){let e=My;return My=n,e}function ll(){let n=fe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function xF(n){return fe.lFrame.bindingIndex=n}function sa(){return fe.lFrame.bindingIndex++}function MF(n){let e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function kF(){return fe.lFrame.inI18n}function NF(n,e){let t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,ky(e)}function OF(){return fe.lFrame.currentDirectiveIndex}function ky(n){fe.lFrame.currentDirectiveIndex=n}function PF(n){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function fS(){return fe.lFrame.currentQueryIndex}function L_(n){fe.lFrame.currentQueryIndex=n}function LF(n){let e=n[re];return e.type===2?e.declTNode:e.type===1?n[qn]:null}function hS(n,e,t){if(t&ae.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&ae.Host);)if(r=LF(o),r===null||(o=o[ia],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=fe.lFrame=pS();return i.currentTNode=e,i.lView=n,!0}function F_(n){let e=pS(),t=n[re];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function pS(){let n=fe.lFrame,e=n===null?null:n.child;return e===null?gS(n):e}function gS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function mS(){let n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var yS=mS;function B_(){let n=mS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function FF(n){return(fe.lFrame.contextLView=vF(n,fe.lFrame.contextLView))[ht]}function Ro(){return fe.lFrame.selectedIndex}function Co(n){fe.lFrame.selectedIndex=n}function ul(){let n=fe.lFrame;return R_(n.tView,n.selectedIndex)}function BF(){return fe.lFrame.currentNamespace}var _S=!0;function Vf(){return _S}function jf(n){_S=n}function VF(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=nS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function V_(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Qd(n,e,t){vS(n,e,3,t)}function Zd(n,e,t,i){(n[ee]&3)===t&&vS(n,e,t,i)}function fy(n,e){let t=n[ee];(t&3)===e&&(t&=16383,t+=1,n[ee]=t)}function vS(n,e,t,i){let r=i!==void 0?n[Gs]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[Gs]+=65536),(a<o||o==-1)&&(jF(n,t,e,c),n[Gs]=(n[Gs]&4294901760)+c+2),c++}function zC(n,e){Ie(4,n,e);let t=he(null);try{e.call(n)}finally{he(t),Ie(5,n,e)}}function jF(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[ee]>>14<n[Gs]>>16&&(n[ee]&3)===e&&(n[ee]+=16384,zC(a,o)):zC(a,o)}var Ks=-1,Do=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=i}};function UF(n){return(n.flags&8)!==0}function HF(n){return(n.flags&16)!==0}function $F(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];GF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function WF(n){return n===3||n===4||n===6}function GF(n){return n.charCodeAt(0)===64}function Zs(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?qC(n,t,r,null,e[++i]):qC(n,t,r,null,null))}}return n}function qC(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r)}function bS(n){return n!==Ks}function hf(n){return n&32767}function zF(n){return n>>16}function pf(n,e){let t=zF(n),i=e;for(;t>0;)i=i[ia],t--;return i}var Ny=!0;function gf(n){let e=Ny;return Ny=n,e}var qF=256,wS=qF-1,ES=5,YF=0,oi={};function KF(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Kc)&&(i=t[Kc]),i==null&&(i=t[Kc]=YF++);let r=i&wS,o=1<<r;e.data[n+(r>>ES)]|=o}function mf(n,e){let t=IS(n,e);if(t!==-1)return t;let i=e[re];i.firstCreatePass&&(n.injectorIndex=e.length,hy(i.data,n),hy(e,null),hy(i.blueprint,null));let r=j_(n,e),o=n.injectorIndex;if(bS(r)){let s=hf(r),a=pf(r,e),c=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function hy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function IS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function j_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=AS(r),i===null)return Ks;if(t++,r=r[ia],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Ks}function Oy(n,e,t){KF(n,e,t)}function CS(n,e,t){if(t&ae.Optional||n!==void 0)return n;D_(e,"NodeInjector")}function DS(n,e,t,i){if(t&ae.Optional&&i===void 0&&(i=null),(t&(ae.Self|ae.Host))===0){let r=n[Js],o=qt(void 0);try{return r?r.get(e,i,t&ae.Optional):jD(e,i,t&ae.Optional)}finally{qt(o)}}return CS(i,e,t)}function SS(n,e,t,i=ae.Default,r){if(n!==null){if(e[ee]&2048&&!(i&ae.Self)){let s=ZF(n,e,t,i,oi);if(s!==oi)return s}let o=TS(n,e,t,i,oi);if(o!==oi)return o}return DS(e,t,i,r)}function TS(n,e,t,i,r){let o=JF(t);if(typeof o=="function"){if(!hS(e,n,i))return i&ae.Host?CS(r,t,i):DS(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&ae.Optional))D_(t);else return s}finally{yS()}}else if(typeof o=="number"){let s=null,a=IS(n,e),c=Ks,l=i&ae.Host?e[Gn][qn]:null;for((a===-1||i&ae.SkipSelf)&&(c=a===-1?j_(n,e):e[a+8],c===Ks||!KC(i,!1)?a=-1:(s=e[re],a=hf(c),e=pf(c,e)));a!==-1;){let u=e[re];if(YC(o,a,u.data)){let d=XF(a,e,t,s,i,l);if(d!==oi)return d}c=e[a+8],c!==Ks&&KC(i,e[re].data[a+8]===l)&&YC(o,a,e)?(s=u,a=hf(c),e=pf(c,e)):a=-1}}return r}function XF(n,e,t,i,r,o){let s=e[re],a=s.data[n+8],c=i==null?ra(a)&&Ny:i!=s&&(a.type&3)!==0,l=r&ae.Host&&o===a,u=ef(a,s,t,c,l);return u!==null?tl(e,s,u,a,r):oi}function ef(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:l;for(let f=d;f<h;f++){let b=s[f];if(f<c&&t===b||f>=c&&b.type===t)return f}if(r){let f=s[c];if(f&&si(f)&&f.type===t)return c}return null}function tl(n,e,t,i,r){let o=n[t],s=e.data;if(o instanceof Do){let a=o;a.resolving&&BD(FL(s[t]));let c=gf(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?qt(a.injectImpl):null,d=hS(n,i,ae.Default);try{o=n[t]=a.factory(void 0,r,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&VF(t,s[t],e)}finally{u!==null&&qt(u),gf(c),a.resolving=!1,yS()}}return o}function JF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Kc)?n[Kc]:void 0;return typeof e=="number"?e>=0?e&wS:QF:e}function YC(n,e,t){let i=1<<n;return!!(t[e+(n>>ES)]&i)}function KC(n,e){return!(n&ae.Self)&&!(n&ae.Host&&e)}var yo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return SS(this._tNode,this._lView,e,Nf(i),t)}};function QF(){return new yo(Kt(),ue())}function et(n){return ol(()=>{let e=n.prototype.constructor,t=e[rf]||Py(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[rf]||Py(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Py(n){return ND(n)?()=>{let e=Py(Bt(n));return e&&e()}:_o(n)}function ZF(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[ee]&2048&&!ff(s);){let a=TS(o,s,t,i|ae.Self,oi);if(a!==oi)return a;let c=o.parent;if(!c){let l=s[ZD];if(l){let u=l.get(t,oi,i);if(u!==oi)return u}c=AS(s),s=s[ia]}o=c}return r}function AS(n){let e=n[re],t=e.type;return t===2?e.declTNode:t===1?n[qn]:null}function XC(n,e=null,t=null,i){let r=RS(n,e,t,i);return r.resolveInjectorInitializers(),r}function RS(n,e=null,t=null,i,r=new Set){let o=[t||wn,eF(n)];return i=i||(typeof n=="object"?void 0:Yt(n)),new Qc(o,e||Pf(),i||null,r)}var Ae=class n{static THROW_IF_NOT_FOUND=mo;static NULL=new cf;static create(e,t){if(Array.isArray(e))return XC({name:""},t,e,"");{let i=e.name??"";return XC({name:i},e.parent,e.providers,i)}}static \u0275prov=S({token:n,providedIn:"any",factory:()=>L(WD)});static __NG_ELEMENT_ID__=-1};var e2=new P("");e2.__NG_ELEMENT_ID__=n=>{let e=Kt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(n&ae.Optional)return null;throw new H(204,!1)};var xS=!1,aa=(()=>{class n{static __NG_ELEMENT_ID__=t2;static __NG_ENV_ID__=t=>t}return n})(),Ly=class extends aa{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return oa(t)?(e(),()=>{}):(cS(t,e),()=>bF(t,e))}};function t2(){return new Ly(ue())}var ea=class{},U_=new P("",{providedIn:"root",factory:()=>!1});var MS=new P(""),kS=new P(""),xr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ge(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}return n})();var Fy=class extends U{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,JD()&&(this.destroyRef=_(aa,{optional:!0})??void 0,this.pendingTasks=_(xr,{optional:!0})??void 0)}emit(e){let t=he(null);try{super.next(e)}finally{he(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof _e&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},ie=Fy;function yf(...n){}function NS(n){let e,t;function i(){n=yf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function JC(n){return queueMicrotask(()=>n()),()=>{n=yf}}var H_="isAngularZone",_f=H_+"_ID",n2=0,pe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ie(!1);onMicrotaskEmpty=new ie(!1);onStable=new ie(!1);onError=new ie(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=xS}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,o2(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(H_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,i2,yf,yf);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},i2={};function $_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function r2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){NS(()=>{n.callbackScheduled=!1,By(n),n.isCheckStableRunning=!0,$_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),By(n)}function o2(n){let e=()=>{r2(n)},t=n2++;n._inner=n._inner.fork({name:"angular",properties:{[H_]:!0,[_f]:t,[_f+t]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(s2(c))return i.invokeTask(o,s,a,c);try{return QC(n),i.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),ZC(n)}},onInvoke:(i,r,o,s,a,c,l)=>{try{return QC(n),i.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!a2(c)&&e(),ZC(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,By(n),$_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function By(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function QC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ZC(n){n._nesting--,$_(n)}var Vy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ie;onMicrotaskEmpty=new ie;onStable=new ie;onError=new ie;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function s2(n){return OS(n,"__ignore_ng_zone__")}function a2(n){return OS(n,"__scheduler_tick__")}function OS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var li=class{_console=console;handleError(e){this._console.error("ERROR",e)}},c2=new P("",{providedIn:"root",factory:()=>{let n=_(pe),e=_(li);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function eD(n,e){return MD(n,e)}function l2(n){return MD(xD,n)}var PS=(eD.required=l2,eD);function u2(){return ca(Kt(),ue())}function ca(n,e){return new Pe(fi(n,e))}var Pe=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=u2}return n})();function d2(n){return n instanceof Pe?n.nativeElement:n}function LS(n){return typeof n=="function"&&n[bn]!==void 0}function Xi(n,e){let t=$m(n,e?.equal),i=t[bn];return t.set=r=>Fc(i,r),t.update=r=>Wm(i,r),t.asReadonly=f2.bind(t),t}function f2(){let n=this[bn];if(n.readonlyFn===void 0){let e=()=>this();e[bn]=n,n.readonlyFn=e}return n.readonlyFn}function FS(n){return LS(n)&&typeof n.set=="function"}function h2(){return this._results[Symbol.iterator]()}var vf=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new U}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=YL(e);(this._changesDetected=!qL(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=h2};function BS(n){return(n.flags&128)===128}var VS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(VS||{}),jS=new Map,p2=0;function g2(){return p2++}function m2(n){jS.set(n[Lf],n)}function jy(n){jS.delete(n[Lf])}var tD="__ngContext__";function la(n,e){Ar(e)?(n[tD]=e[Lf],m2(e)):n[tD]=e}function US(n){return $S(n[el])}function HS(n){return $S(n[Wn])}function $S(n){for(;n!==null&&!Ki(n);)n=n[Wn];return n}var Uy;function WS(n){Uy=n}function GS(){if(Uy!==void 0)return Uy;if(typeof document<"u")return document;throw new H(210,!1)}var dl=new P("",{providedIn:"root",factory:()=>y2}),y2="ng",W_=new P(""),Ji=new P("",{providedIn:"platform",factory:()=>"unknown"});var Uf=new P(""),G_=new P("",{providedIn:"root",factory:()=>GS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _2="h",v2="b";var zS=!1,b2=new P("",{providedIn:"root",factory:()=>zS});var z_=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(z_||{}),ua=new P(""),nD=new Set;function da(n){nD.has(n)||(nD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var qS=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=w2}return n})();function w2(){return new qS(ue(),Kt())}var zs=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(zs||{}),YS=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}return n})(),E2=[zs.EarlyRead,zs.Write,zs.MixedReadWrite,zs.Read],I2=(()=>{class n{ngZone=_(pe);scheduler=_(ea);errorHandler=_(li,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){_(ua,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ie(16),this.executing=!0;for(let i of E2)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ie(17)}register(t){let{view:i}=t;i!==void 0?((i[Ys]??=[]).push(t),cl(i),i[ee]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(z_.AFTER_NEXT_RENDER,t):t()}static \u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}return n})(),Hy=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,r,o,s=null){this.impl=e,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ys];e&&(this.view[Ys]=e.filter(t=>t!==this))}};function q_(n,e){!e?.injector&&QD(q_);let t=e?.injector??_(Ae);return da("NgAfterRender"),KS(n,t,e,!1)}function Yn(n,e){!e?.injector&&QD(Yn);let t=e?.injector??_(Ae);return da("NgAfterNextRender"),KS(n,t,e,!0)}function C2(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function KS(n,e,t,i){let r=e.get(YS);r.impl??=e.get(I2);let o=e.get(ua,null,{optional:!0}),s=t?.phase??zs.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(aa):null,c=e.get(qS,null,{optional:!0}),l=new Hy(r.impl,C2(n,s),c?.view,i,a,o?.snapshot(null));return r.impl.register(l),l}var D2=(n,e,t,i)=>{};function S2(n,e,t,i){D2(n,e,t,i)}var T2=()=>null;function XS(n,e,t=!1){return T2(n,e,t)}function JS(n,e){let t=n.contentQueries;if(t!==null){let i=he(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];L_(o),a.contentQueries(2,e[s],s)}}}finally{he(i)}}}function $y(n,e,t){L_(0);let i=he(null);try{e(n,t)}finally{he(i)}}function Y_(n,e,t){if(A_(e)){let i=he(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{he(i)}}}var ui=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ui||{}),qd;function A2(){if(qd===void 0&&(qd=null,Xc.trustedTypes))try{qd=Xc.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return qd}function Hf(n){return A2()?.createHTML(n)||n}var Yd;function R2(){if(Yd===void 0&&(Yd=null,Xc.trustedTypes))try{Yd=Xc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yd}function iD(n){return R2()?.createHTML(n)||n}var bf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${RD})`}};function K_(n){return n instanceof bf?n.changingThisBreaksApplicationSecurity:n}function QS(n,e){let t=x2(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${RD})`)}return t===e}function x2(n){return n instanceof bf&&n.getTypeName()||null}function M2(n){let e=new Gy(n);return k2()?new Wy(e):e}var Wy=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Hf(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Gy=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Hf(e),t}};function k2(){try{return!!new window.DOMParser().parseFromString(Hf(""),"text/html")}catch{return!1}}var N2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ZS(n){return n=String(n),n.match(N2)?n:"unsafe:"+n}function Qi(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function fl(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var eT=Qi("area,br,col,hr,img,wbr"),tT=Qi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nT=Qi("rp,rt"),O2=fl(nT,tT),P2=fl(tT,Qi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),L2=fl(nT,Qi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rD=fl(eT,P2,L2,O2),iT=Qi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),F2=Qi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),B2=Qi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),V2=fl(iT,F2,B2),j2=Qi("script,style,template"),zy=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=$2(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=H2(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=oD(e).toLowerCase();if(!rD.hasOwnProperty(t))return this.sanitizedSomething=!0,!j2.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!V2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;iT[a]&&(c=ZS(c)),this.buf.push(" ",s,'="',sD(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=oD(e).toLowerCase();rD.hasOwnProperty(t)&&!eT.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(sD(e))}};function U2(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function H2(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw rT(e);return e}function $2(n){let e=n.firstChild;if(e&&U2(n,e))throw rT(e);return e}function oD(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function rT(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var W2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,G2=/([^\#-~ |!])/g;function sD(n){return n.replace(/&/g,"&amp;").replace(W2,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(G2,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Kd;function z2(n,e){let t=null;try{Kd=Kd||M2(n);let i=e?String(e):"";t=Kd.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=Kd.getInertBodyElement(i)}while(i!==o);let a=new zy().sanitizeChildren(aD(t)||t);return Hf(a)}finally{if(t){let i=aD(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function aD(n){return"content"in n&&q2(n)?n.content:null}function q2(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var X_=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(X_||{});function fa(n){let e=oT();return e?iD(e.sanitize(X_.HTML,n)||""):QS(n,"HTML")?iD(K_(n)):z2(GS(),sl(n))}function $f(n){let e=oT();return e?e.sanitize(X_.URL,n)||"":QS(n,"URL")?K_(n):ZS(sl(n))}function oT(){let n=ue();return n&&n[Wi].sanitizer}var Y2=/^>|^->|<!--|-->|--!>|<!-$/g,K2=/(<|>)/g,X2="\u200B$1\u200B";function J2(n){return n.replace(Y2,e=>e.replace(K2,X2))}function sT(n){return n instanceof Function?n():n}function Q2(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var aT="ng-template";function Z2(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&Q2(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(J_(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function J_(n){return n.type===4&&n.value!==aT}function eB(n,e,t){let i=n.type===4&&!t?aT:n.value;return e===i}function tB(n,e,t){let i=4,r=n.attrs,o=r!==null?rB(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!$n(i)&&!$n(c))return!1;if(s&&$n(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!eB(n,c,t)||c===""&&e.length===1){if($n(i))return!1;s=!0}}else if(i&8){if(r===null||!Z2(n,r,c,t)){if($n(i))return!1;s=!0}}else{let l=e[++a],u=nB(c,r,J_(n),t);if(u===-1){if($n(i))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&l!==d){if($n(i))return!1;s=!0}}}}return $n(i)||s}function $n(n){return(n&1)===0}function nB(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return oB(e,n)}function iB(n,e,t=!1){for(let i=0;i<e.length;i++)if(tB(n,e[i],t))return!0;return!1}function rB(n){for(let e=0;e<n.length;e++){let t=n[e];if(WF(t))return e}return n.length}function oB(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function cD(n,e){return n?":not("+e.trim()+")":e}function sB(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!$n(s)&&(e+=cD(o,r),r=""),i=s,o=o||!$n(i);t++}return r!==""&&(e+=cD(o,r)),e}function aB(n){return n.map(sB).join(",")}function cB(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!$n(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var Zi={};function lB(n,e){return n.createText(e)}function uB(n,e,t){n.setValue(e,t)}function dB(n,e){return n.createComment(J2(e))}function cT(n,e,t){return n.createElement(e,t)}function wf(n,e,t,i,r){n.insertBefore(e,t,i,r)}function lT(n,e,t){n.appendChild(e,t)}function lD(n,e,t,i,r){i!==null?wf(n,e,t,i,r):lT(n,e,t)}function fB(n,e,t){n.removeChild(null,e,t)}function hB(n,e,t){n.setAttribute(e,"style",t)}function pB(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function uT(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&$F(n,e,i),r!==null&&pB(n,e,r),o!==null&&hB(n,e,o)}function Q_(n,e,t,i,r,o,s,a,c,l,u){let d=Vt+i,h=d+r,f=gB(d,h),b=typeof l=="function"?l():l;return f[re]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:u}}function gB(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Zi);return t}function mB(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Q_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Z_(n,e,t,i,r,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Yi]=r,d[ee]=i|4|128|8|64|1024,(l!==null||n&&n[ee]&2048)&&(d[ee]|=2048),sS(d),d[kt]=d[ia]=n,d[ht]=t,d[Wi]=s||n&&n[Wi],d[je]=a||n&&n[je],d[Js]=c||n&&n[Js]||null,d[qn]=o,d[Lf]=g2(),d[Zc]=u,d[ZD]=l,d[Gn]=e.type==2?n[Gn]:d,d}function yB(n,e,t){let i=fi(e,n),r=mB(t),o=n[Wi].rendererFactory,s=ev(n,Z_(n,r,null,dT(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=s}function dT(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function fT(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function ev(n,e){return n[el]?n[$C][Wn]=e:n[el]=e,n[$C]=e,e}function g(n=1){hT(Ye(),ue(),Ro()+n,!1)}function hT(n,e,t,i){if(!i)if((e[ee]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Qd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Zd(e,o,0,t)}Co(t)}var Wf=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Wf||{});function qy(n,e,t,i){let r=he(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Wf.SignalBased)!==0&&(c=e[o][bn]),c!==null&&c.transformFn!==void 0?i=c.transformFn(i):a!==null&&(i=a.call(e,i)),n.setInput!==null?n.setInput(e,c,i,t,o):tS(e,c,o,i)}finally{he(r)}}function pT(n,e,t,i,r){let o=Ro(),s=i&2;try{Co(-1),s&&e.length>Vt&&hT(n,e,Vt,!1),Ie(s?2:0,r),t(i,r)}finally{Co(o),Ie(s?3:1,r)}}function Gf(n,e,t){IB(n,e,t),(t.flags&64)===64&&CB(n,e,t)}function tv(n,e,t=fi){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function _B(n,e,t,i){let o=i.get(b2,zS)||t===ui.ShadowDom,s=n.selectRootElement(e,o);return vB(s),s}function vB(n){bB(n)}var bB=()=>null;function wB(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function zf(n,e,t,i,r,o,s,a){if(!a&&iv(e,n,t,i,r)){ra(e)&&EB(t,e.index);return}if(e.type&3){let c=fi(e,t);i=wB(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)}else e.type&12}function EB(n,e){let t=ci(e,n);t[ee]&16||(t[ee]|=64)}function IB(n,e,t){let i=t.directiveStart,r=t.directiveEnd;ra(t)&&yB(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||mf(t,e);let o=t.initialInputs;for(let s=i;s<r;s++){let a=n.data[s],c=tl(e,n,s,t);if(la(c,e),o!==null&&AB(e,s-i,c,a,t,o),si(a)){let l=ci(t.index,e);l[ht]=tl(e,n,s,t)}}}function CB(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=OF();try{Co(o);for(let a=i;a<r;a++){let c=n.data[a],l=e[a];ky(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&DB(c,l)}}finally{Co(-1),ky(s)}}function DB(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function nv(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];iB(e,o.selectors,!1)&&(i??=[],si(o)?i.unshift(o):i.push(o))}return i}function SB(n,e,t,i,r,o){let s=fi(n,e);TB(e[je],s,o,n.value,t,i,r)}function TB(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?sl(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function AB(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];qy(i,t,c,l)}}function RB(n,e){let t=n[Js],i=t?t.get(li,null):null;i&&i.handleError(e)}function iv(n,e,t,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=e.data[l];qy(d,t[l],u,r),a=!0}if(o)for(let c of o){let l=t[c],u=e.data[c];qy(u,l,i,r),a=!0}return a}function xB(n,e){let t=ci(e,n),i=t[re];MB(i,t);let r=t[Yi];r!==null&&t[Zc]===null&&(t[Zc]=XS(r,t[Js])),Ie(18),rv(i,t,t[ht]),Ie(19,t[ht])}function MB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function rv(n,e,t){F_(e);try{let i=n.viewQuery;i!==null&&$y(1,i,t);let r=n.template;r!==null&&pT(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Gi]?.finishViewCreation(n),n.staticContentQueries&&JS(n,e),n.staticViewQueries&&$y(2,n.viewQuery,t);let o=n.components;o!==null&&kB(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ee]&=-5,B_()}}function kB(n,e){for(let t=0;t<e.length;t++)xB(n,e[t])}function ov(n,e,t,i){let r=he(null);try{let o=e.tView,a=n[ee]&4096?4096:16,c=Z_(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=n[e.index];c[wo]=l;let u=n[Gi];return u!==null&&(c[Gi]=u.createEmbeddedView(o)),rv(o,c,t),c}finally{he(r)}}function Ef(n,e){return!e||e.firstChild===null||BS(n)}var NB;function sv(n,e){return NB(n,e)}var zi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(zi||{});function gT(n){return(n.flags&32)===32}function qs(n,e,t,i,r){if(i!=null){let o,s=!1;Ki(i)?o=i:Ar(i)&&(s=!0,i=i[Yi]);let a=ai(i);n===0&&t!==null?r==null?lT(e,t,a):wf(e,t,a,r||null,!0):n===1&&t!==null?wf(e,t,a,r||null,!0):n===2?fB(e,a,s):n===3&&e.destroyNode(a),o!=null&&GB(e,n,o,t,r)}}function OB(n,e){mT(n,e),e[Yi]=null,e[qn]=null}function PB(n,e,t,i,r,o){i[Yi]=r,i[qn]=e,Kf(n,i,t,1,r,o)}function mT(n,e){e[Wi].changeDetectionScheduler?.notify(9),Kf(n,e,e[je],2,null,null)}function LB(n){let e=n[el];if(!e)return py(n[re],n);for(;e;){let t=null;if(Ar(e))t=e[el];else{let i=e[Mt];i&&(t=i)}if(!t){for(;e&&!e[Wn]&&e!==n;)Ar(e)&&py(e[re],e),e=e[kt];e===null&&(e=n),Ar(e)&&py(e[re],e),t=e&&e[Wn]}e=t}}function av(n,e){let t=n[Qs],i=t.indexOf(e);t.splice(i,1)}function qf(n,e){if(oa(e))return;let t=e[je];t.destroyNode&&Kf(n,e,t,3,null,null),LB(e)}function py(n,e){if(oa(e))return;let t=he(null);try{e[ee]&=-129,e[ee]|=256,e[En]&&jm(e[En]),BB(n,e),FB(n,e),e[re].type===1&&e[je].destroy();let i=e[wo];if(i!==null&&Ki(e[kt])){i!==e[kt]&&av(i,e);let r=e[Gi];r!==null&&r.detachView(n)}jy(e)}finally{he(t)}}function FB(n,e){let t=n.cleanup,i=e[lf];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(e[lf]=null);let r=e[Tr];if(r!==null){e[Tr]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[uf];if(o!==null){e[uf]=null;for(let s of o)s.destroy()}}function BB(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Do)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Ie(4,a,c);try{c.call(a)}finally{Ie(5,a,c)}}else{Ie(4,r,o);try{o.call(r)}finally{Ie(5,r,o)}}}}}function VB(n,e,t){return jB(n,e.parent,t)}function jB(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Yi];if(ra(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===ui.None||r===ui.Emulated)return null}return fi(i,t)}function UB(n,e,t){return $B(n,e,t)}function HB(n,e,t){return n.type&40?fi(n,t):null}var $B=HB,uD;function Yf(n,e,t,i){let r=VB(n,i,e),o=e[je],s=i.parent||e[qn],a=UB(s,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)lD(o,r,t[c],a,!1);else lD(o,r,t,a,!1);uD!==void 0&&uD(o,i,e,t,r)}function Yc(n,e){if(e!==null){let t=e.type;if(t&3)return fi(e,n);if(t&4)return Yy(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Yc(n,i);{let r=n[e.index];return Ki(r)?Yy(-1,r):ai(r)}}else{if(t&128)return Yc(n,e.next);if(t&32)return sv(e,n)()||ai(n[e.index]);{let i=yT(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Io(n[Gn]);return Yc(r,i)}else return Yc(n,e.next)}}}return null}function yT(n,e){if(e!==null){let i=n[Gn][qn],r=e.projection;return i.projection[r]}return null}function Yy(n,e){let t=Mt+n+1;if(t<e.length){let i=e[t],r=i[re].firstChild;if(r!==null)return Yc(i,r)}return e[Eo]}function cv(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],c=t.type;if(s&&e===0&&(a&&la(ai(a),i),t.flags|=2),!gT(t))if(c&8)cv(n,e,t.child,i,r,o,!1),qs(e,n,r,a,o);else if(c&32){let l=sv(t,i),u;for(;u=l();)qs(e,n,r,u,o);qs(e,n,r,a,o)}else c&16?WB(n,e,i,t,r,o):qs(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Kf(n,e,t,i,r,o){cv(t,i,n.firstChild,e,r,o,!1)}function WB(n,e,t,i,r,o){let s=t[Gn],c=s[qn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];qs(e,n,r,u,o)}else{let l=c,u=s[kt];BS(i)&&(l.flags|=128),cv(n,e,l,u,r,o,!0)}}function GB(n,e,t,i,r){let o=t[Eo],s=ai(t);o!==s&&qs(e,n,i,o,r);for(let a=Mt;a<t.length;a++){let c=t[a];Kf(c[re],c,n,e,i,o)}}function zB(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:zi.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=zi.Important),n.setStyle(t,i,r,o))}}function If(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(ai(o)),Ki(o)&&qB(o,i);let s=t.type;if(s&8)If(n,e,t.child,i);else if(s&32){let a=sv(t,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=yT(e,t);if(Array.isArray(a))i.push(...a);else{let c=Io(e[Gn]);If(c[re],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function qB(n,e){for(let t=Mt;t<n.length;t++){let i=n[t],r=i[re].firstChild;r!==null&&If(i[re],i,r,e)}n[Eo]!==n[Yi]&&e.push(n[Eo])}function _T(n){if(n[Ys]!==null){for(let e of n[Ys])e.impl.addSequence(e);n[Ys].length=0}}var vT=[];function YB(n){return n[En]??KB(n)}function KB(n){let e=vT.pop()??Object.create(JB);return e.lView=n,e}function XB(n){n.lView[En]!==n&&(n.lView=null,vT.push(n))}var JB=$(E({},Pc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{cl(n.lView)},consumerOnSignalRead(){this.lView[En]=this}});function QB(n){let e=n[En]??Object.create(ZB);return e.lView=n,e}var ZB=$(E({},Pc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Io(n.lView);for(;e&&!bT(e[re]);)e=Io(e);e&&aS(e)},consumerOnSignalRead(){this.lView[En]=this}});function bT(n){return n.type!==2}function wT(n){if(n[uf]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[uf])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[ee]&8192)}}var eV=100;function ET(n,e=!0,t=0){let r=n[Wi].rendererFactory,o=!1;o||r.begin?.();try{tV(n,t)}catch(s){throw e&&RB(n,s),s}finally{o||r.end?.()}}function tV(n,e){let t=dS();try{GC(!0),Ky(n,e);let i=0;for(;Bf(n);){if(i===eV)throw new H(103,!1);i++,Ky(n,1)}}finally{GC(t)}}function nV(n,e,t,i){if(oa(e))return;let r=e[ee],o=!1,s=!1;F_(e);let a=!0,c=null,l=null;o||(bT(n)?(l=YB(e),c=ud(l)):Om()===null?(a=!1,l=QB(e),c=ud(l)):e[En]&&(jm(e[En]),e[En]=null));try{sS(e),xF(n.bindingStartIndex),t!==null&&pT(n,e,t,2,i);let u=(r&3)===3;if(!o)if(u){let f=n.preOrderCheckHooks;f!==null&&Qd(e,f,null)}else{let f=n.preOrderHooks;f!==null&&Zd(e,f,0,null),fy(e,0)}if(s||iV(e),wT(e),IT(e,0),n.contentQueries!==null&&JS(n,e),!o)if(u){let f=n.contentCheckHooks;f!==null&&Qd(e,f)}else{let f=n.contentHooks;f!==null&&Zd(e,f,1),fy(e,1)}oV(n,e);let d=n.components;d!==null&&DT(e,d,0);let h=n.viewQuery;if(h!==null&&$y(2,h,i),!o)if(u){let f=n.viewCheckHooks;f!==null&&Qd(e,f)}else{let f=n.viewHooks;f!==null&&Zd(e,f,2),fy(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[dy]){for(let f of e[dy])f();e[dy]=null}o||(_T(e),e[ee]&=-73)}catch(u){throw o||cl(e),u}finally{l!==null&&(Bm(l,c),a&&XB(l)),B_()}}function IT(n,e){for(let t=US(n);t!==null;t=HS(t))for(let i=Mt;i<t.length;i++){let r=t[i];CT(r,e)}}function iV(n){for(let e=US(n);e!==null;e=HS(e)){if(!(e[ee]&2))continue;let t=e[Qs];for(let i=0;i<t.length;i++){let r=t[i];aS(r)}}}function rV(n,e,t){Ie(18);let i=ci(e,n);CT(i,t),Ie(19,i[ht])}function CT(n,e){M_(n)&&Ky(n,e)}function Ky(n,e){let i=n[re],r=n[ee],o=n[En],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Vm(o)),s||=!1,o&&(o.dirty=!1),n[ee]&=-9217,s)nV(i,n,i.template,n[ht]);else if(r&8192){wT(n),IT(n,1);let a=i.components;a!==null&&DT(n,a,1),_T(n)}}function DT(n,e,t){for(let i=0;i<e.length;i++)rV(n,e[i],t)}function oV(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Co(~r);else{let o=r,s=t[++i],a=t[++i];NF(s,o);let c=e[o];Ie(24,c),a(2,c),Ie(25,c)}}}finally{Co(-1)}}function lv(n,e){let t=dS()?64:1088;for(n[Wi].changeDetectionScheduler?.notify(e);n;){n[ee]|=t;let i=Io(n);if(ff(n)&&!i)return n;n=i}return null}function ST(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function sV(n,e){let t=Mt+e;if(t<n.length)return n[t]}function uv(n,e,t,i=!0){let r=e[re];if(cV(r,e,n,t),i){let s=Yy(t,n),a=e[je],c=a.parentNode(n[Eo]);c!==null&&PB(r,n[qn],a,e,c,s)}let o=e[Zc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function aV(n,e){let t=nl(n,e);return t!==void 0&&qf(t[re],t),t}function nl(n,e){if(n.length<=Mt)return;let t=Mt+e,i=n[t];if(i){let r=i[wo];r!==null&&r!==n&&av(r,i),e>0&&(n[t-1][Wn]=i[Wn]);let o=af(n,Mt+e);OB(i[re],i);let s=o[Gi];s!==null&&s.detachView(o[re]),i[kt]=null,i[Wn]=null,i[ee]&=-129}return i}function cV(n,e,t,i){let r=Mt+i,o=t.length;i>0&&(t[r-1][Wn]=e),i<o-Mt?(e[Wn]=t[r],$D(t,Mt+i,e)):(t.push(e),e[Wn]=null),e[kt]=t;let s=e[wo];s!==null&&t!==s&&TT(s,e);let a=e[Gi];a!==null&&a.insertView(n),xy(e),e[ee]|=128}function TT(n,e){let t=n[Qs],i=e[kt];if(Ar(i))n[ee]|=2;else{let r=i[kt][Gn];e[Gn]!==r&&(n[ee]|=2)}t===null?n[Qs]=[e]:t.push(e)}var il=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[re];return If(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i}get context(){return this._lView[ht]}set context(e){this._lView[ht]=e}get destroyed(){return oa(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[kt];if(Ki(e)){let t=e[df],i=t?t.indexOf(this):-1;i>-1&&(nl(e,i),af(t,i))}this._attachedToViewContainer=!1}qf(this._lView[re],this._lView)}onDestroy(e){cS(this._lView,e)}markForCheck(){lv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ee]&=-129}reattach(){xy(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,ET(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ff(this._lView),t=this._lView[wo];t!==null&&!e&&av(t,this._lView),mT(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=ff(this._lView),i=this._lView[wo];i!==null&&!t&&TT(i,this._lView),xy(this._lView)}};var un=(()=>{class n{static __NG_ELEMENT_ID__=dV}return n})(),lV=un,uV=class extends lV{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=ov(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new il(r)}};function dV(){return dv(Kt(),ue())}function dv(n,e){return n.type&4?new uV(e,n,ca(n,e)):null}function Xf(n,e,t,i,r){let o=n.data[e];if(o===null)o=fV(n,e,t,i,r),kF()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=AF();o.injectorIndex=s===null?-1:s.injectorIndex}return Ao(o,!0),o}function fV(n,e,t,i,r){let o=lS(),s=P_(),a=s?o:o&&o.parent,c=n.data[e]=pV(n,a,t,e,i,r);return hV(n,c,o,s),c}function hV(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function pV(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return DF()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Ire=new RegExp(`^(\\d+)*(${v2}|${_2})*(.*)`);var gV=()=>null;function Cf(n,e){return gV(n,e)}var mV=class{},AT=class{},Xy=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Yt(e)}.`)}},Jf=class{static NULL=new Xy},gt=class{},Mr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>yV()}return n})();function yV(){let n=ue(),e=Kt(),t=ci(e.index,n);return(Ar(t)?t:n)[je]}var _V=(()=>{class n{static \u0275prov=S({token:n,providedIn:"root",factory:()=>null})}return n})();var gy={},Jy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Nf(i);let r=this.injector.get(e,gy,i);return r!==gy||t===gy?r:this.parentInjector.get(e,t,i)}};function Qy(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=LC(r,a);else if(o==2){let c=a,l=e[++s];i=LC(i,c+": "+l+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function T(n,e=ae.Default){let t=ue();if(t===null)return L(n,e);let i=Kt();return SS(i,t,Bt(n),e)}function fv(n,e,t,i,r){let o=i===null?null:{"":-1},s=r(n,t);if(s!==null){let a,c=null,l=null,u=bV(s);u===null?a=s:[a,c,l]=u,IV(n,e,t,a,o,c,l)}o!==null&&i!==null&&vV(t,i,o)}function vV(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new H(-301,!1);i.push(e[r],o)}}function bV(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&si(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let i=null,r=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,wV(s,i,o,r)),s===e&&(i??=[],i.push(s));return i!==null?(i.push(...e===null?n:n.slice(1)),[i,r,o]):null}function wV(n,e,t,i){let r=e.length;n.findHostDirectiveDefs(n,e,i),t.set(n,[r,e.length-1])}function EV(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function IV(n,e,t,i,r,o,s){let a=i.length,c=!1;for(let h=0;h<a;h++){let f=i[h];!c&&si(f)&&(c=!0,EV(n,t,h)),Oy(mf(t,e),n,f.type)}RV(t,n.data.length,a);for(let h=0;h<a;h++){let f=i[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=fT(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=i[h];if(t.mergedAttrs=Zs(t.mergedAttrs,f.hostAttrs),DV(n,t,e,d,f),AV(d,f,r),s!==null&&s.has(f)){let[v,I]=s.get(f);t.directiveToIndex.set(f.type,[d,v+t.directiveStart,I+t.directiveStart])}else(o===null||!o.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let b=f.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!u&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}CV(n,t,o)}function CV(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))dD(0,e,r,i),dD(1,e,r,i),hD(e,i,!1);else{let o=t.get(r);fD(0,e,o,i),fD(1,e,o,i),hD(e,i,!0)}}}function dD(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),RT(e,o)}}function fD(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),RT(e,s)}}function RT(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function hD(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||J_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let c=i[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&r.hasOwnProperty(c)){let l=r[c];for(let u of l)if(u===e){s??=[],s.push(c,i[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function DV(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=_o(r.type,!0)),s=new Do(o,si(r),T);n.blueprint[i]=s,t[i]=s,SV(n,e,i,fT(n,t,r.hostVars,Zi),r)}function SV(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;TV(s)!=a&&s.push(a),s.push(t,i,o)}}function TV(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function AV(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;si(e)&&(t[""]=n)}}function RV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function xT(n,e,t,i,r,o,s,a){let c=e.consts,l=Rr(c,s),u=Xf(e,n,2,i,l);return o&&fv(e,t,u,Rr(c,a),r),u.mergedAttrs=Zs(u.mergedAttrs,u.attrs),u.attrs!==null&&Qy(u,u.attrs,!1),u.mergedAttrs!==null&&Qy(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function MT(n,e){V_(n,e),A_(e)&&n.queries.elementEnd(e)}var Df=class extends Jf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=bo(e);return new ta(t,this.ngModule)}};function xV(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&Wf.SignalBased)!==0};return r&&(o.transform=r),o})}function MV(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function kV(n,e,t){let i=e instanceof pt?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new Jy(t,i):t}function NV(n){let e=n.get(gt,null);if(e===null)throw new H(407,!1);let t=n.get(_V,null),i=n.get(ea,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i}}function OV(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return cT(e,t,t==="svg"?pF:t==="math"?gF:null)}var ta=class extends AT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=xV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=MV(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=aB(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r){Ie(22);let o=he(null);try{let s=this.componentDef,a=i?["ng-version","19.2.14"]:cB(this.componentDef.selectors[0]),c=Q_(0,null,null,1,0,null,null,null,null,[a],null),l=kV(s,r||this.ngModule,e),u=NV(l),d=u.rendererFactory.createRenderer(null,s),h=i?_B(d,i,s.encapsulation,l):OV(s,d),f=Z_(null,c,null,512|dT(s),null,null,u,d,l,null,XS(h,l,!0));f[Vt]=h,F_(f);let b=null;try{let v=xT(Vt,c,f,"#host",()=>[this.componentDef],!0,0);h&&(uT(d,h,v),la(h,f)),Gf(c,f,v),Y_(c,v,f),MT(c,v),t!==void 0&&PV(v,this.ngContentSelectors,t),b=ci(v.index,f),f[ht]=b[ht],rv(c,f,null)}catch(v){throw b!==null&&jy(b),jy(f),v}finally{Ie(23),B_()}return new Zy(this.componentType,f)}finally{he(o)}}},Zy=class extends mV{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=R_(t[re],Vt),this.location=ca(this._tNode,t),this.instance=ci(this._tNode.index,t)[ht],this.hostView=this.changeDetectorRef=new il(t,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=iv(i,r[re],r,e,t);this.previousInputValues.set(e,t);let s=ci(i.index,r);lv(s,1)}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function PV(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Xt=(()=>{class n{static __NG_ELEMENT_ID__=LV}return n})();function LV(){let n=Kt();return NT(n,ue())}var FV=Xt,kT=class extends FV{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return ca(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){let e=j_(this._hostTNode,this._hostLView);if(bS(e)){let t=pf(e,this._hostLView),i=hf(e),r=t[re].data[i+8];return new yo(r,t)}else return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=pD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Mt}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Cf(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Ef(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!uF(e),a;if(s)a=t;else{let b=t||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let c=s?e:new ta(bo(e)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let v=(s?l:this.parentInjector).get(pt,null);v&&(o=v)}let u=bo(c.componentType??{}),d=Cf(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,r,h,o);return this.insertImpl(f.hostView,a,Ef(this._hostTNode,d)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(_F(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[kt],l=new kT(c,c[qn],c[kt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return uv(s,r,o,i),e.attachToViewContainerRef(),$D(my(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=pD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=nl(this._lContainer,t);i&&(af(my(this._lContainer),t),qf(i[re],i))}detach(e){let t=this._adjustIndex(e,-1),i=nl(this._lContainer,t);return i&&af(my(this._lContainer),t)!=null?new il(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function pD(n){return n[df]}function my(n){return n[df]||(n[df]=[])}function NT(n,e){let t,i=e[n.index];return Ki(i)?t=i:(t=ST(i,e,null,n),e[n.index]=t,ev(e,t)),VV(t,e,n,i),new kT(t,n,e)}function BV(n,e){let t=n[je],i=t.createComment(""),r=fi(e,n),o=t.parentNode(r);return wf(t,o,i,t.nextSibling(r),!1),i}var VV=HV,jV=()=>!1;function UV(n,e,t){return jV(n,e,t)}function HV(n,e,t,i){if(n[Eo])return;let r;t.type&8?r=ai(i):r=BV(e,t),n[Eo]=r}var e_=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},t_=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)hv(e,t).matches!==null&&this.queries[t].setDirty()}},n_=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=XV(e):this.predicate=e}},i_=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},r_=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,$V(t,o)),this.matchTNodeWithReadOption(e,t,ef(t,e,o,!1,!1))}else i===un?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ef(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Pe||r===Xt||r===un&&t.type&4)this.addMatch(t.index,-2);else{let o=ef(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function $V(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function WV(n,e){return n.type&11?ca(n,e):n.type&4?dv(n,e):null}function GV(n,e,t,i){return t===-1?WV(e,n):t===-2?zV(n,e,i):tl(n,n[re],t,e)}function zV(n,e,t){if(t===Pe)return ca(e,n);if(t===un)return dv(e,n);if(t===Xt)return NT(e,n)}function OT(n,e,t,i){let r=e[Gi].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(GV(e,u,s[c+1],t.metadata.read))}}r.matches=a}return r.matches}function o_(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=OT(n,e,r,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Mt;d<u.length;d++){let h=u[d];h[wo]===h[kt]&&o_(h[re],h,l,i)}if(u[Qs]!==null){let d=u[Qs];for(let h=0;h<d.length;h++){let f=d[h];o_(f[re],f,l,i)}}}}}return i}function qV(n,e){return n[Gi].queries[e].queryList}function YV(n,e,t){let i=new vf((t&4)===4);return wF(n,e,i,i.destroy),(e[Gi]??=new t_).queries.push(new e_(i))-1}function KV(n,e,t){let i=Ye();return i.firstCreatePass&&(JV(i,new n_(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),YV(i,ue(),e)}function XV(n){return n.split(",").map(e=>e.trim())}function JV(n,e,t){n.queries===null&&(n.queries=new i_),n.queries.track(new r_(e,t))}function hv(n,e){return n.queries.getByIndex(e)}function QV(n,e){let t=n[re],i=hv(t,e);return i.crossesNgTemplate?o_(t,n,e,[]):OT(t,n,i,e)}var qi=class{},pv=class{};var s_=class extends qi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Df(this);constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t;let o=zD(e);this._bootstrapComponents=sT(o.bootstrap),this._r3Injector=RS(e,t,[{provide:qi,useValue:this},{provide:Jf,useValue:this.componentFactoryResolver},...i],Yt(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},a_=class extends pv{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new s_(this.moduleType,e,[])}};var Sf=class extends qi{injector;componentFactoryResolver=new Df(this);instance=null;constructor(e){super();let t=new Qc([...e.providers,{provide:qi,useValue:this},{provide:Jf,useValue:this.componentFactoryResolver}],e.parent||Pf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Qf(n,e,t=null){return new Sf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var ZV=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=qD(!1,t.type),r=i.length>0?Qf([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=S({token:n,providedIn:"environment",factory:()=>new n(L(pt))})}return n})();function W(n){return ol(()=>{let e=PT(n),t=$(E({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===VS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(ZV).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ui.Emulated,styles:n.styles||wn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&da("NgStandalone"),LT(t);let i=n.dependencies;return t.directiveDefs=gD(i,!1),t.pipeDefs=gD(i,!0),t.id=rj(t),t})}function ej(n){return bo(n)||QL(n)}function tj(n){return n!==null}function lt(n){return ol(()=>({type:n.type,bootstrap:n.bootstrap||wn,declarations:n.declarations||wn,imports:n.imports||wn,exports:n.exports||wn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function nj(n,e){if(n==null)return vo;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a,c;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,c=r[3]||null):(o=r,s=r,a=Wf.None,c=null),t[o]=[i,a,c],e[o]=s}return t}function ij(n){if(n==null)return vo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function be(n){return ol(()=>{let e=PT(n);return LT(e),e})}function gv(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function PT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||vo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||wn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nj(n.inputs,e),outputs:ij(n.outputs),debugInfo:null}}function LT(n){n.features?.forEach(e=>e(n))}function gD(n,e){if(!n)return null;let t=e?ZL:ej;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(tj)}function rj(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function oj(n){return Object.getPrototypeOf(n.prototype).constructor}function tt(n){let e=oj(n.type),t=!0,i=[n];for(;e;){let r;if(si(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=yy(n.inputs),s.declaredInputs=yy(n.declaredInputs),s.outputs=yy(n.outputs);let a=r.hostBindings;a&&uj(n,a);let c=r.viewQuery,l=r.contentQueries;if(c&&cj(n,c),l&&lj(n,l),sj(n,r),RL(n.outputs,r.outputs),si(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===tt&&(t=!1)}}e=Object.getPrototypeOf(e)}aj(i)}function sj(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t])}}function aj(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Zs(r.hostAttrs,t=Zs(t,r.hostAttrs))}}function yy(n){return n===vo?{}:n===wn?[]:n}function cj(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function lj(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function uj(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function FT(n){return fj(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function dj(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function fj(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function mv(n,e,t){return n[e]=t}function hj(n,e){return n[e]}function di(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function pj(n,e,t,i){let r=di(n,e,t);return di(n,e+1,i)||r}function gj(n,e,t,i,r,o,s,a,c){let l=e.consts,u=Xf(e,n,4,s||null,a||null);O_()&&fv(e,t,u,Rr(l,c),nv),u.mergedAttrs=Zs(u.mergedAttrs,u.attrs),V_(e,u);let d=u.tView=Q_(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function c_(n,e,t,i,r,o,s,a,c,l){let u=t+Vt,d=e.firstCreatePass?gj(u,e,n,i,r,o,s,a,c):e.data[u];Ao(d,!1);let h=mj(e,n,d,t);Vf()&&Yf(e,n,h,d),la(h,n);let f=ST(h,n,h,d);return n[u]=f,ev(n,f),UV(f,d,n),Ff(d)&&Gf(e,n,d),c!=null&&tv(n,d,l),d}function Y(n,e,t,i,r,o,s,a){let c=ue(),l=Ye(),u=Rr(l.consts,o);return c_(c,l,n,e,t,i,r,u,s,a),Y}var mj=yj;function yj(n,e,t,i){return jf(!0),e[je].createComment("")}var BT=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var VT=new P("");var _j=(()=>{class n{static \u0275prov=S({token:n,providedIn:"root",factory:()=>new l_})}return n})(),l_=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function xo(n){return!!n&&typeof n.then=="function"}function jT(n){return!!n&&typeof n.subscribe=="function"}var vj=new P("");var UT=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=_(vj,{optional:!0})??[];injector=_(Ae);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=dn(this.injector,r);if(xo(o))t.push(o);else if(jT(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yv=new P("");function bj(){Hm(()=>{throw new H(600,!1)})}function wj(n){return n.isBoundToModule}var Ej=10;var zn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=_(c2);afterRenderManager=_(YS);zonelessEnabled=_(U_);rootEffectScheduler=_(_j);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new U;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=_(xr).hasPendingTasks.pipe(Z(t=>!t));constructor(){_(ua,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=_(pt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=Ae.NULL){Ie(10);let o=t instanceof AT;if(!this._injector.get(UT).done){let f="";throw new H(405,f)}let a;o?a=t:a=this._injector.get(Jf).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=wj(a)?void 0:this._injector.get(qi),l=i||a.selector,u=a.create(r,[],l,c),d=u.location.nativeElement,h=u.injector.get(VT,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),tf(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),Ie(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ie(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(z_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let t=he(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,he(t),this.afterTick.next(),Ie(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(gt,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Ej;)Ie(14),this.synchronizeOnce(),Ie(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)Ij(i,r,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Bf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;tf(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(yv,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>tf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ij(n,e,t,i){if(!t&&!Bf(n))return;ET(n,e,t&&!i?0:1)}function Dt(n,e,t,i){let r=ue(),o=sa();if(di(r,o,e)){let s=Ye(),a=ul();SB(a,r,n,e,t,i)}return Dt}function HT(n,e,t,i){return di(n,sa(),t)?e+sl(t)+i:Zi}function Xd(n,e){return n<<17|e<<2}function So(n){return n>>17&32767}function Cj(n){return(n&2)==2}function Dj(n,e){return n&131071|e<<17}function u_(n){return n|2}function na(n){return(n&131068)>>2}function _y(n,e){return n&-131069|e<<2}function Sj(n){return(n&1)===1}function d_(n){return n|1}function Tj(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=So(s),c=na(s);n[i]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||al(d,u)>0)&&(l=!0)}else u=t;if(r)if(c!==0){let h=So(n[a+1]);n[i+1]=Xd(h,a),h!==0&&(n[h+1]=_y(n[h+1],i)),n[a+1]=Dj(n[a+1],i)}else n[i+1]=Xd(a,0),a!==0&&(n[a+1]=_y(n[a+1],i)),a=i;else n[i+1]=Xd(c,0),a===0?a=i:n[c+1]=_y(n[c+1],i),c=i;l&&(n[i+1]=u_(n[i+1])),mD(n,u,i,!0),mD(n,u,i,!1),Aj(e,u,n,i,o),s=Xd(a,c),o?e.classBindings=s:e.styleBindings=s}function Aj(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&al(o,e)>=0&&(t[i+1]=d_(t[i+1]))}function mD(n,e,t,i){let r=n[t+1],o=e===null,s=i?So(r):na(r),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];Rj(c,e)&&(a=!0,n[s+1]=i?d_(l):u_(l)),s=i?So(l):na(l)}a&&(n[t+1]=i?u_(r):d_(r))}function Rj(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?al(n,e)>=0:!1}function D(n,e,t){let i=ue(),r=sa();if(di(i,r,e)){let o=Ye(),s=ul();zf(o,s,i,n,e,i[je],t,!1)}return D}function yD(n,e,t,i,r){iv(e,n,t,r?"class":"style",i)}function hi(n,e){return xj(n,e,null,!0),hi}function xj(n,e,t,i){let r=ue(),o=Ye(),s=MF(2);if(o.firstUpdatePass&&kj(o,n,s,i),e!==Zi&&di(r,s,e)){let a=o.data[Ro()];Fj(o,a,r,r[je],n,r[s+1]=Bj(e,t),i,s)}}function Mj(n,e){return e>=n.expandoStartIndex}function kj(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[Ro()],s=Mj(n,t);Vj(o,i)&&e===null&&!s&&(e=!1),e=Nj(r,o,e,i),Tj(r,o,e,t,s,i)}}function Nj(n,e,t,i){let r=PF(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=vy(null,n,e,t,i),t=rl(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=vy(r,n,e,t,i),o===null){let c=Oj(n,e,i);c!==void 0&&Array.isArray(c)&&(c=vy(null,n,e,c[1],i),c=rl(c,e.attrs,i),Pj(n,e,i,c))}else o=Lj(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function Oj(n,e,t){let i=t?e.classBindings:e.styleBindings;if(na(i)!==0)return n[So(i)]}function Pj(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[So(r)]=i}function Lj(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=rl(i,s,t)}return rl(i,e.attrs,t)}function vy(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=rl(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function rl(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),XL(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Fj(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=Sj(l)?_D(c,e,t,r,na(l),s):void 0;if(!Tf(u)){Tf(o)||Cj(l)&&(o=_D(c,null,t,r,a,s));let d=oS(Ro(),t);zB(i,s,d,r,o)}}function _D(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let c=n[r],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=t[r+1];h===Zi&&(h=d?wn:void 0);let f=d?ly(h,i):u===i?h:void 0;if(l&&!Tf(f)&&(f=ly(c,i)),Tf(f)&&(a=f,s))return a;let b=n[r+1];r=s?So(b):na(b)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=ly(c,i))}return a}function Tf(n){return n!==void 0}function Bj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Yt(K_(n)))),n}function Vj(n,e){return(n.flags&(e?8:16))!==0}var f_=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function by(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function jj(n,e,t){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=n.at(o),u=e[o],d=by(o,l,o,u,t);if(d!==0){d<0&&n.updateValue(o,u),o++;continue}let h=n.at(s),f=e[c],b=by(s,h,c,f,t);if(b!==0){b<0&&n.updateValue(s,f),s--,c--;continue}let v=t(o,l),I=t(s,h),R=t(o,u);if(Object.is(R,I)){let G=t(c,f);Object.is(G,v)?(n.swap(o,s),n.updateValue(s,f),c--,s--):n.move(s,o),n.updateValue(o,u),o++;continue}if(i??=new Af,r??=bD(n,o,s,t),h_(n,i,o,R))n.updateValue(o,u),o++,s++;else if(r.has(R))i.set(v,n.detach(o)),s--;else{let G=n.create(o,e[o]);n.attach(o,G),o++,s++}}for(;o<=c;)vD(n,i,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=n.at(o),d=l.value,h=by(o,u,o,d,t);if(h!==0)h<0&&n.updateValue(o,d),o++,l=c.next();else{i??=new Af,r??=bD(n,o,s,t);let f=t(o,d);if(h_(n,i,o,f))n.updateValue(o,d),o++,s++,l=c.next();else if(!r.has(f))n.attach(o,n.create(o,d)),o++,s++,l=c.next();else{let b=t(o,u);i.set(b,n.detach(o)),s--}}}for(;!l.done;)vD(n,i,t,n.length,l.value),l=c.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(c=>{n.destroy(c)})}function h_(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function vD(n,e,t,i,r){if(h_(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function bD(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var Af=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};var p_=class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-Mt}};function $T(n,e){return e}var g_=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function WT(n,e,t,i,r,o,s,a,c,l,u,d,h){da("NgControlFlow");let f=ue(),b=Ye(),v=c!==void 0,I=ue(),R=a?s.bind(I[Gn][ht]):s,G=new g_(v,R);I[Vt+n]=G,c_(f,b,n+1,e,t,i,r,Rr(b.consts,o)),v&&c_(f,b,n+2,c,l,u,d,Rr(b.consts,h))}var m_=class extends f_{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-Mt}at(e){return this.getLView(e)[ht].$implicit}attach(e,t){let i=t[Zc];this.needsIndexUpdate||=e!==this.length,uv(this.lContainer,t,e,Ef(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Uj(this.lContainer,e)}create(e,t){let i=Cf(this.lContainer,this.templateTNode.tView.ssrId),r=ov(this.hostLView,this.templateTNode,new p_(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){qf(e[re],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[ht].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ht].$index=e}getLView(e){return Hj(this.lContainer,e)}};function GT(n){let e=he(null),t=Ro();try{let i=ue(),r=i[re],o=i[t],s=t+1,a=wD(i,s);if(o.liveCollection===void 0){let l=ED(r,s);o.liveCollection=new m_(a,i,l)}else o.liveCollection.reset();let c=o.liveCollection;if(jj(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=sa(),u=c.length===0;if(di(i,l,u)){let d=t+2,h=wD(i,d);if(u){let f=ED(r,d),b=Cf(h,f.tView.ssrId),v=ov(i,f,void 0,{dehydratedView:b});uv(h,v,0,Ef(f,b))}else aV(h,0)}}}finally{he(e)}}function wD(n,e){return n[e]}function Uj(n,e){return nl(n,e)}function Hj(n,e){return sV(n,e)}function ED(n,e){return R_(n,e)}function y(n,e,t,i){let r=ue(),o=Ye(),s=Vt+n,a=r[je],c=o.firstCreatePass?xT(s,o,r,e,nv,O_(),t,i):o.data[s],l=$j(o,r,c,a,e,n);r[s]=l;let u=Ff(c);return Ao(c,!0),uT(a,l,c),!gT(c)&&Vf()&&Yf(o,r,l,c),(EF()===0||u)&&la(l,r),IF(),u&&(Gf(o,r,c),Y_(o,c,r)),i!==null&&tv(r,c),y}function m(){let n=Kt();P_()?uS():(n=n.parent,Ao(n,!1));let e=n;SF(e)&&TF(),CF();let t=Ye();return t.firstCreatePass&&MT(t,e),e.classesWithoutHost!=null&&UF(e)&&yD(t,e,ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&HF(e)&&yD(t,e,ue(),e.stylesWithoutHost,!1),m}function V(n,e,t,i){return y(n,e,t,i),m(),V}var $j=(n,e,t,i,r,o)=>(jf(!0),cT(i,r,BF()));function Wj(n,e,t,i,r){let o=e.consts,s=Rr(o,i),a=Xf(e,n,8,"ng-container",s);s!==null&&Qy(a,s,!0);let c=Rr(o,r);return O_()&&fv(e,t,a,c,nv),a.mergedAttrs=Zs(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function er(n,e,t){let i=ue(),r=Ye(),o=n+Vt,s=r.firstCreatePass?Wj(o,r,i,e,t):r.data[o];Ao(s,!0);let a=Gj(r,i,s,n);return i[o]=a,Vf()&&Yf(r,i,a,s),la(a,i),Ff(s)&&(Gf(r,i,s),Y_(r,s,i)),t!=null&&tv(i,s),er}function tr(){let n=Kt(),e=Ye();return P_()?uS():(n=n.parent,Ao(n,!1)),e.firstCreatePass&&(V_(e,n),A_(n)&&e.queries.elementEnd(n)),tr}var Gj=(n,e,t,i)=>(jf(!0),dB(e[je],""));function Re(){return ue()}function _v(n,e,t){let i=ue(),r=sa();if(di(i,r,e)){let o=Ye(),s=ul();zf(o,s,i,n,e,i[je],t,!0)}return _v}var Rf="en-US";var zj=Rf;function qj(n){typeof n=="string"&&(zj=n.toLowerCase().replace(/_/g,"-"))}function ID(n,e,t){return function i(r){if(r===Function)return t;let o=ra(n)?ci(n.index,e):e;lv(o,5);let s=e[ht],a=CD(e,s,t,r),c=i.__ngNextListenerFn__;for(;c;)a=CD(e,s,c,r)&&a,c=c.__ngNextListenerFn__;return a}}function CD(n,e,t,i){let r=he(null);try{return Ie(6,e,t),t(i)!==!1}catch(o){return Yj(n,o),!1}finally{Ie(7,e,t),he(r)}}function Yj(n,e){let t=n[Js],i=t?t.get(li,null):null;i&&i.handleError(e)}function DD(n,e,t,i,r,o){let s=e[t],a=e[re],l=a.data[t].outputs[i],u=s[l],d=a.firstCreatePass?N_(a):null,h=k_(e),f=u.subscribe(o),b=h.length;h.push(o,f),d&&d.push(r,n.index,b,-(b+1))}function B(n,e,t,i){let r=ue(),o=Ye(),s=Kt();return zT(o,r,r[je],s,n,e,i),B}function Kj(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[lf],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function zT(n,e,t,i,r,o,s){let a=Ff(i),l=n.firstCreatePass?N_(n):null,u=k_(e),d=!0;if(i.type&3||s){let h=fi(i,e),f=s?s(h):h,b=u.length,v=s?R=>s(ai(R[i.index])):i.index,I=null;if(!s&&a&&(I=Kj(n,e,r,i.index)),I!==null){let R=I.__ngLastListenerFn__||I;R.__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,d=!1}else{o=ID(i,e,o),S2(e,f,r,o);let R=t.listen(f,r,o);u.push(o,R),l&&l.push(r,v,b,b+1)}}else o=ID(i,e,o);if(d){let h=i.outputs?.[r],f=i.hostDirectiveOutputs?.[r];if(f&&f.length)for(let b=0;b<f.length;b+=2){let v=f[b],I=f[b+1];DD(i,e,v,I,r,o)}if(h&&h.length)for(let b of h)DD(i,e,b,r,r,o)}}function N(n=1){return FF(n)}function Zf(n,e,t){return qT(n,"",e,"",t),Zf}function qT(n,e,t,i,r){let o=ue(),s=HT(o,e,t,i);if(s!==Zi){let a=Ye(),c=ul();zf(a,c,o,n,s,o[je],r,!1)}return qT}function vv(n,e,t){KV(n,e,t)}function bv(n){let e=ue(),t=Ye(),i=fS();L_(i+1);let r=hv(t,i);if(n.dirty&&yF(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=QV(e,i);n.reset(o,d2),n.notifyOnChanges()}return!0}return!1}function wv(){return qV(ue(),fS())}function Mo(n){let e=RF();return x_(e,Vt+n)}function w(n,e=""){let t=ue(),i=Ye(),r=n+Vt,o=i.firstCreatePass?Xf(i,r,1,e,null):i.data[r],s=Xj(i,t,o,e,n);t[r]=s,Vf()&&Yf(i,t,s,o),Ao(o,!1)}var Xj=(n,e,t,i,r)=>(jf(!0),lB(e[je],i));function F(n){return k("",n,""),F}function k(n,e,t){let i=ue(),r=HT(i,n,e,t);return r!==Zi&&Jj(i,Ro(),r),k}function Jj(n,e,t){let i=oS(e,n);uB(n[je],i,t)}function kr(n,e,t){FS(e)&&(e=e());let i=ue(),r=sa();if(di(i,r,e)){let o=Ye(),s=ul();zf(o,s,i,n,e,i[je],t,!1)}return kr}function ko(n,e){let t=FS(n);return t&&n.set(e),t}function Nr(n,e){let t=ue(),i=Ye(),r=Kt();return zT(i,t,t[je],r,n,e),Nr}function Qj(n,e,t){let i=Ye();if(i.firstCreatePass){let r=si(n);y_(t,i.data,i.blueprint,r,!0),y_(e,i.data,i.blueprint,r,!1)}}function y_(n,e,t,i,r){if(n=Bt(n),Array.isArray(n))for(let o=0;o<n.length;o++)y_(n[o],e,t,i,r);else{let o=Ye(),s=ue(),a=Kt(),c=Xs(n)?n:Bt(n.provide),l=XD(n),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Xs(n)||!n.multi){let f=new Do(l,r,T),b=Ey(c,e,r?u:u+h,d);b===-1?(Oy(mf(a,s),o,c),wy(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[b]=f,s[b]=f)}else{let f=Ey(c,e,u+h,d),b=Ey(c,e,u,u+h),v=f>=0&&t[f],I=b>=0&&t[b];if(r&&!I||!r&&!v){Oy(mf(a,s),o,c);let R=tU(r?eU:Zj,t.length,r,i,l);!r&&I&&(t[b].providerFactory=R),wy(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(R),s.push(R)}else{let R=YT(t[r?b:f],l,!r&&i);wy(o,n,f>-1?f:b,R)}!r&&i&&I&&t[b].componentProviders++}}}function wy(n,e,t,i){let r=Xs(e),o=rF(e);if(r||o){let c=(o?Bt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function YT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ey(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Zj(n,e,t,i,r){return __(this.multi,[])}function eU(n,e,t,i,r){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=tl(i,i[re],this.providerFactory.index,r);s=c.slice(0,a),__(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],__(o,s);return s}function __(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function tU(n,e,t,i,r){let o=new Do(n,t,T);return o.multi=[],o.index=e,o.componentProviders=0,YT(o,r,i&&!t),o}function jt(n,e=[]){return t=>{t.providersResolver=(i,r)=>Qj(i,r?r(n):n,e)}}function eh(n,e,t){let i=ll()+n,r=ue();return r[i]===Zi?mv(r,i,t?e.call(t):e()):hj(r,i)}function pi(n,e,t,i){return XT(ue(),ll(),n,e,t,i)}function nr(n,e,t,i,r){return JT(ue(),ll(),n,e,t,i,r)}function KT(n,e){let t=n[e];return t===Zi?void 0:t}function XT(n,e,t,i,r,o){let s=e+t;return di(n,s,r)?mv(n,s+1,o?i.call(o,r):i(r)):KT(n,s+1)}function JT(n,e,t,i,r,o,s){let a=e+t;return pj(n,a,r,o)?mv(n,a+2,s?i.call(s,r,o):i(r,o)):KT(n,a+2)}function x(n,e){let t=Ye(),i,r=n+Vt;t.firstCreatePass?(i=nU(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=_o(i.type,!0)),s,a=qt(T);try{let c=gf(!1),l=o();return gf(c),mF(t,ue(),r,l),l}finally{qt(a)}}function nU(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function O(n,e,t){let i=n+Vt,r=ue(),o=x_(r,i);return QT(r,i)?XT(r,ll(),e,o.transform,t,o):o.transform(t)}function Jt(n,e,t,i){let r=n+Vt,o=ue(),s=x_(o,r);return QT(o,r)?JT(o,ll(),e,s.transform,t,i,s):s.transform(t,i)}function QT(n,e){return n[re].data[e].pure}var xf=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Ev=new xf("19.2.14"),v_=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},ZT=(()=>{class n{compileModuleSync(t){return new a_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=zD(t),o=sT(r.declarations).reduce((s,a)=>{let c=bo(a);return c&&s.push(new ta(c)),s},[]);return new v_(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var iU=(()=>{class n{zone=_(pe);changeDetectionScheduler=_(ea);applicationRef=_(zn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rU=new P("",{factory:()=>!1});function eA({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new pe($(E({},nA()),{scheduleInRootZone:t})),[{provide:pe,useFactory:n},{provide:Jc,multi:!0,useFactory:()=>{let i=_(iU,{optional:!0});return()=>i.initialize()}},{provide:Jc,multi:!0,useFactory:()=>{let i=_(oU);return()=>{i.initialize()}}},e===!0?{provide:MS,useValue:!0}:[],{provide:kS,useValue:t??xS}]}function tA(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=eA({ngZoneFactory:()=>{let r=nA(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&da("NgZone_CoalesceEvent"),new pe(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return To([{provide:rU,useValue:!0},{provide:U_,useValue:!1},i])}function nA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var oU=(()=>{class n{subscription=new _e;initialized=!1;zone=_(pe);pendingTasks=_(xr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sU=(()=>{class n{appRef=_(zn);taskService=_(xr);ngZone=_(pe);zonelessEnabled=_(U_);tracing=_(ua,{optional:!0});disableScheduling=_(MS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new _e;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(_f):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(kS,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Vy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?JC:NS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(_f+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,JC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aU(){return typeof $localize<"u"&&$localize.locale||Rf}var Iv=new P("",{providedIn:"root",factory:()=>_(Iv,ae.Optional|ae.SkipSelf)||aU()});var b_=new P(""),cU=new P("");function zc(n){return!n.moduleRef}function lU(n){let e=zc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(pe);return t.run(()=>{zc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(li,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),zc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(b_);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(b_);s.add(o),n.moduleRef.onDestroy(()=>{tf(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return dU(i,t,()=>{let o=e.get(UT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Iv,Rf);if(qj(s||Rf),!e.get(cU,!0))return zc(n)?e.get(zn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(zc(n)){let c=e.get(zn);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return uU(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function uU(n,e){let t=n.injector.get(zn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new H(-403,!1);e.push(n)}function dU(n,e,t){try{let i=t();return xo(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var nf=null;function fU(n=[],e){return Ae.create({name:e,providers:[{provide:Of,useValue:"platform"},{provide:b_,useValue:new Set([()=>nf=null])},...n]})}function hU(n=[]){if(nf)return nf;let e=fU(n);return nf=e,bj(),pU(e),e}function pU(n){let e=n.get(W_,null);dn(n,()=>{e?.forEach(t=>t())})}var fn=(()=>{class n{static __NG_ELEMENT_ID__=gU}return n})();function gU(n){return mU(Kt(),ue(),(n&16)===16)}function mU(n,e,t){if(ra(n)&&!t){let i=ci(n.index,e);return new il(i,i)}else if(n.type&175){let i=e[Gn];return new il(i,e)}return null}var w_=class{constructor(){}supports(e){return FT(e)}create(e){return new E_(e)}},yU=(n,e)=>e,E_=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||yU}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<SD(i,r,o)?t:i,a=SD(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,u=c-r;if(l!=u){for(let h=0;h<l;h++){let f=h<o.length?o[h]:o[h]=0,b=f+h;u<=b&&b<l&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!FT(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,dj(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new I_(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Mf),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Mf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},I_=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},C_=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Mf=class{map=new Map;put(e){let t=e.trackById,i=this.map.get(t);i||(i=new C_,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function SD(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function TD(){return new th([new w_])}var th=(()=>{class n{factories;static \u0275prov=S({token:n,providedIn:"root",factory:TD});constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||TD()),deps:[[n,new zL,new HD]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new H(901,!1)}}return n})();function iA(n){Ie(8);try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=hU(i),o=[eA({}),{provide:ea,useExisting:sU},...t||[]],s=new Sf({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return lU({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ie(9)}}function Dn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function rA(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Kn(n){return Gm(n)}function hl(n,e){return Um(n,e?.equal)}var AD=class{[bn];constructor(e){this[bn]=e}destroy(){this[bn].destroy()}};function nh(n,e){let t=bo(n),i=e.elementInjector||Pf();return new ta(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}var ce=new P("");var aA=null;function Sn(){return aA}function Cv(n){aA??=n}var pl=class{},Dv=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>_(cA),providedIn:"platform"})}return n})();var cA=(()=>{class n extends Dv{_location;_history;_doc=_(ce);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sn().getBaseHref(this._doc)}onPopState(t){let i=Sn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Sn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function lA(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function oA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Or(n){return n&&n[0]!=="?"?`?${n}`:n}var ih=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>_(dA),providedIn:"root"})}return n})(),uA=new P(""),dA=(()=>{class n extends ih{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??_(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return lA(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Or(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Or(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Or(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(L(Dv),L(uA,8))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gi=(()=>{class n{_subject=new U;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=bU(oA(sA(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Or(i))}normalize(t){return n.stripTrailingSlash(vU(this._basePath,sA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Or(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Or(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=Or;static joinWithSlash=lA;static stripTrailingSlash=oA;static \u0275fac=function(i){return new(i||n)(L(ih))};static \u0275prov=S({token:n,factory:()=>_U(),providedIn:"root"})}return n})();function _U(){return new gi(L(ih))}function vU(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function sA(n){return n.replace(/\/index.html$/,"")}function bU(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Sv=/\s+/,fA=[],Ut=(()=>{class n{_ngEl;_renderer;initialClasses=fA;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(Sv):fA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Sv):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Sv).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(T(Pe),T(Mr))};static \u0275dir=be({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var rh=class{$implicit;ngForOf;index;count;constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},mi=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new rh(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),hA(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);hA(o,r)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(T(Xt),T(un),T(th))};static \u0275dir=be({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function hA(n,e){n.context.$implicit=e.item}var St=(()=>{class n{_viewContainer;_context=new oh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(T(Xt),T(un))};static \u0275dir=be({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),oh=class{$implicit=null;ngIf=null};function pA(n,e){if(n&&!n.createEmbeddedView)throw new H(2020,!1)}var Ue=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=lt({type:n});static \u0275inj=ct({})}return n})();function gl(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var sh="browser",gA="server";function ml(n){return n===sh}function ah(n){return n===gA}var No=class{};var uh=new P(""),xv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new H(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(L(uh),L(pe))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),yl=class{_doc;constructor(e){this._doc=e}manager},ch="ng-app-id";function mA(n){for(let e of n)e.remove()}function yA(n,e){let t=e.createElement("style");return t.textContent=n,t}function wU(n,e,t,i){let r=n.head?.querySelectorAll(`style[${ch}="${e}"],link[${ch}="${e}"]`);if(r)for(let o of r)o.removeAttribute(ch),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Av(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Mv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.isServer=ah(o),wU(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,yA);i?.forEach(r=>this.addUsage(r,this.external,Av))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(mA(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])mA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,yA(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,Av(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(ch,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(L(ce),L(dl),L(G_,8),L(Ji))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Tv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kv=/%COMP%/g;var vA="%COMP%",EU=`_nghost-${vA}`,IU=`_ngcontent-${vA}`,CU=!0,DU=new P("",{providedIn:"root",factory:()=>CU});function SU(n){return IU.replace(kv,n)}function TU(n){return EU.replace(kv,n)}function bA(n,e){return e.map(t=>t.replace(kv,n))}var Nv=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,c,l=null,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=ah(a),this.defaultRenderer=new _l(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ui.ShadowDom&&(i=$(E({},i),{encapsulation:ui.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof lh?r.applyToHost(t):r instanceof vl&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(i.encapsulation){case ui.Emulated:o=new lh(c,l,i,this.appId,u,s,a,d,h);break;case ui.ShadowDom:return new Rv(c,l,t,i,s,a,this.nonce,d,h);default:o=new vl(c,l,i,u,s,a,d,h);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(L(xv),L(Mv),L(dl),L(DU),L(ce),L(Ji),L(pe),L(G_),L(ua,8))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),_l=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Tv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(_A(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(_A(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new H(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=Tv[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=Tv[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(zi.DashCase|zi.Important)?e.style.setProperty(t,i,r&zi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&zi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=Sn().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function _A(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Rv=class extends _l{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=bA(r.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=r.getExternalStyles?.();if(d)for(let h of d){let f=Av(h,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vl=class extends _l{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let u=i.styles;this.styles=l?bA(l,u):u,this.styleUrls=i.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},lh=class extends vl{contentAttr;hostAttr;constructor(e,t,i,r,o,s,a,c,l){let u=r+"-"+i.id;super(e,t,i,o,s,a,c,l,u),this.contentAttr=SU(u),this.hostAttr=TU(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var dh=class n extends pl{supportsDOMEvents=!0;static makeCurrent(){Cv(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=AU();return t==null?null:RU(t)}resetBaseElement(){bl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gl(document.cookie,e)}},bl=null;function AU(){return bl=bl||document.head.querySelector("base"),bl?bl.getAttribute("href"):null}function RU(n){return new URL(n,document.baseURI).pathname}var xU=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),EA=(()=>{class n extends yl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(L(ce))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),wA=["alt","control","meta","shift"],MU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},IA=(()=>{class n extends yl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),wA.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=MU[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),wA.forEach(s=>{if(s!==r){let a=kU[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(L(ce))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})();function Ov(n,e){return iA(E({rootComponent:n},NU(e)))}function NU(n){return{appProviders:[...BU,...n?.providers??[]],platformProviders:FU}}function OU(){dh.makeCurrent()}function PU(){return new li}function LU(){return WS(document),document}var FU=[{provide:Ji,useValue:sh},{provide:W_,useValue:OU,multi:!0},{provide:ce,useFactory:LU}];var BU=[{provide:Of,useValue:"root"},{provide:li,useFactory:PU},{provide:uh,useClass:EA,multi:!0,deps:[ce]},{provide:uh,useClass:IA,multi:!0,deps:[ce]},Nv,Mv,xv,{provide:gt,useExisting:Nv},{provide:No,useClass:xU},[]];var pa=class{},wl=class{},Pr=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var hh=class{encodeKey(e){return CA(e)}encodeValue(e){return CA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function VU(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var jU=/%(\d[a-f0-9])/gi,UU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function CA(n){return encodeURIComponent(n).replace(jU,(e,t)=>UU[t]??e)}function fh(n){return`${n}`}var ir=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new hh,e.fromString){if(e.fromObject)throw new H(2805,!1);this.map=VU(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(fh):[fh(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(fh(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(fh(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ph=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function HU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function DA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function SA(n){return typeof Blob<"u"&&n instanceof Blob}function TA(n){return typeof FormData<"u"&&n instanceof FormData}function $U(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var AA="Content-Type",RA="Accept",xA="X-Request-URL",MA="text/plain",kA="application/json",WU=`${kA}, ${MA}, */*`,ha=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,i,r){this.url=t,this.method=e.toUpperCase();let o;if(HU(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Pr,this.context??=new ph,!this.params)this.params=new ir,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||DA(this.body)||SA(this.body)||TA(this.body)||$U(this.body)?this.body:this.body instanceof ir?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||TA(this.body)?null:SA(this.body)?this.body.type||null:DA(this.body)?null:typeof this.body=="string"?MA:this.body instanceof ir?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?kA:null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new n(t,i,s,{params:u,headers:l,context:d,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},Oo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Oo||{}),ga=class{headers;status;statusText;url;ok;type;constructor(e,t=200,i="OK"){this.headers=e.headers||new Pr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},gh=class n extends ga{constructor(e={}){super(e)}type=Oo.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},El=class n extends ga{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Oo.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Il=class extends ga{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},GU=200,zU=204;function Pv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var ma=(()=>{class n{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof ha)o=t;else{let c;r.headers instanceof Pr?c=r.headers:c=new Pr(r.headers);let l;r.params&&(r.params instanceof ir?l=r.params:l=new ir({fromObject:r.params})),o=new ha(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=q(o).pipe(ri(c=>this.handler.handle(c)));if(t instanceof ha||r.observe==="events")return s;let a=s.pipe(Ne(c=>c instanceof El));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Z(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new H(2806,!1);return c.body}));case"blob":return a.pipe(Z(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new H(2807,!1);return c.body}));case"text":return a.pipe(Z(c=>{if(c.body!==null&&typeof c.body!="string")throw new H(2808,!1);return c.body}));case"json":default:return a.pipe(Z(c=>c.body))}case"response":return a;default:throw new H(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new ir().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Pv(r,i))}post(t,i,r={}){return this.request("POST",t,Pv(r,i))}put(t,i,r={}){return this.request("PUT",t,Pv(r,i))}static \u0275fac=function(i){return new(i||n)(L(pa))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})();var qU=new P("");function YU(n,e){return e(n)}function KU(n,e,t){return(i,r)=>dn(t,()=>e(i,o=>n(o,r)))}var NA=new P(""),OA=new P(""),PA=new P("",{providedIn:"root",factory:()=>!0});var mh=(()=>{class n extends pa{backend;injector;chain=null;pendingTasks=_(xr);contributeToStability=_(PA);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(NA),...this.injector.get(OA,[])]));this.chain=i.reduceRight((r,o)=>KU(r,o,this.injector),YU)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(go(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(L(wl),L(pt))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})();var XU=/^\)\]\}',?\n/,JU=RegExp(`^${xA}:`,"m");function QU(n){return"responseURL"in n&&n.responseURL?n.responseURL:JU.test(n.getAllResponseHeaders())?n.getResponseHeader(xA):null}var Lv=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new H(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?xe(i.\u0275loadImpl()):q(null)).pipe(at(()=>new ne(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((v,I)=>s.setRequestHeader(v,I.join(","))),t.headers.has(RA)||s.setRequestHeader(RA,WU),!t.headers.has(AA)){let v=t.detectContentTypeHeader();v!==null&&s.setRequestHeader(AA,v)}if(t.responseType){let v=t.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let v=s.statusText||"OK",I=new Pr(s.getAllResponseHeaders()),R=QU(s)||t.url;return c=new gh({headers:I,status:s.status,statusText:v,url:R}),c},u=()=>{let{headers:v,status:I,statusText:R,url:G}=l(),K=null;I!==zU&&(K=typeof s.response>"u"?s.responseText:s.response),I===0&&(I=K?GU:0);let te=I>=200&&I<300;if(t.responseType==="json"&&typeof K=="string"){let ge=K;K=K.replace(XU,"");try{K=K!==""?JSON.parse(K):null}catch(Rt){K=ge,te&&(te=!1,K={error:Rt,text:K})}}te?(o.next(new El({body:K,headers:v,status:I,statusText:R,url:G||void 0})),o.complete()):o.error(new Il({error:K,headers:v,status:I,statusText:R,url:G||void 0}))},d=v=>{let{url:I}=l(),R=new Il({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});o.error(R)},h=!1,f=v=>{h||(o.next(l()),h=!0);let I={type:Oo.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(I.total=v.total),t.responseType==="text"&&s.responseText&&(I.partialText=s.responseText),o.next(I)},b=v=>{let I={type:Oo.UploadProgress,loaded:v.loaded};v.lengthComputable&&(I.total=v.total),o.next(I)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:Oo.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(L(No))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),LA=new P(""),ZU="XSRF-TOKEN",e3=new P("",{providedIn:"root",factory:()=>ZU}),t3="X-XSRF-TOKEN",n3=new P("",{providedIn:"root",factory:()=>t3}),Cl=class{},i3=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i){this.doc=t,this.cookieName=i}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=gl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||n)(L(ce),L(e3))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})();function r3(n,e){let t=n.url.toLowerCase();if(!_(LA)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=_(Cl).getToken(),r=_(n3);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}function Fv(...n){let e=[ma,Lv,mh,{provide:pa,useExisting:mh},{provide:wl,useFactory:()=>_(qU,{optional:!0})??_(Lv)},{provide:NA,useValue:r3,multi:!0},{provide:LA,useValue:!0},{provide:Cl,useClass:i3}];for(let t of n)e.push(...t.\u0275providers);return To(e)}var FA=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(L(ce))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oe="primary",Bl=Symbol("RouteTitle"),Hv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Fo(n){return new Hv(n)}function GA(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function a3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!_i(n[t],e[t]))return!1;return!0}function _i(n,e){let t=n?$v(n):void 0,i=e?$v(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!zA(n[r],e[r]))return!1;return!0}function $v(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function zA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function qA(n){return n.length>0?n[n.length-1]:null}function Br(n){return Vn(n)?n:xo(n)?xe(Promise.resolve(n)):q(n)}var c3={exact:KA,subset:XA},YA={exact:l3,subset:u3,ignored:()=>!0};function BA(n,e,t){return c3[t.paths](n.root,e.root,t.matrixParams)&&YA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function l3(n,e){return _i(n,e)}function KA(n,e,t){if(!Po(n.segments,e.segments)||!vh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!KA(n.children[i],e.children[i],t))return!1;return!0}function u3(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>zA(n[t],e[t]))}function XA(n,e,t){return JA(n,e,e.segments,t)}function JA(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Po(r,t)||e.hasChildren()||!vh(r,t,i))}else if(n.segments.length===t.length){if(!Po(n.segments,t)||!vh(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!XA(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Po(n.segments,r)||!vh(n.segments,r,i)||!n.children[oe]?!1:JA(n.children[oe],e,o,i)}}function vh(n,e,t){return e.every((i,r)=>YA[t](n[r].parameters,i.parameters))}var bi=class{root;queryParams;fragment;_queryParamMap;constructor(e=new we([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Fo(this.queryParams),this._queryParamMap}toString(){return h3.serialize(this)}},we=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bh(this)}},Lr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Fo(this.parameters),this._parameterMap}toString(){return ZA(this)}};function d3(n,e){return Po(n,e)&&n.every((t,i)=>_i(t.parameters,e[i].parameters))}function Po(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function f3(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===oe&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==oe&&(t=t.concat(e(r,i)))}),t}var Vl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>new Bo,providedIn:"root"})}return n})(),Bo=class{parse(e){let t=new Gv(e);return new bi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Dl(e.root,!0)}`,i=m3(e.queryParams),r=typeof e.fragment=="string"?`#${p3(e.fragment)}`:"";return`${t}${i}${r}`}},h3=new Bo;function bh(n){return n.segments.map(e=>ZA(e)).join("/")}function Dl(n,e){if(!n.hasChildren())return bh(n);if(e){let t=n.children[oe]?Dl(n.children[oe],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==oe&&i.push(`${r}:${Dl(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=f3(n,(i,r)=>r===oe?[Dl(n.children[oe],!1)]:[`${r}:${Dl(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${bh(n)}/${t[0]}`:`${bh(n)}/(${t.join("//")})`}}function QA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yh(n){return QA(n).replace(/%3B/gi,";")}function p3(n){return encodeURI(n)}function Wv(n){return QA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wh(n){return decodeURIComponent(n)}function VA(n){return wh(n.replace(/\+/g,"%20"))}function ZA(n){return`${Wv(n.path)}${g3(n.parameters)}`}function g3(n){return Object.entries(n).map(([e,t])=>`;${Wv(e)}=${Wv(t)}`).join("")}function m3(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${yh(t)}=${yh(r)}`).join("&"):`${yh(t)}=${yh(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var y3=/^[^\/()?;#]+/;function Bv(n){let e=n.match(y3);return e?e[0]:""}var _3=/^[^\/()?;=#]+/;function v3(n){let e=n.match(_3);return e?e[0]:""}var b3=/^[^=?&#]+/;function w3(n){let e=n.match(b3);return e?e[0]:""}var E3=/^[^&#]+/;function I3(n){let e=n.match(E3);return e?e[0]:""}var Gv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[oe]=new we(e,t)),i}parseSegment(){let e=Bv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Lr(wh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=v3(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Bv(this.remaining);r&&(i=r,this.capture(i))}e[wh(t)]=wh(i)}parseQueryParam(e){let t=w3(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=I3(this.remaining);s&&(i=s,this.capture(i))}let r=VA(t),o=VA(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Bv(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new H(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[oe]:new we([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function eR(n){return n.segments.length>0?new we([],{[oe]:n}):n}function tR(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=tR(r);if(i===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new we(n.segments,e);return C3(t)}function C3(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new we(n.segments.concat(e.segments),e.children)}return n}function wa(n){return n instanceof bi}function nR(n,e,t=null,i=null){let r=iR(n);return rR(r,e,t,i)}function iR(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new we(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=eR(i);return e??r}function rR(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Vv(r,r,r,t,i);let o=D3(e);if(o.toRoot())return Vv(r,r,new we([],{}),t,i);let s=S3(o,r,n),a=s.processChildren?Tl(s.segmentGroup,s.index,o.commands):sR(s.segmentGroup,s.index,o.commands);return Vv(r,s.segmentGroup,a,t,i)}function Ih(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Rl(n){return typeof n=="object"&&n!=null&&n.outlets}function Vv(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=oR(n,e,t);let a=eR(tR(s));return new bi(a,o,r)}function oR(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=oR(o,e,t)}),new we(n.segments,i)}var Ch=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Ih(i[0]))throw new H(4003,!1);let r=i.find(Rl);if(r&&r!==qA(i))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function D3(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ch(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Ch(t,e,i)}var va=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function S3(n,e,t){if(n.isAbsolute)return new va(e,!0,0);if(!t)return new va(e,!1,NaN);if(t.parent===null)return new va(t,!0,0);let i=Ih(n.commands[0])?0:1,r=t.segments.length-1+i;return T3(t,r,n.numberOfDoubleDots)}function T3(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new H(4005,!1);r=i.segments.length}return new va(i,!1,r-o)}function A3(n){return Rl(n[0])?n[0].outlets:{[oe]:n}}function sR(n,e,t){if(n??=new we([],{}),n.segments.length===0&&n.hasChildren())return Tl(n,e,t);let i=R3(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new we(n.segments.slice(0,i.pathIndex),{});return o.children[oe]=new we(n.segments.slice(i.pathIndex),n.children),Tl(o,0,r)}else return i.match&&r.length===0?new we(n.segments,{}):i.match&&!n.hasChildren()?zv(n,e,t):i.match?Tl(n,0,r):zv(n,e,t)}function Tl(n,e,t){if(t.length===0)return new we(n.segments,{});{let i=A3(t),r={};if(Object.keys(i).some(o=>o!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let o=Tl(n.children[oe],e,t);return new we(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=sR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new we(n.segments,r)}}function R3(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(Rl(a))break;let c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!UA(c,l,s))return o;i+=2}else{if(!UA(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function zv(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Rl(o)){let c=x3(o.outlets);return new we(i,c)}if(r===0&&Ih(t[0])){let c=n.segments[e];i.push(new Lr(c.path,jA(t[0]))),r++;continue}let s=Rl(o)?o.outlets[oe]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Ih(a)?(i.push(new Lr(s,jA(a))),r+=2):(i.push(new Lr(s,{})),r++)}return new we(i,{})}function x3(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=zv(new we([],{}),0,i))}),e}function jA(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function UA(n,e,t){return n==t.path&&_i(e,t.parameters)}var Eh="imperative",mt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(mt||{}),pn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Vo=class extends pn{type=mt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rr=class extends pn{urlAfterRedirects;type=mt.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Qt||{}),xl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(xl||{}),vi=class extends pn{reason;code;type=mt.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},or=class extends pn{reason;code;type=mt.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},Ea=class extends pn{error;target;type=mt.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ml=class extends pn{urlAfterRedirects;state;type=mt.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dh=class extends pn{urlAfterRedirects;state;type=mt.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sh=class extends pn{urlAfterRedirects;state;shouldActivate;type=mt.GuardsCheckEnd;constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Th=class extends pn{urlAfterRedirects;state;type=mt.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ah=class extends pn{urlAfterRedirects;state;type=mt.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rh=class{route;type=mt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xh=class{route;type=mt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Mh=class{snapshot;type=mt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kh=class{snapshot;type=mt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nh=class{snapshot;type=mt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oh=class{snapshot;type=mt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var kl=class{},Ia=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function M3(n,e){return n.providers&&!n._injector&&(n._injector=Qf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Xn(n){return n.outlet||oe}function k3(n,e){let t=n.filter(i=>Xn(i)===e);return t.push(...n.filter(i=>Xn(i)!==e)),t}function jl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ph=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return jl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Sa(this.rootInjector)}},Sa=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Ph(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(L(pt))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=qv(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=qv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Yv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Yv(e,this._root).map(t=>t.value)}};function qv(n,e){if(n===e.value)return e;for(let t of e.children){let i=qv(n,t);if(i)return i}return null}function Yv(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Yv(n,t);if(i.length)return i.unshift(e),i}return[]}var hn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function _a(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Nl=class extends Lh{snapshot;constructor(e,t){super(e),this.snapshot=t,nb(this,e)}toString(){return this.snapshot.toString()}};function aR(n){let e=N3(n),t=new Ge([new Lr("",{})]),i=new Ge({}),r=new Ge({}),o=new Ge({}),s=new Ge(""),a=new Fr(t,i,o,s,r,oe,n,e.root);return a.snapshot=e.root,new Nl(new hn(a,[]),e)}function N3(n){let e={},t={},i={},r="",o=new Lo([],e,i,r,t,oe,n,null,{});return new Ol("",new hn(o,[]))}var Fr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Z(l=>l[Bl]))??q(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>Fo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>Fo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fh(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:E(E({},e.params),n.params),data:E(E({},e.data),n.data),resolve:E(E(E(E({},n.data),e.data),r?.data),n._resolvedData)}:i={params:E({},n.params),data:E({},n.data),resolve:E(E({},n.data),n._resolvedData??{})},r&&lR(r)&&(i.resolve[Bl]=r.title),i}var Lo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Bl]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ol=class extends Lh{url;constructor(e,t){super(t),this.url=e,nb(this,t)}toString(){return cR(this._root)}};function nb(n,e){e.value._routerState=n,e.children.forEach(t=>nb(n,t))}function cR(n){let e=n.children.length>0?` { ${n.children.map(cR).join(", ")} } `:"";return`${n.value}${e}`}function jv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,_i(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),_i(e.params,t.params)||n.paramsSubject.next(t.params),a3(e.url,t.url)||n.urlSubject.next(t.url),_i(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Kv(n,e){let t=_i(n.params,e.params)&&d3(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||Kv(n.parent,e.parent))}function lR(n){return typeof n.title=="string"||n.title===null}var uR=new P(""),Ul=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=oe;activateEvents=new ie;deactivateEvents=new ie;attachEvents=new ie;detachEvents=new ie;routerOutletData=PS(void 0);parentContexts=_(Sa);location=_(Xt);changeDetector=_(fn);inputBinder=_(Uh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Xv(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=be({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Cn]})}return n})(),Xv=class{route;childContexts;parent;outletData;constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===Fr?this.route:e===Sa?this.childContexts:e===uR?this.outletData:this.parent.get(e,t)}},Uh=new P("");var ib=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=W({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&V(0,"router-outlet")},dependencies:[Ul],encapsulation:2})}return n})();function rb(n){let e=n.children&&n.children.map(rb),t=e?$(E({},n),{children:e}):E({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=ib),t}function O3(n,e,t){let i=Pl(n,e._root,t?t._root:void 0);return new Nl(i,e)}function Pl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=P3(n,e,t);return new hn(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pl(n,a)),s}}let i=L3(e.value),r=e.children.map(o=>Pl(n,o));return new hn(i,r)}}function P3(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Pl(n,i,r);return Pl(n,i)})}function L3(n){return new Fr(new Ge(n.url),new Ge(n.params),new Ge(n.queryParams),new Ge(n.fragment),new Ge(n.data),n.outlet,n.component,n)}var Ca=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},dR="ngNavigationCancelingError";function Bh(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=wa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=fR(!1,Qt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function fR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[dR]=!0,t.cancellationCode=e,t}function F3(n){return hR(n)&&wa(n.url)}function hR(n){return!!n&&n[dR]}var B3=(n,e,t,i)=>Z(r=>(new Jv(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),Jv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),jv(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=_a(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=_a(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=_a(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=_a(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Oh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new kh(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(jv(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),jv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},Vh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ba=class{component;route;constructor(e,t){this.component=e,this.route=t}};function V3(n,e,t){let i=n._root,r=e?e._root:null;return Sl(i,r,t,[i.value])}function j3(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ta(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!OD(n)?n:e.get(n):i}function Sl(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=_a(e);return n.children.forEach(s=>{U3(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Al(a,t.getContext(s),r)),r}function U3(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=H3(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Vh(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Sl(n,e,a?a.children:null,i,r):Sl(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ba(a.outlet.component,s))}else s&&Al(e,a,r),r.canActivateChecks.push(new Vh(i)),o.component?Sl(n,null,a?a.children:null,i,r):Sl(n,null,t,i,r);return r}function H3(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Po(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Po(n.url,e.url)||!_i(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kv(n,e)||!_i(n.queryParams,e.queryParams);case"paramsChange":default:return!Kv(n,e)}}function Al(n,e,t){let i=_a(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Al(s,e.children.getContext(o),t):Al(s,null,t):Al(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ba(e.outlet.component,r)):t.canDeactivateChecks.push(new ba(null,r)):t.canDeactivateChecks.push(new ba(null,r))}function Hl(n){return typeof n=="function"}function $3(n){return typeof n=="boolean"}function W3(n){return n&&Hl(n.canLoad)}function G3(n){return n&&Hl(n.canActivate)}function z3(n){return n&&Hl(n.canActivateChild)}function q3(n){return n&&Hl(n.canDeactivate)}function Y3(n){return n&&Hl(n.canMatch)}function pR(n){return n instanceof jn||n?.name==="EmptyError"}var _h=Symbol("INITIAL_VALUE");function Da(){return at(n=>jd(n.map(e=>e.pipe(qe(1),Hn(_h)))).pipe(Z(e=>{for(let t of e)if(t!==!0){if(t===_h)return _h;if(t===!1||K3(t))return t}return!0}),Ne(e=>e!==_h),qe(1)))}function K3(n){return wa(n)||n instanceof Ca}function X3(n,e){return ze(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?q($(E({},t),{guardsResult:!0})):J3(s,i,r,n).pipe(ze(a=>a&&$3(a)?Q3(i,o,n,e):q(a)),Z(a=>$(E({},t),{guardsResult:a})))})}function J3(n,e,t,i){return xe(n).pipe(ze(r=>iH(r.component,r.route,t,e,i)),$i(r=>r!==!0,!0))}function Q3(n,e,t,i){return xe(e).pipe(ri(r=>Ui(eH(r.route.parent,i),Z3(r.route,i),nH(n,r.path,t),tH(n,r.route,t))),$i(r=>r!==!0,!0))}function Z3(n,e){return n!==null&&e&&e(new Nh(n)),q(!0)}function eH(n,e){return n!==null&&e&&e(new Mh(n)),q(!0)}function tH(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return q(!0);let r=i.map(o=>Un(()=>{let s=jl(e)??t,a=Ta(o,s),c=G3(a)?a.canActivate(e,n):dn(s,()=>a(e,n));return Br(c).pipe($i())}));return q(r).pipe(Da())}function nH(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>j3(s)).filter(s=>s!==null).map(s=>Un(()=>{let a=s.guards.map(c=>{let l=jl(s.node)??t,u=Ta(c,l),d=z3(u)?u.canActivateChild(i,n):dn(l,()=>u(i,n));return Br(d).pipe($i())});return q(a).pipe(Da())}));return q(o).pipe(Da())}function iH(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let c=jl(e)??r,l=Ta(a,c),u=q3(l)?l.canDeactivate(n,e,t,i):dn(c,()=>l(n,e,t,i));return Br(u).pipe($i())});return q(s).pipe(Da())}function rH(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return q(!0);let o=r.map(s=>{let a=Ta(s,n),c=W3(a)?a.canLoad(e,t):dn(n,()=>a(e,t));return Br(c)});return q(o).pipe(Da(),gR(i))}function gR(n){return Qm(Ze(e=>{if(typeof e!="boolean")throw Bh(n,e)}),Z(e=>e===!0))}function oH(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return q(!0);let o=r.map(s=>{let a=Ta(s,n),c=Y3(a)?a.canMatch(e,t):dn(n,()=>a(e,t));return Br(c)});return q(o).pipe(Da(),gR(i))}var Ll=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Fl=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ya(n){return Us(new Ll(n))}function sH(n){return Us(new H(4e3,!1))}function aH(n){return Us(fR(!1,Qt.GuardRejected))}var Qv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return q(i);if(r.numberOfChildren>1||!r.children[oe])return sH(`${e.redirectTo}`);r=r.children[oe]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,params:f,data:b,title:v}=r,I=dn(o,()=>a({params:f,data:b,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,title:v}));if(I instanceof bi)throw new Fl(I);t=I}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new Fl(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new bi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new we(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new H(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Zv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cH(n,e,t,i,r){let o=mR(n,e,t);return o.matched?(i=M3(e,i),oH(i,e,t,r).pipe(Z(s=>s===!0?o:E({},Zv)))):q(o)}function mR(n,e,t){if(e.path==="**")return lH(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?E({},Zv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||GA)(t,n,e);if(!r)return E({},Zv);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?E(E({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function lH(n){return{matched:!0,parameters:n.length>0?qA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function HA(n,e,t,i){return t.length>0&&fH(n,t,i)?{segmentGroup:new we(e,dH(i,new we(t,n.children))),slicedSegments:[]}:t.length===0&&hH(n,t,i)?{segmentGroup:new we(n.segments,uH(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new we(n.segments,n.children),slicedSegments:t}}function uH(n,e,t,i){let r={};for(let o of t)if(Hh(n,e,o)&&!i[Xn(o)]){let s=new we([],{});r[Xn(o)]=s}return E(E({},i),r)}function dH(n,e){let t={};t[oe]=e;for(let i of n)if(i.path===""&&Xn(i)!==oe){let r=new we([],{});t[Xn(i)]=r}return t}function fH(n,e,t){return t.some(i=>Hh(n,e,i)&&Xn(i)!==oe)}function hH(n,e,t){return t.some(i=>Hh(n,e,i))}function Hh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function pH(n,e,t){return e.length===0&&!n.children[t]}var eb=class{};function gH(n,e,t,i,r,o,s="emptyOnly"){return new tb(n,e,t,i,r,s,o).recognize()}var mH=31,tb=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Qv(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=HA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:t,rootSnapshot:i})=>{let r=new hn(i,t),o=new Ol("",r),s=nR(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Lo([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,t).pipe(Z(i=>({children:i,rootSnapshot:t})),Dr(i=>{if(i instanceof Fl)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ll?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(Z(s=>s instanceof hn?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return xe(o).pipe(ri(s=>{let a=i.children[s],c=k3(t,s);return this.processSegmentGroup(e,c,a,s,r)}),sy((s,a)=>(s.push(...a),s)),Sr(null),oy(),ze(s=>{if(s===null)return ya(i);let a=yR(s);return yH(a),q(a)}))}processSegment(e,t,i,r,o,s,a){return xe(t).pipe(ri(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,i,r,o,s,a).pipe(Dr(l=>{if(l instanceof Ll)return q(null);throw l}))),$i(c=>!!c),Dr(c=>{if(pR(c))return pH(i,r,o)?q(new eb):ya(i);throw c}))}processSegmentAgainstRoute(e,t,i,r,o,s,a,c){return Xn(i)!==s&&(s===oe||!Hh(r,o,i))?ya(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,c):ya(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=mR(t,r,o);if(!c)return ya(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mH&&(this.allowRedirects=!1));let f=new Lo(o,l,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,$A(r),Xn(r),r.component??r._loadedComponent??null,r,WA(r)),b=Fh(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(b.params),f.data=Object.freeze(b.data);let v=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(r,v).pipe(ze(I=>this.processSegment(e,i,t,I.concat(h),s,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a=cH(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(at(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(at(({routes:l})=>{let u=i._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=c,b=new Lo(h,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,$A(i),Xn(i),i.component??i._loadedComponent??null,i,WA(i)),v=Fh(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(v.params),b.data=Object.freeze(v.data);let{segmentGroup:I,slicedSegments:R}=HA(t,h,f,l);if(R.length===0&&I.hasChildren())return this.processChildren(u,l,I,b).pipe(Z(K=>new hn(b,K)));if(l.length===0&&R.length===0)return q(new hn(b,[]));let G=Xn(i)===o;return this.processSegment(u,l,I,R,G?oe:o,!0,b).pipe(Z(K=>new hn(b,K instanceof hn?[K]:[])))}))):ya(t)))}getChildConfig(e,t,i){return t.children?q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?q({routes:t._loadedRoutes,injector:t._loadedInjector}):rH(e,t,i,this.urlSerializer).pipe(ze(r=>r?this.configLoader.loadChildren(e,t).pipe(Ze(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):aH(t))):q({routes:[],injector:e})}};function yH(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}function _H(n){let e=n.value.routeConfig;return e&&e.path===""}function yR(n){let e=[],t=new Set;for(let i of n){if(!_H(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=yR(i.children);e.push(new hn(i.value,r))}return e.filter(i=>!t.has(i))}function $A(n){return n.data||{}}function WA(n){return n.resolve||{}}function vH(n,e,t,i,r,o){return ze(s=>gH(n,e,t,i,s.extractedUrl,r,o).pipe(Z(({state:a,tree:c})=>$(E({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function bH(n,e){return ze(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return q(t);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of _R(c))s.add(l);let a=0;return xe(s).pipe(ri(c=>o.has(c)?wH(c,i,n,e):(c.data=Fh(c,c.parent,n).resolve,q(void 0))),Ze(()=>a++),$s(1),ze(c=>a===s.size?q(t):xt))})}function _R(n){let e=n.children.map(t=>_R(t)).flat();return[n,...e]}function wH(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!lR(r)&&(o[Bl]=r.title),EH(o,n,e,i).pipe(Z(s=>(n._resolvedData=s,n.data=Fh(n,n.parent,t).resolve,null)))}function EH(n,e,t,i){let r=$v(n);if(r.length===0)return q({});let o={};return xe(r).pipe(ze(s=>IH(n[s],e,t,i).pipe($i(),Ze(a=>{if(a instanceof Ca)throw Bh(new Bo,a);o[s]=a}))),$s(1),Z(()=>o),Dr(s=>pR(s)?xt:Us(s)))}function IH(n,e,t,i){let r=jl(e)??i,o=Ta(n,r),s=o.resolve?o.resolve(e,t):dn(r,()=>o(e,t));return Br(s)}function Uv(n){return at(e=>{let t=n(e);return t?xe(t).pipe(Z(()=>e)):q(e)})}var ob=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===oe);return i}getResolvedTitleForRoute(t){return t.data[Bl]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>_(vR),providedIn:"root"})}return n})(),vR=(()=>{class n extends ob{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(L(FA))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$l=new P("",{providedIn:"root",factory:()=>({})}),Wl=new P(""),bR=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(ZT);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Br(t.loadComponent()).pipe(Z(ER),Ze(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),go(()=>{this.componentLoaders.delete(t)})),r=new Ps(i,()=>new U).pipe(Os());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=wR(i,this.compiler,t,this.onLoadEndListener).pipe(go(()=>{this.childrenLoaders.delete(i)})),s=new Ps(o,()=>new U).pipe(Os());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wR(n,e,t,i){return Br(n.loadChildren()).pipe(Z(ER),ze(r=>r instanceof pv||Array.isArray(r)?q(r):xe(e.compileModuleAsync(r))),Z(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(Wl,[],{optional:!0,self:!0}).flat()),{routes:s.map(rb),injector:o}}))}function CH(n){return n&&typeof n=="object"&&"default"in n}function ER(n){return CH(n)?n.default:n}var $h=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>_(DH),providedIn:"root"})}return n})(),DH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IR=new P("");var CR=new P(""),DR=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new U;transitionAbortSubject=new U;configLoader=_(bR);environmentInjector=_(pt);destroyRef=_(aa);urlSerializer=_(Vl);rootContexts=_(Sa);location=_(gi);inputBindingEnabled=_(Uh,{optional:!0})!==null;titleStrategy=_(ob);options=_($l,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_($h);createViewTransition=_(IR,{optional:!0});navigationErrorHandler=_(CR,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new Rh(r)),i=r=>this.events.next(new xh(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next($(E({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(t){return this.transitions=new Ge(null),this.transitions.pipe(Ne(i=>i!==null),at(i=>{let r=!1,o=!1;return q(i).pipe(at(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Qt.SupersededByNewNavigation),xt;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?$(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new or(s.id,this.urlSerializer.serialize(s.rawUrl),l,xl.IgnoredSameUrlNavigation)),s.resolve(!1),xt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return q(s).pipe(at(l=>(this.events.next(new Vo(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?xt:Promise.resolve(l))),vH(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ze(l=>{i.targetSnapshot=l.targetSnapshot,i.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=$(E({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new Ml(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:h,extras:f}=s,b=new Vo(l,this.urlSerializer.serialize(u),d,h);this.events.next(b);let v=aR(this.rootComponentType).snapshot;return this.currentTransition=i=$(E({},s),{targetSnapshot:v,urlAfterRedirects:u,extras:$(E({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,q(i)}else{let l="";return this.events.next(new or(s.id,this.urlSerializer.serialize(s.extractedUrl),l,xl.IgnoredByUrlHandlingStrategy)),s.resolve(!1),xt}}),Ze(s=>{let a=new Dh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Z(s=>(this.currentTransition=i=$(E({},s),{guards:V3(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),X3(this.environmentInjector,s=>this.events.next(s)),Ze(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Bh(this.urlSerializer,s.guardsResult);let a=new Sh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ne(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Qt.GuardRejected),!1)),Uv(s=>{if(s.guards.canActivateChecks.length!==0)return q(s).pipe(Ze(a=>{let c=new Th(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),at(a=>{let c=!1;return q(a).pipe(bH(this.paramsInheritanceStrategy,this.environmentInjector),Ze({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Qt.NoDataFromResolver)}}))}),Ze(a=>{let c=new Ah(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Uv(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ze(u=>{c.component=u}),Z(()=>{})));for(let u of c.children)l.push(...a(u));return l};return jd(a(s.targetSnapshot.root)).pipe(Sr(null),qe(1))}),Uv(()=>this.afterPreactivation()),at(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?xe(c).pipe(Z(()=>i)):q(i)}),Z(s=>{let a=O3(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=$(E({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),Ze(()=>{this.events.next(new kl)}),B3(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),qe(1),Ze({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),ln(this.transitionAbortSubject.pipe(Ze(s=>{throw s}))),go(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",Qt.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Dr(s=>{if(this.destroyed)return i.resolve(!1),xt;if(o=!0,hR(s))this.events.next(new vi(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),F3(s)?this.events.next(new Ia(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new Ea(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let c=dn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Ca){let{message:l,cancellationCode:u}=Bh(this.urlSerializer,c);this.events.next(new vi(i.id,this.urlSerializer.serialize(i.extractedUrl),l,u)),this.events.next(new Ia(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return xt}))}))}cancelNavigationTransition(t,i,r){let o=new vi(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function SH(n){return n!==Eh}var SR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>_(TH),providedIn:"root"})}return n})(),jh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},TH=(()=>{class n extends jh{static \u0275fac=(()=>{let t;return function(r){return(t||(t=et(n)))(r||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TR=(()=>{class n{urlSerializer=_(Vl);options=_($l,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=_(gi);urlHandlingStrategy=_($h);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new bi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=r??o;return s instanceof bi?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=aR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>_(AH),providedIn:"root"})}return n})(),AH=(()=>{class n extends TR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof Vo?this.updateStateMemento():t instanceof or?this.commitTransition(i):t instanceof Ml?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof kl?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof vi&&(t.code===Qt.GuardRejected||t.code===Qt.NoDataFromResolver)?this.restoreHistory(i):t instanceof Ea?this.restoreHistory(i,!0):t instanceof rr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=E(E({},s),this.generateNgRouterState(r,a));this.location.replaceState(t,"",c)}else{let a=E(E({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=et(n)))(r||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sb(n,e){n.events.pipe(Ne(t=>t instanceof rr||t instanceof vi||t instanceof Ea||t instanceof or),Z(t=>t instanceof rr||t instanceof or?0:(t instanceof vi?t.code===Qt.Redirect||t.code===Qt.SupersededByNewNavigation:!1)?2:1),Ne(t=>t!==2),qe(1)).subscribe(()=>{e()})}var RH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ce=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(BT);stateManager=_(TR);options=_($l,{optional:!0})||{};pendingTasks=_(xr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(DR);urlSerializer=_(Vl);location=_(gi);urlHandlingStrategy=_($h);_events=new U;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(SR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(Wl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(Uh,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new _e;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof vi&&i.code!==Qt.Redirect&&i.code!==Qt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof rr)this.navigated=!0;else if(i instanceof Ia){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=E({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||SH(r.source)},s);this.scheduleNavigation(a,Eh,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}kH(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Eh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=E({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(rb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=iR(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return rR(d,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=wa(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Eh,null,i)}navigate(t,i={skipLocationChange:!1}){return MH(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=E({},RH):i===!1?r=E({},xH):r=i,wa(t))return BA(this.currentUrlTree,t,r);let o=this.parseUrl(t);return BA(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return sb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function MH(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}function kH(n){return!(n instanceof kl)&&!(n instanceof Ia)}var OH=new P("");function ab(n,...e){return To([{provide:Wl,multi:!0,useValue:n},[],{provide:Fr,useFactory:PH,deps:[Ce]},{provide:yv,multi:!0,useFactory:LH},e.map(t=>t.\u0275providers)])}function PH(n){return n.routerState.root}function LH(){let n=_(Ae);return e=>{let t=n.get(zn);if(e!==t.components[0])return;let i=n.get(Ce),r=n.get(FH);n.get(BH)===1&&i.initialNavigation(),n.get(VH,null,ae.Optional)?.setUpPreloading(),n.get(OH,null,ae.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var FH=new P("",{factory:()=>new U}),BH=new P("",{providedIn:"root",factory:()=>1});var VH=new P("");var sr=class{},cb=(()=>{class n extends sr{getTranslation(t){return q({})}static \u0275fac=(()=>{let t;return function(r){return(t||(t=et(n)))(r||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Aa=class{},lb=(()=>{class n{handle(t){return t.key}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})();function Gh(n,e){if(n===e)return!0;if(n===null||e===null)return!1;if(n!==n&&e!==e)return!0;let t=typeof n,i=typeof e,r,o,s;if(t==i&&t=="object")if(Array.isArray(n)){if(!Array.isArray(e))return!1;if((r=n.length)==e.length){for(o=0;o<r;o++)if(!Gh(n[o],e[o]))return!1;return!0}}else{if(Array.isArray(e))return!1;s=Object.create(null);for(o in n){if(!Gh(n[o],e[o]))return!1;s[o]=!0}for(o in e)if(!(o in s)&&typeof e[o]<"u")return!1;return!0}return!1}function Vr(n){return typeof n<"u"&&n!==null}function zl(n){return Wh(n)&&!pb(n)&&n!==null}function Wh(n){return typeof n=="object"}function pb(n){return Array.isArray(n)}function gb(n){return typeof n=="string"}function UH(n){return typeof n=="function"}function ub(n,e){let t=Object.assign({},n);return Wh(n)?(Wh(n)&&Wh(e)&&Object.keys(e).forEach(i=>{zl(e[i])?i in n?t[i]=ub(n[i],e[i]):Object.assign(t,{[i]:e[i]}):Object.assign(t,{[i]:e[i]})}),t):ub({},e)}function db(n,e){let t=e.split(".");e="";do e+=t.shift(),Vr(n)&&Vr(n[e])&&(zl(n[e])||pb(n[e])||!t.length)?(n=n[e],e=""):t.length?e+=".":n=void 0;while(t.length);return n}function HH(n,e,t){let i=e.split("."),r=n;for(let o=0;o<i.length;o++){let s=i[o];o===i.length-1?r[s]=t:((!r[s]||!zl(r[s]))&&(r[s]={}),r=r[s])}}var jo=class{},fb=(()=>{class n extends jo{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,i){if(gb(t))return this.interpolateString(t,i);if(UH(t))return this.interpolateFunction(t,i)}interpolateFunction(t,i){return t(i)}interpolateString(t,i){return i?t.replace(this.templateMatcher,(r,o)=>{let s=db(i,o);return Vr(s)?s:r}):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=et(n)))(r||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Uo=class{},hb=(()=>{class n extends Uo{compile(t,i){return t}compileTranslations(t,i){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=et(n)))(r||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Ra=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new ie;onLangChange=new ie;onDefaultLangChange=new ie},zh=new P("ISOLATE_TRANSLATE_SERVICE"),qh=new P("USE_DEFAULT_LANG"),Yh=new P("DEFAULT_LANGUAGE"),Kh=new P("USE_EXTEND"),Gl=n=>Vn(n)?n:q(n),Me=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(t){this.store.defaultLang=t}get currentLang(){return this.store.currentLang}set currentLang(t){this.store.currentLang=t}get langs(){return this.store.langs}set langs(t){this.store.langs=t}get translations(){return this.store.translations}set translations(t){this.store.translations=t}constructor(t,i,r,o,s,a=!0,c=!1,l=!1,u){this.store=t,this.currentLoader=i,this.compiler=r,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.extend=l,c&&(this.store=new Ra),u&&this.setDefaultLang(u)}setDefaultLang(t){if(t===this.defaultLang)return;let i=this.retrieveTranslations(t);typeof i<"u"?(this.defaultLang==null&&(this.defaultLang=t),i.pipe(qe(1)).subscribe(()=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(this.lastUseLanguage=t,t===this.currentLang)return q(this.translations[t]);this.currentLang||(this.currentLang=t);let i=this.retrieveTranslations(t);return Vn(i)?(i.pipe(qe(1)).subscribe(()=>{this.changeLang(t)}),i):(this.changeLang(t),q(this.translations[t]))}changeLang(t){t===this.lastUseLanguage&&(this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),this.defaultLang==null&&this.changeDefaultLang(t))}retrieveTranslations(t){if(typeof this.translations[t]>"u"||this.extend)return this._translationRequests[t]=this._translationRequests[t]||this.loadAndCompileTranslations(t),this._translationRequests[t]}getTranslation(t){return this.loadAndCompileTranslations(t)}loadAndCompileTranslations(t){this.pending=!0;let i=this.currentLoader.getTranslation(t).pipe(Gc(1),qe(1));return this.loadingTranslations=i.pipe(Z(r=>this.compiler.compileTranslations(r,t)),Gc(1),qe(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[t]=this.extend&&this.translations[t]?E(E({},r),this.translations[t]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(t,i,r=!1){let o=this.compiler.compileTranslations(i,t);(r||this.extend)&&this.translations[t]?this.translations[t]=ub(this.translations[t],o):this.translations[t]=o,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){let i=t.filter(r=>!this.langs.includes(r));i.length>0&&(this.langs=[...this.langs,...i])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(t,i,r){let o;if(t&&(o=this.runInterpolation(db(t,i),r)),o===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.runInterpolation(db(this.translations[this.defaultLang],i),r)),o===void 0){let s={key:i,translateService:this};typeof r<"u"&&(s.interpolateParams=r),o=this.missingTranslationHandler.handle(s)}return o!==void 0?o:i}runInterpolation(t,i){if(pb(t))return t.map(r=>this.runInterpolation(r,i));if(zl(t)){let r={};for(let o in t){let s=this.runInterpolation(t[o],i);s!==void 0&&(r[o]=s)}return r}else return this.parser.interpolate(t,i)}getParsedResult(t,i,r){if(i instanceof Array){let o={},s=!1;for(let c of i)o[c]=this.getParsedResultForKey(t,c,r),s=s||Vn(o[c]);if(!s)return o;let a=i.map(c=>Gl(o[c]));return $c(a).pipe(Z(c=>{let l={};return c.forEach((u,d)=>{l[i[d]]=u}),l}))}return this.getParsedResultForKey(t,i,r)}get(t,i){if(!Vr(t)||!t.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(ri(r=>Gl(this.getParsedResult(r,t,i)))):Gl(this.getParsedResult(this.translations[this.currentLang],t,i))}getStreamOnTranslationChange(t,i){if(!Vr(t)||!t.length)throw new Error('Parameter "key" is required and cannot be empty');return Ui(Un(()=>this.get(t,i)),this.onTranslationChange.pipe(at(r=>{let o=this.getParsedResult(r.translations,t,i);return Gl(o)})))}stream(t,i){if(!Vr(t)||!t.length)throw new Error('Parameter "key" required');return Ui(Un(()=>this.get(t,i)),this.onLangChange.pipe(at(r=>{let o=this.getParsedResult(r.translations,t,i);return Gl(o)})))}instant(t,i){if(!Vr(t)||t.length===0)throw new Error('Parameter "key" is required and cannot be empty');let r=this.getParsedResult(this.translations[this.currentLang],t,i);return Vn(r)?Array.isArray(t)?t.reduce((o,s)=>(o[s]=s,o),{}):t:r}set(t,i,r=this.currentLang){HH(this.translations[r],t,gb(i)?this.compiler.compile(i,r):this.compiler.compileTranslations(i,r)),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.loadAndCompileTranslations(t)}resetLang(t){delete this._translationRequests[t],delete this.translations[t]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let t=this.getBrowserCultureLang();return t?t.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(i){return new(i||n)(L(Ra),L(sr),L(Uo),L(jo),L(Aa),L(qh),L(zh),L(Kh),L(Yh))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nt=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(t,i){this.translate=t,this._ref=i}updateValue(t,i,r){let o=s=>{this.value=s!==void 0?s:t,this.lastKey=t,this._ref.markForCheck()};if(r){let s=this.translate.getParsedResult(r,t,i);Vn(s)?s.subscribe(o):o(s)}this.translate.get(t,i).subscribe(o)}transform(t,...i){if(!t||!t.length)return t;if(Gh(t,this.lastKey)&&Gh(i,this.lastParams))return this.value;let r;if(Vr(i[0])&&i.length)if(gb(i[0])&&i[0].length){let o=i[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{r=JSON.parse(o)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else zl(i[0])&&(r=i[0]);return this.lastKey=t,this.lastParams=i,this.updateValue(t,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||n)(T(Me,16),T(fn,16))};static \u0275pipe=gv({name:"translate",type:n,pure:!1});static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})();var AR=(n={})=>To([n.loader||{provide:sr,useClass:cb},n.compiler||{provide:Uo,useClass:hb},n.parser||{provide:jo,useClass:fb},n.missingTranslationHandler||{provide:Aa,useClass:lb},Ra,{provide:zh,useValue:n.isolate},{provide:qh,useValue:n.useDefaultLang},{provide:Kh,useValue:n.extend},{provide:Yh,useValue:n.defaultLanguage},Me]),He=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[t.loader||{provide:sr,useClass:cb},t.compiler||{provide:Uo,useClass:hb},t.parser||{provide:jo,useClass:fb},t.missingTranslationHandler||{provide:Aa,useClass:lb},Ra,{provide:zh,useValue:t.isolate},{provide:qh,useValue:t.useDefaultLang},{provide:Kh,useValue:t.extend},{provide:Yh,useValue:t.defaultLanguage},Me]}}static forChild(t={}){return{ngModule:n,providers:[t.loader||{provide:sr,useClass:cb},t.compiler||{provide:Uo,useClass:hb},t.parser||{provide:jo,useClass:fb},t.missingTranslationHandler||{provide:Aa,useClass:lb},{provide:zh,useValue:t.isolate},{provide:qh,useValue:t.useDefaultLang},{provide:Kh,useValue:t.extend},{provide:Yh,useValue:t.defaultLanguage},Me]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=lt({type:n});static \u0275inj=ct({})}return n})();var Xh=class n{wakeLock;requestWakeLock(){return p(this,null,function*(){try{"wakeLock"in navigator?(this.wakeLock=yield navigator.wakeLock.request("screen"),this.wakeLock.addEventListener("release",()=>{console.log("Wake Lock was released")}),console.log("Wake Lock is active")):console.warn("Wake Lock API not supported")}catch(e){console.error(`Wake Lock failed: ${e.name}, ${e.message}`)}})}releaseWakeLock(){this.wakeLock?.release(),this.wakeLock=null}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var yt=class n{constructor(e){this.wakeLockService=e}clientVersion="3.3.4";sessionId=Math.floor(Math.random()*1e5).toString();isSessionValid;generalInfo={totalMatches:0,connectedPlayers:0,randomWaitingPlayers:0,requiredClientVersion:void 0};enableNoSleep(){try{this.wakeLockService.requestWakeLock()}catch(e){console.warn("wake lock could not be enabled:",e)}}disableNoSleep(){this.wakeLockService.releaseWakeLock()}validateSession(){this.isSessionValid=!0}isSessionInvalid(){return this.isSessionValid!==!0}setGeneralInfo(e){this.generalInfo=E({},e)}getTotalMatches(){return this.generalInfo.totalMatches}getConnectedPlayers(){return this.generalInfo.connectedPlayers}getRandomWaitingPlayers(){return this.generalInfo.randomWaitingPlayers}getRequiredClientVersion(){return this.generalInfo.requiredClientVersion}isClientVersionValid(){let e=this.generalInfo.requiredClientVersion;return!e||e===this.clientVersion}getClientVersion(){return this.clientVersion}getSessionId(){return this.sessionId}static \u0275fac=function(t){return new(t||n)(L(Xh))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var Jh=class n{constructor(e,t){this.router=e;this.sessionHandler=t}clientVersion="3.3.4";ngOnInit(){console.log("Splash component initialized"),this.sessionHandler.validateSession()}goToHome(){this.sessionHandler.enableNoSleep(),this.router.navigate(["/home"])}static \u0275fac=function(t){return new(t||n)(T(Ce),T(yt))};static \u0275cmp=W({type:n,selectors:[["app-splash"]],decls:22,vars:13,consts:[["id","splash",1,"page"],[1,"page--wrapper",3,"click"],[1,"page--body"],["src","assets/img/logo.png","alt","game-logo",1,"big-image","floating-up-animation"],[1,"ellipsize"],[1,"press-to-continue","flashing-animation","ellipsize","cursor-pointer"],[1,"page--push"],[1,"page--footer"],[1,"page--footer-single-column","ellipsize"],["href","https://www.riccardomaldini.it/blog/codycolor-changelog"],[3,"innerHTML"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"div",1),B("click",function(){return i.goToHome()}),y(2,"div",2),V(3,"img",3),y(4,"h1",4),w(5),x(6,"translate"),m(),y(7,"div",4),w(8),x(9,"translate"),m(),y(10,"div",5),w(11),x(12,"translate"),m()(),V(13,"div",6),m(),y(14,"div",7)(15,"div",8),w(16),y(17,"a",9),w(18,"Changelog"),m(),V(19,"br")(20,"div",10),x(21,"translate"),m()()()),t&2&&(g(5),F(O(6,5,"APP_NAME_SHORT")),g(3),F(O(9,7,"APP_SUBTITLE")),g(3),k(" ",O(12,9,"PRESS_TO_CONTINUE")," "),g(5),k(" v.",i.clientVersion," - "),g(4),D("innerHTML",O(21,11,"SPLASH_FOOTER"),fa))},dependencies:[He,nt],encapsulation:2})};var WH=(n,e)=>({totalMatches:n,connectedPlayers:e});function GH(n,e){if(n&1&&(y(0,"li",6)(1,"div",11),w(2),x(3,"translate"),m()()),n&2){let t=N();g(),D("ngClass",t.connected?"flashing-animation":""),g(),k(" ",Jt(3,2,"NOTIF_GENERAL",nr(5,WH,t.totalMatches,t.connectedPlayers))," ")}}function zH(n,e){if(n&1&&(y(0,"li",6)(1,"div",11),w(2),x(3,"translate"),m()()),n&2){let t=N();g(),D("ngClass",t.connected?"":"flashing-animation"),g(),k(" ",O(3,2,"NOTIF_OFFLINE")," ")}}function qH(n,e){if(n&1){let t=Re();y(0,"div",12)(1,"div",13)(2,"p"),w(3),m(),y(4,"div",14)(5,"button",15),B("click",function(){J(t);let r=N();return Q(r.closeNoConnectionModal())}),w(6),x(7,"translate"),m()()()()}if(n&2){let t=N();g(3),F(t.noOnlineModalText),g(3),k(" ",O(7,2,"OK")," ")}}var Qh=class n{constructor(e,t){this.router=e;this.translate=t;this.translate.addLangs(["it","en"]),this.translate.setDefaultLang("it"),this.translate.use("it")}loginOrProfile="LOGIN";userNickname="Guest";userLogged=!1;connected=!1;totalMatches=0;connectedPlayers=0;basePlaying=!1;language="en";languageModal=!1;noOnlineModal=!1;noOnlineModalText="";goToRules(){this.router.navigate(["/rules"])}goToRMMaking(){console.log("Navigating to Random Matchmaking"),this.router.navigate(["/random-mmaking"])}goToCMMaking(){this.router.navigate(["/custom-mmaking"])}goToAMMaking(){this.router.navigate(["/arcade-mmaking"])}goToBootcamp(){this.router.navigate(["/bootmp-mmaking"])}goToRankings(){this.router.navigate(["/rankings"])}goToLoginProfile(){this.router.navigate(["/login"])}toggleBase(){this.basePlaying=!this.basePlaying}openLanguageModal(){this.languageModal=!0}closeLanguageModal(){this.languageModal=!1}changeLanguage(e){this.language=e}closeNoConnectionModal(){this.noOnlineModal=!1}static \u0275fac=function(t){return new(t||n)(T(Ce),T(Me))};static \u0275cmp=W({type:n,selectors:[["app-home"]],decls:39,vars:25,consts:[["id","home",1,"page"],[1,"page--wrapper"],[1,"page--header"],[1,"floating-up-animation","ellipsize"],[1,"page--body"],[1,"list"],[1,"list--simple-element"],[1,"navigation--button",3,"click"],["class","list--simple-element",4,"ngIf"],[1,"page--push"],["class","modal",4,"ngIf"],[3,"ngClass"],[1,"modal"],[1,"modal--content"],[1,"modal--buttons-container"],[1,"modal--button-primary",3,"click"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),w(4),x(5,"translate"),m()(),y(6,"div",4)(7,"ul",5)(8,"li",6)(9,"button",7),B("click",function(){return i.goToRules()}),w(10),x(11,"translate"),m()(),y(12,"li",6)(13,"button",7),B("click",function(){return i.goToRMMaking()}),w(14),x(15,"translate"),m()(),y(16,"li",6)(17,"button",7),B("click",function(){return i.goToCMMaking()}),w(18),x(19,"translate"),m()(),y(20,"li",6)(21,"button",7),B("click",function(){return i.goToAMMaking()}),w(22),x(23,"translate"),m()(),y(24,"li",6)(25,"button",7),B("click",function(){return i.goToBootcamp()}),w(26),x(27,"translate"),m()(),y(28,"li",6)(29,"button",7),B("click",function(){return i.goToRankings()}),w(30),x(31,"translate"),m()(),y(32,"li",6)(33,"button",7),B("click",function(){return i.goToLoginProfile()}),w(34),m()(),Y(35,GH,4,8,"li",8)(36,zH,4,4,"li",8),m()(),V(37,"div",9),m(),Y(38,qH,8,4,"div",10),m()),t&2&&(g(4),k(" ",O(5,11,"APP_NAME_SHORT")," "),g(6),k(" ",O(11,13,"HOW_TO_PLAY")," "),g(4),k(" ",O(15,15,"RANDOM_MATCH")," "),g(4),k(" ",O(19,17,"CUSTOM_MATCH")," "),g(4),k(" ",O(23,19,"AGA_MATCH")," "),g(4),k(" ",O(27,21,"BOOT_CAMP")," "),g(4),k(" ",O(31,23,"RANKINGS")," "),g(4),k(" ",i.loginOrProfile," "),g(),D("ngIf",i.connected),g(),D("ngIf",!i.connected),g(2),D("ngIf",i.noOnlineModal))},dependencies:[He,nt,Ue,Ut,St],encapsulation:2})};var Zh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=W({type:n,selectors:[["app-login"]],decls:2,vars:0,template:function(t,i){t&1&&(y(0,"p"),w(1,"login works!"),m())},encapsulation:2})};var ep=class n{constructor(e,t){this.router=e;this.translate=t;this.translate.addLangs(["it","en"]),this.translate.setDefaultLang("it"),this.translate.use("it")}basePlaying=!1;languageModal=!1;language="en";userLogged=!1;userNickname="Guest";goToHome(){this.router.navigate(["/home"])}toggleBase(){this.basePlaying=!this.basePlaying}openLanguageModal(){this.languageModal=!0}closeLanguageModal(){this.languageModal=!1}changeLanguage(e){this.language=e}static \u0275fac=function(t){return new(t||n)(T(Ce),T(Me))};static \u0275cmp=W({type:n,selectors:[["app-rules"]],decls:5,vars:3,consts:[["id","rules",1,"page"],[1,"page--wrapper"],[1,"page--body",3,"innerHTML"],[1,"page--push"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"div",1),V(2,"div",2),x(3,"translate"),V(4,"div",3),m()()),t&2&&(g(2),D("innerHTML",O(3,1,"RULES"),fa))},dependencies:[Ue,He,nt],encapsulation:2})};var FR=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(T(Mr),T(Pe))};static \u0275dir=be({type:n})}return n})(),BR=(()=>{class n extends FR{static \u0275fac=(()=>{let t;return function(r){return(t||(t=et(n)))(r||n)}})();static \u0275dir=be({type:n,features:[tt]})}return n})(),vb=new P("");var YH={provide:vb,useExisting:In(()=>Hr),multi:!0};function KH(){let n=Sn()?Sn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var XH=new P(""),Hr=(()=>{class n extends FR{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!KH())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(T(Mr),T(Pe),T(XH,8))};static \u0275dir=be({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&B("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[jt([YH]),tt]})}return n})();function JH(n){return n==null||VR(n)===0}function VR(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Na=new P(""),jR=new P("");function QH(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function ZH(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function e$(n){return JH(n.value)?{required:!0}:null}function t$(n){return e=>{let t=e.value?.length??VR(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function RR(n){return null}function UR(n){return n!=null}function HR(n){return xo(n)?xe(n):n}function $R(n){let e={};return n.forEach(t=>{e=t!=null?E(E({},e),t):e}),Object.keys(e).length===0?null:e}function WR(n,e){return e.map(t=>t(n))}function n$(n){return!n.validate}function GR(n){return n.map(e=>n$(e)?e:t=>e.validate(t))}function i$(n){if(!n)return null;let e=n.filter(UR);return e.length==0?null:function(t){return $R(WR(t,e))}}function bb(n){return n!=null?i$(GR(n)):null}function r$(n){if(!n)return null;let e=n.filter(UR);return e.length==0?null:function(t){let i=WR(t,e).map(HR);return $c(i).pipe(Z($R))}}function wb(n){return n!=null?r$(GR(n)):null}function xR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function o$(n){return n._rawValidators}function s$(n){return n._rawAsyncValidators}function mb(n){return n?Array.isArray(n)?n:[n]:[]}function np(n,e){return Array.isArray(n)?n.includes(e):n===e}function MR(n,e){let t=mb(e);return mb(n).forEach(r=>{np(t,r)||t.push(r)}),t}function kR(n,e){return mb(e).filter(t=>!np(n,t))}var ip=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ka=class extends ip{name;get formDirective(){return null}get path(){return null}},Ql=class extends ip{_parent=null;name=null;valueAccessor=null},rp=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},a$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ple=$(E({},a$),{"[class.ng-submitted]":"isSubmitted"}),Oa=(()=>{class n extends rp{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(T(Ql,2))};static \u0275dir=be({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&hi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[tt]})}return n})(),Pa=(()=>{class n extends rp{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(T(ka,10))};static \u0275dir=be({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&hi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[tt]})}return n})();var ql="VALID",tp="INVALID",xa="PENDING",Yl="DISABLED",Ur=class{},op=class extends Ur{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Xl=class extends Ur{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Jl=class extends Ur{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ma=class extends Ur{status;source;constructor(e,t){super(),this.status=e,this.source=t}},yb=class extends Ur{source;constructor(e){super(),this.source=e}},_b=class extends Ur{source;constructor(e){super(),this.source=e}};function zR(n){return(cp(n)?n.validators:n)||null}function c$(n){return Array.isArray(n)?bb(n):n||null}function qR(n,e){return(cp(e)?e.asyncValidators:n)||null}function l$(n){return Array.isArray(n)?wb(n):n||null}function cp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function u$(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new H(1e3,"");if(!i[t])throw new H(1001,"")}function d$(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new H(1002,"")})}var sp=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Kn(this.statusReactive)}set status(e){Kn(()=>this.statusReactive.set(e))}_status=hl(()=>this.statusReactive());statusReactive=Xi(void 0);get valid(){return this.status===ql}get invalid(){return this.status===tp}get pending(){return this.status==xa}get disabled(){return this.status===Yl}get enabled(){return this.status!==Yl}errors;get pristine(){return Kn(this.pristineReactive)}set pristine(e){Kn(()=>this.pristineReactive.set(e))}_pristine=hl(()=>this.pristineReactive());pristineReactive=Xi(!0);get dirty(){return!this.pristine}get touched(){return Kn(this.touchedReactive)}set touched(e){Kn(()=>this.touchedReactive.set(e))}_touched=hl(()=>this.touchedReactive());touchedReactive=Xi(!1);get untouched(){return!this.touched}_events=new U;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(MR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(MR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kR(e,this._rawAsyncValidators))}hasValidator(e){return np(this._rawValidators,e)}hasAsyncValidator(e){return np(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($(E({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Jl(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Jl(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($(E({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Xl(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Xl(!0,i))}markAsPending(e={}){this.status=xa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ma(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($(E({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yl,this.errors=null,this._forEachChild(r=>{r.disable($(E({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new op(this.value,i)),this._events.next(new Ma(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ql,this._forEachChild(i=>{i.enable($(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ql||this.status===xa)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new op(this.value,t)),this._events.next(new Ma(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($(E({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yl:ql}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=xa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=HR(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Ma(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new ie,this.statusChanges=new ie}_calculateStatus(){return this._allControlsDisabled()?Yl:this.errors?tp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xa)?xa:this._anyControlsHaveStatus(tp)?tp:ql}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Xl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Jl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=c$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=l$(this._rawAsyncValidators)}},ap=class extends sp{constructor(e,t,i){super(zR(t),qR(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){d$(this,!0,e),Object.keys(e).forEach(i=>{u$(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Eb=new P("",{providedIn:"root",factory:()=>Ib}),Ib="always";function f$(n,e){return[...e.path,n]}function YR(n,e,t=Ib){KR(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),p$(n,e),m$(n,e),g$(n,e),h$(n,e)}function NR(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function h$(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function KR(n,e){let t=o$(n);e.validator!==null?n.setValidators(xR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=s$(n);e.asyncValidator!==null?n.setAsyncValidators(xR(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();NR(e._rawValidators,r),NR(e._rawAsyncValidators,r)}function p$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&XR(n,e)})}function g$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&XR(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function XR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function m$(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function y$(n,e){n==null,KR(n,e)}function _$(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function v$(n){return Object.getPrototypeOf(n.constructor)===BR}function b$(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function w$(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Hr?t=o:v$(o)?i=o:r=o}),r||i||t||null}var E$={provide:ka,useExisting:In(()=>Ho)},Kl=Promise.resolve(),Ho=(()=>{class n extends ka{callSetDisabledState;get submitted(){return Kn(this.submittedReactive)}_submitted=hl(()=>this.submittedReactive());submittedReactive=Xi(!1);_directives=new Set;form;ngSubmit=new ie;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new ap({},bb(t),wb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Kl.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),YR(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Kl.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Kl.then(()=>{let i=this._findContainer(t.path),r=new ap({});y$(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Kl.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Kl.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),b$(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new yb(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new _b(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||n)(T(Na,10),T(jR,10),T(Eb,8))};static \u0275dir=be({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&B("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[jt([E$]),tt]})}return n})();function OR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function PR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var I$=class extends sp{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(zR(t),qR(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(PR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){PR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var C$={provide:Ql,useExisting:In(()=>$o)},LR=Promise.resolve(),$o=(()=>{class n extends Ql{_changeDetectorRef;callSetDisabledState;control=new I$;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ie;constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=w$(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),_$(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){YR(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){LR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Dn(i);LR.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?f$(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(T(ka,9),T(Na,10),T(jR,10),T(vb,10),T(fn,8),T(Eb,8))};static \u0275dir=be({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[jt([C$]),tt,Cn]})}return n})();var La=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=be({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),D$={provide:vb,useExisting:In(()=>Cb),multi:!0},Cb=(()=>{class n extends BR{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=et(n)))(r||n)}})();static \u0275dir=be({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&B("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[jt([D$]),tt]})}return n})();function S$(n){return typeof n=="number"?n:parseInt(n,10)}function JR(n){return typeof n=="number"?n:parseFloat(n)}var lp=(()=>{class n{_validator=RR;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):RR,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=be({type:n,features:[Cn]})}return n})(),T$={provide:Na,useExisting:In(()=>Db),multi:!0},Db=(()=>{class n extends lp{max;inputName="max";normalizeInput=t=>JR(t);createValidator=t=>ZH(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=et(n)))(r||n)}})();static \u0275dir=be({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Dt("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[jt([T$]),tt]})}return n})(),A$={provide:Na,useExisting:In(()=>Sb),multi:!0},Sb=(()=>{class n extends lp{min;inputName="min";normalizeInput=t=>JR(t);createValidator=t=>QH(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=et(n)))(r||n)}})();static \u0275dir=be({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Dt("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[jt([A$]),tt]})}return n})(),R$={provide:Na,useExisting:In(()=>Wo),multi:!0};var Wo=(()=>{class n extends lp{required;inputName="required";normalizeInput=Dn;createValidator=t=>e$;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=et(n)))(r||n)}})();static \u0275dir=be({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Dt("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[jt([R$]),tt]})}return n})();var x$={provide:Na,useExisting:In(()=>Go),multi:!0},Go=(()=>{class n extends lp{maxlength;inputName="maxlength";normalizeInput=t=>S$(t);createValidator=t=>t$(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=et(n)))(r||n)}})();static \u0275dir=be({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Dt("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[jt([x$]),tt]})}return n})();var M$=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=lt({type:n});static \u0275inj=ct({})}return n})();var Fa=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Eb,useValue:t.callSetDisabledState??Ib}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=lt({type:n});static \u0275inj=ct({imports:[M$]})}return n})();var QR=()=>{};var tx=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},k$=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],a=n[t++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},nx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,s||(h=64)),i.push(t[u],t[d],t[h],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):k$(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let l=r<n.length?t[n.charAt(r)]:64;++r;let d=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||a==null||l==null||d==null)throw new Rb;let h=o<<2|a>>4;if(i.push(h),l!==64){let f=a<<4&240|l>>2;if(i.push(f),d!==64){let b=l<<6&192|d;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Rb=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},N$=function(n){let e=tx(n);return nx.encodeByteArray(e,!0)},Mb=function(n){return N$(n).replace(/\./g,"")},eu=function(n){try{return nx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tu(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!O$(t)||(n[t]=tu(n[t],e[t]));return n}function O$(n){return n!=="__proto__"}function kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var P$=()=>kb().__FIREBASE_DEFAULTS__,L$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},F$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&eu(n[1]);return e&&JSON.parse(e)},Nb=()=>{try{return QR()||P$()||L$()||F$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}};var dp=()=>Nb()?.config,ix=n=>Nb()?.[`_${n}`];var up=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function nu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function rx(n){return p(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}var Zl={};function B$(){let n={prod:[],emulator:[]};for(let e of Object.keys(Zl))Zl[e]?n.emulator.push(e):n.prod.push(e);return n}function V$(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var ZR=!1;function ox(n,e){if(typeof window>"u"||typeof document>"u"||!nu(window.location.host)||Zl[n]===e||Zl[n]||ZR)return;Zl[n]=e;function t(h){return`__firebase__banner__${h}`}let i="__firebase__banner",o=B$().prod.length>0;function s(){let h=document.getElementById(i);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function l(){let h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{ZR=!0,s()},h}function u(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){let h=V$(i),f=t("text"),b=document.getElementById(f)||document.createElement("span"),v=t("learnmore"),I=document.getElementById(v)||document.createElement("a"),R=t("preprendIcon"),G=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){let K=h.element;a(K),u(I,v);let te=l();c(G,R),K.append(G,b,I,te),document.body.appendChild(K)}o?(b.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function Ob(){let n=Nb()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ax(){return typeof window<"u"||Pb()}function Pb(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function cx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fp(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hp(){let n=Ke();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ba(){try{return typeof indexedDB=="object"}catch{return!1}}function lx(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}var j$="FirebaseError",_t=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=j$,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rn.prototype.create)}},Rn=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?U$(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new _t(r,a,i)}};function U$(n,e){return n.replace(H$,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var H$=/\{\$([^}]+)}/g;function Lb(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ux(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zo(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(ex(o)&&ex(s)){if(!zo(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function ex(n){return n!==null&&typeof n=="object"}function qo(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function $r(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Va(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function pp(n,e){let t=new xb(n,e);return t.subscribe.bind(t)}var xb=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");$$(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Ab),r.error===void 0&&(r.error=Ab),r.complete===void 0&&(r.complete=Ab);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function $$(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ab(){}var vle=4*60*60*1e3;function ve(n){return n&&n._delegate?n._delegate:n}var Zt=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Yo="[DEFAULT]";var Fb=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new up;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G$(e))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Yo){return this.instances.has(e)}getOptions(e=Yo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,t){let i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);let o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:W$(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Yo){return this.component?this.component.multipleInstances?e:Yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function W$(n){return n===Yo?void 0:n}function G$(n){return n.instantiationMode==="EAGER"}var ru=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Fb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var t0={};jP(t0,{FirebaseError:()=>_t,SDK_VERSION:()=>lr,_DEFAULT_ENTRY_NAME:()=>Ei,_addComponent:()=>Ha,_addOrOverwriteComponent:()=>Xb,_apps:()=>Gr,_clearComponents:()=>O8,_components:()=>Ua,_getProvider:()=>Jb,_isFirebaseApp:()=>Qb,_isFirebaseServerApp:()=>Le,_isFirebaseServerAppSettings:()=>Dx,_registerComponent:()=>cr,_removeServiceInstance:()=>N8,_serverApps:()=>ja,deleteApp:()=>vp,getApp:()=>Sx,getApps:()=>F8,initializeApp:()=>_p,initializeServerApp:()=>L8,onLog:()=>Zb,registerVersion:()=>xn,setLogLevel:()=>e0});var Bb=[],De=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(De||{}),dx={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},z$=De.INFO,q$={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},Y$=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=q$[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Wr=class{constructor(e){this.name=e,this._logLevel=z$,this._logHandler=Y$,this._userLogHandler=null,Bb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}};function fx(n){Bb.forEach(e=>{e.setLogLevel(n)})}function hx(n,e){for(let t of Bb){let i=null;e&&e.level&&(i=dx[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(r,o,...s)=>{let a=s.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");o>=(i??r.logLevel)&&n({level:De[o].toLowerCase(),message:a,args:s,type:r.name})}}}var K$=(n,e)=>e.some(t=>n instanceof t),px,gx;function X$(){return px||(px=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J$(){return gx||(gx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var mx=new WeakMap,jb=new WeakMap,yx=new WeakMap,Vb=new WeakMap,Hb=new WeakMap;function Q$(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(wi(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&mx.set(t,n)}).catch(()=>{}),Hb.set(e,n),e}function Z$(n){if(jb.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});jb.set(n,e)}var Ub={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _x(n){Ub=n(Ub)}function e8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(gp(this),e,...t);return yx.set(i,e.sort?e.sort():[e]),wi(i)}:J$().includes(n)?function(...e){return n.apply(gp(this),e),wi(mx.get(this))}:function(...e){return wi(n.apply(gp(this),e))}}function t8(n){return typeof n=="function"?e8(n):(n instanceof IDBTransaction&&Z$(n),K$(n,X$())?new Proxy(n,Ub):n)}function wi(n){if(n instanceof IDBRequest)return Q$(n);if(Vb.has(n))return Vb.get(n);let e=t8(n);return e!==n&&(Vb.set(n,e),Hb.set(e,n)),e}var gp=n=>Hb.get(n);function bx(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),a=wi(s);return i&&s.addEventListener("upgradeneeded",c=>{i(wi(s.result),c.oldVersion,c.newVersion,wi(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var n8=["get","getKey","getAll","getAllKeys","count"],i8=["put","add","delete","clear"],$b=new Map;function vx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($b.get(e))return $b.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=i8.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||n8.includes(t)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),r&&c.done]))[0]})};return $b.set(e,o),o}_x(n=>$(E({},n),{get:(e,t,i)=>vx(e,t)||n.get(e,t,i),has:(e,t)=>!!vx(e,t)||n.has(e,t)}));var Gb=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(r8(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function r8(n){return n.getComponent()?.type==="VERSION"}var mp="@firebase/app",zb="0.14.0";var ar=new Wr("@firebase/app"),o8="@firebase/app-compat",s8="@firebase/analytics-compat",a8="@firebase/analytics",c8="@firebase/app-check-compat",l8="@firebase/app-check",u8="@firebase/auth",d8="@firebase/auth-compat",f8="@firebase/database",h8="@firebase/data-connect",p8="@firebase/database-compat",g8="@firebase/functions",m8="@firebase/functions-compat",y8="@firebase/installations",_8="@firebase/installations-compat",v8="@firebase/messaging",b8="@firebase/messaging-compat",w8="@firebase/performance",E8="@firebase/performance-compat",I8="@firebase/remote-config",C8="@firebase/remote-config-compat",D8="@firebase/storage",S8="@firebase/storage-compat",T8="@firebase/firestore",A8="@firebase/ai",R8="@firebase/firestore-compat",x8="firebase",M8="12.0.0";var Ei="[DEFAULT]",k8={[mp]:"fire-core",[o8]:"fire-core-compat",[a8]:"fire-analytics",[s8]:"fire-analytics-compat",[l8]:"fire-app-check",[c8]:"fire-app-check-compat",[u8]:"fire-auth",[d8]:"fire-auth-compat",[f8]:"fire-rtdb",[h8]:"fire-data-connect",[p8]:"fire-rtdb-compat",[g8]:"fire-fn",[m8]:"fire-fn-compat",[y8]:"fire-iid",[_8]:"fire-iid-compat",[v8]:"fire-fcm",[b8]:"fire-fcm-compat",[w8]:"fire-perf",[E8]:"fire-perf-compat",[I8]:"fire-rc",[C8]:"fire-rc-compat",[D8]:"fire-gcs",[S8]:"fire-gcs-compat",[T8]:"fire-fst",[R8]:"fire-fst-compat",[A8]:"fire-vertex","fire-js":"fire-js",[x8]:"fire-js-all"};var Gr=new Map,ja=new Map,Ua=new Map;function Ha(n,e){try{n.container.addComponent(e)}catch(t){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xb(n,e){n.container.addOrOverwriteComponent(e)}function cr(n){let e=n.name;if(Ua.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Ua.set(e,n);for(let t of Gr.values())Ha(t,n);for(let t of ja.values())Ha(t,n);return!0}function Jb(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function N8(n,e,t=Ei){Jb(n,e).clearInstance(t)}function Qb(n){return n.options!==void 0}function Dx(n){return Qb(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function Le(n){return n==null?!1:n.settings!==void 0}function O8(){Ua.clear()}var P8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gn=new Rn("app","Firebase",P8);var yp=class{constructor(e,t,i){this._isDeleted=!1,this._options=E({},e),this._config=E({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}};function wx(n,e){let t=eu(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}let r=JSON.parse(t).exp*1e3,o=new Date().getTime();r-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}var qb=class extends yp{constructor(e,t,i,r){let o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,s={name:i,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,s,r);else{let a=e;super(a.options,s,r)}this._serverConfig=E({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&wx(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&wx(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,xn(mp,zb,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){vp(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw gn.create("server-app-deleted")}};var lr=M8;function _p(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=E({name:Ei,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw gn.create("bad-app-name",{appName:String(r)});if(t||(t=dp()),!t)throw gn.create("no-options");let o=Gr.get(r);if(o){if(zo(t,o.options)&&zo(i,o.config))return o;throw gn.create("duplicate-app",{appName:r})}let s=new ru(r);for(let c of Ua.values())s.addComponent(c);let a=new yp(t,i,s);return Gr.set(r,a),a}function L8(n,e={}){if(ax()&&!Pb())throw gn.create("invalid-server-app-environment");let t,i=e||{};if(n&&(Qb(n)?t=n.options:Dx(n)?i=n:t=n),i.automaticDataCollectionEnabled===void 0&&(i.automaticDataCollectionEnabled=!0),t||(t=dp()),!t)throw gn.create("no-options");let r=E(E({},i),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;let o=u=>[...u].reduce((d,h)=>Math.imul(31,d)+h.charCodeAt(0)|0,0);if(i.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw gn.create("finalization-registry-not-supported",{});let s=""+o(JSON.stringify(r)),a=ja.get(s);if(a)return a.incRefCount(i.releaseOnDeref),a;let c=new ru(s);for(let u of Ua.values())c.addComponent(u);let l=new qb(t,i,s,c);return ja.set(s,l),l}function Sx(n=Ei){let e=Gr.get(n);if(!e&&n===Ei&&dp())return _p();if(!e)throw gn.create("no-app",{appName:n});return e}function F8(){return Array.from(Gr.values())}function vp(n){return p(this,null,function*(){let e=!1,t=n.name;Gr.has(t)?(e=!0,Gr.delete(t)):ja.has(t)&&n.decRefCount()<=0&&(ja.delete(t),e=!0),e&&(yield Promise.all(n.container.getProviders().map(i=>i.delete())),n.isDeleted=!0)})}function xn(n,e,t){let i=k8[n]??n;t&&(i+=`-${t}`);let r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){let s=[`Unable to register library "${i}" with version "${e}":`];r&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(s.join(" "));return}cr(new Zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Zb(n,e){if(n!==null&&typeof n!="function")throw gn.create("invalid-log-argument");hx(n,e)}function e0(n){fx(n)}var B8="firebase-heartbeat-database",V8=1,ou="firebase-heartbeat-store",Wb=null;function Tx(){return Wb||(Wb=bx(B8,V8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ou)}catch(t){console.warn(t)}}}}).catch(n=>{throw gn.create("idb-open",{originalErrorMessage:n.message})})),Wb}function j8(n){return p(this,null,function*(){try{let t=(yield Tx()).transaction(ou),i=yield t.objectStore(ou).get(Ax(n));return yield t.done,i}catch(e){if(e instanceof _t)ar.warn(e.message);else{let t=gn.create("idb-get",{originalErrorMessage:e?.message});ar.warn(t.message)}}})}function Ex(n,e){return p(this,null,function*(){try{let i=(yield Tx()).transaction(ou,"readwrite");yield i.objectStore(ou).put(e,Ax(n)),yield i.done}catch(t){if(t instanceof _t)ar.warn(t.message);else{let i=gn.create("idb-set",{originalErrorMessage:t?.message});ar.warn(i.message)}}})}function Ax(n){return`${n.name}!${n.options.appId}`}var U8=1024,H8=30,Yb=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Kb(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return p(this,null,function*(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ix();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>H8){let r=W8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ar.warn(e)}})}getHeartbeatsHeader(){return p(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=Ix(),{heartbeatsToSend:t,unsentEntries:i}=$8(this._heartbeatsCache.heartbeats),r=Mb(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return ar.warn(e),""}})}};function Ix(){return new Date().toISOString().substring(0,10)}function $8(n,e=U8){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),Cx(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Cx(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var Kb=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Ba()?lx().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield j8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ex(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ex(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Cx(n){return Mb(JSON.stringify({version:2,heartbeats:n})).length}function W8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function G8(n){cr(new Zt("platform-logger",e=>new Gb(e),"PRIVATE")),cr(new Zt("heartbeat",e=>new Yb(e),"PRIVATE")),xn(mp,zb,n),xn(mp,zb,"esm2020"),xn("fire-js","")}G8("");var n0=class{constructor(e,t){this._delegate=e,this.firebase=t,Ha(e,new Zt("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),vp(this._delegate)))}_getService(e,t=Ei){this._delegate.checkDestroyed();let i=this._delegate.container.getProvider(e);return!i.isInitialized()&&i.getComponent()?.instantiationMode==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ei){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Ha(this._delegate,e)}_addOrOverwriteComponent(e){Xb(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var z8={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Rx=new Rn("app-compat","Firebase",z8);function q8(n){let e={},t={__esModule:!0,initializeApp:o,app:r,registerVersion:xn,setLogLevel:e0,onLog:Zb,apps:null,SDK_VERSION:lr,INTERNAL:{registerComponent:a,removeApp:i,useAsService:c,modularAPIs:t0}};t.default=t,Object.defineProperty(t,"apps",{get:s});function i(l){delete e[l]}function r(l){if(l=l||Ei,!Lb(e,l))throw Rx.create("no-app",{appName:l});return e[l]}r.App=n;function o(l,u={}){let d=_p(l,u);if(Lb(e,d.name))return e[d.name];let h=new n(d,t);return e[d.name]=h,h}function s(){return Object.keys(e).map(l=>e[l])}function a(l){let u=l.name,d=u.replace("-compat","");if(cr(l)&&l.type==="PUBLIC"){let h=(f=r())=>{if(typeof f[d]!="function")throw Rx.create("invalid-app-argument",{appName:u});return f[d]()};l.serviceProps!==void 0&&tu(h,l.serviceProps),t[d]=h,n.prototype[d]=function(...f){return this._getService.bind(this,u).apply(this,l.multipleInstances?f:[])}}return l.type==="PUBLIC"?t[d]:null}function c(l,u){return u==="serverAuth"?null:u}return t}function Mx(){let n=q8(n0);n.INTERNAL=$(E({},n.INTERNAL),{createFirebaseNamespace:Mx,extendNamespace:e,createSubscribe:pp,ErrorFactory:Rn,deepExtend:tu});function e(t){tu(n,t)}return n}var Y8=Mx();var xx=new Wr("@firebase/app-compat"),K8="@firebase/app-compat",X8="0.5.0";function J8(n){xn(K8,X8,n)}try{let n=kb();if(n.firebase!==void 0){xx.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);let e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&xx.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}var Mn=Y8;J8();var Q8="firebase",Z8="12.0.0";Mn.registerVersion(Q8,Z8,"app-compat");var Zo={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};var Jr={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function e4(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Kx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var O0=e4,Xx=Kx,Jx=new Rn("auth","Firebase",Kx());var Ip=new Wr("@firebase/auth");function t4(n,...e){Ip.logLevel<=De.WARN&&Ip.warn(`Auth (${lr}): ${n}`,...e)}function wp(n,...e){Ip.logLevel<=De.ERROR&&Ip.error(`Auth (${lr}): ${n}`,...e)}function ot(n,...e){throw L0(n,...e)}function rt(n,...e){return L0(n,...e)}function P0(n,e,t){let i=$(E({},Xx()),{[e]:t});return new Rn("auth","Firebase",i).create(e,{appName:n.name})}function vt(n){return P0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ga(n,e,t){let i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&ot(n,"argument-error"),P0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function L0(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Jx.create(n,...e)}function M(n,e,...t){if(!n)throw L0(e,...t)}function Ii(n){let e="INTERNAL ASSERTION FAILED: "+n;throw wp(e),new Error(e)}function kn(n,e){n||Ii(e)}function hu(){return typeof self<"u"&&self.location?.href||""}function F0(){return kx()==="http:"||kx()==="https:"}function kx(){return typeof self<"u"&&self.location?.protocol||null}function n4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F0()||fp()||"connection"in navigator)?navigator.onLine:!0}function i4(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ko=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,kn(t>e,"Short delay should be less than long delay!"),this.isMobile=sx()||iu()}get(){return n4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function B0(n,e){kn(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var pu=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var r4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var o4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s4=new Ko(3e4,6e4);function $e(n,e){return n.tenantId&&!e.tenantId?$(E({},e),{tenantId:n.tenantId}):e}function We(o,s,a,c){return p(this,arguments,function*(n,e,t,i,r={}){return Qx(n,r,()=>p(null,null,function*(){let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});let d=qo(E({key:n.config.apiKey},u)).slice(1),h=yield n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);let f=E({method:e,headers:h},l);return cx()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&nu(n.emulatorConfig.host)&&(f.credentials="include"),pu.fetch()(yield Zx(n,n.config.apiHost,t,d),f)}))})}function Qx(n,e,t){return p(this,null,function*(){n._canInitEmulator=!1;let i=E(E({},r4),e);try{let r=new c0(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw au(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw au(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw au(n,"user-disabled",s);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw P0(n,u,l);ot(n,u)}}catch(r){if(r instanceof _t)throw r;ot(n,"network-request-failed",{message:String(r)})}})}function hr(o,s,a,c){return p(this,arguments,function*(n,e,t,i,r={}){let l=yield We(n,e,t,i,r);return"mfaPendingCredential"in l&&ot(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function Zx(n,e,t,i){return p(this,null,function*(){let r=`${e}${t}?${i}`,o=n,s=o.config.emulator?B0(n.config,r):`${n.config.apiScheme}://${r}`;return o4.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function a4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var c0=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(rt(this.auth,"network-request-failed")),s4.get())})}};function au(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=rt(n,e,i);return r.customData._tokenResponse=t,r}function Nx(n){return n!==void 0&&n.getResponse!==void 0}function Ox(n){return n!==void 0&&n.enterprise!==void 0}var Cp=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return a4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function c4(n){return p(this,null,function*(){return(yield We(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function eM(n,e){return p(this,null,function*(){return We(n,"GET","/v2/recaptchaConfig",$e(n,e))})}function l4(n,e){return p(this,null,function*(){return We(n,"POST","/v1/accounts:delete",e)})}function u4(n,e){return p(this,null,function*(){return We(n,"POST","/v1/accounts:update",e)})}function Dp(n,e){return p(this,null,function*(){return We(n,"POST","/v1/accounts:lookup",e)})}function cu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tM(n,e=!1){return p(this,null,function*(){let t=ve(n),i=yield t.getIdToken(e),r=Fp(i);M(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:cu(i0(r.auth_time)),issuedAtTime:cu(i0(r.iat)),expirationTime:cu(i0(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function i0(n){return Number(n)*1e3}function Fp(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return wp("JWT malformed, contained fewer than 3 sections"),null;try{let r=eu(t);return r?JSON.parse(r):(wp("Failed to decode base64 JWT payload"),null)}catch(r){return wp("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Px(n){let e=Fp(n);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function fr(n,e,t=!1){return p(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof _t&&d4(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function d4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var l0=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),t)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var gu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function mu(n){return p(this,null,function*(){let e=n.auth,t=yield n.getIdToken(),i=yield fr(n,Dp(e,{idToken:t}));M(i?.users.length,e,"internal-error");let r=i.users[0];n._notifyReloadListener(r);let o=r.providerUserInfo?.length?iM(r.providerUserInfo):[],s=f4(n.providerData,o),a=n.isAnonymous,c=!(n.email&&r.passwordHash)&&!s?.length,l=a?c:!1,u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new gu(r.createdAt,r.lastLoginAt),isAnonymous:l};Object.assign(n,u)})}function nM(n){return p(this,null,function*(){let e=ve(n);yield mu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function f4(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function iM(n){return n.map(i=>{var r=i,{providerId:e}=r,t=Nc(r,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}function h4(n,e){return p(this,null,function*(){let t=yield Qx(n,{},()=>p(null,null,function*(){let i=qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=yield Zx(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:i};return n.emulatorConfig&&nu(n.emulatorConfig.host)&&(c.credentials="include"),pu.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function p4(n,e){return p(this,null,function*(){return We(n,"POST","/v2/accounts:revokeToken",$e(n,e))})}var lu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Px(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){M(e.length!==0,"internal-error");let t=Px(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return p(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(M(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return p(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield h4(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(M(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(M(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(M(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ii("not implemented")}};function zr(n,e){M(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ur=class n{constructor(o){var s=o,{uid:e,auth:t,stsTokenManager:i}=s,r=Nc(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new l0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new gu(r.createdAt||void 0,r.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let t=yield fr(this,this.stsTokenManager.getToken(this.auth,e));return M(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return tM(this,e)}reload(){return nM(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>E({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n($(E({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return p(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield mu(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(Le(this.auth.app))return Promise.reject(vt(this.auth));let e=yield this.getIdToken();return yield fr(this,l4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return $(E({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>E({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let i=t.displayName??void 0,r=t.email??void 0,o=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,c=t._redirectEventId??void 0,l=t.createdAt??void 0,u=t.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:f,providerData:b,stsTokenManager:v}=t;M(d&&v,e,"internal-error");let I=lu.fromJSON(this.name,v);M(typeof d=="string",e,"internal-error"),zr(i,e.name),zr(r,e.name),M(typeof h=="boolean",e,"internal-error"),M(typeof f=="boolean",e,"internal-error"),zr(o,e.name),zr(s,e.name),zr(a,e.name),zr(c,e.name),zr(l,e.name),zr(u,e.name);let R=new n({uid:d,auth:e,email:r,emailVerified:h,displayName:i,isAnonymous:f,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:I,createdAt:l,lastLoginAt:u});return b&&Array.isArray(b)&&(R.providerData=b.map(G=>E({},G))),c&&(R._redirectEventId=c),R}static _fromIdTokenResponse(e,t,i=!1){return p(this,null,function*(){let r=new lu;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield mu(o),o})}static _fromGetAccountInfoResponse(e,t,i){return p(this,null,function*(){let r=t.users[0];M(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?iM(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new lu;a.updateFromIdToken(i);let c=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new gu(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var Lx=new Map;function Nt(n){kn(n instanceof Function,"Expected a class definition");let e=Lx.get(n);return e?(kn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Lx.set(n,e),e)}var g4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(t,i){return p(this,null,function*(){this.storage[t]=i})}_get(t){return p(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return p(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),Kr=g4;function Ci(n,e,t){return`firebase:${n}:${e}:${t}`}var Sp=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=Ci(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ci("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Dp(this.auth,{idToken:e}).catch(()=>{});return t?ur._fromGetAccountInfoResponse(this.auth,t,e):null}return ur._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return p(this,null,function*(){if(!t.length)return new n(Nt(Kr),e,i);let r=(yield Promise.all(t.map(l=>p(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=r[0]||Nt(Kr),s=Ci(i,e.config.apiKey,e.name),a=null;for(let l of t)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let h=yield Dp(e,{idToken:u}).catch(()=>{});if(!h)break;d=yield ur._fromGetAccountInfoResponse(e,h,u)}else d=ur._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>p(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,i))})}};function Fx(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cM(e))return"Blackberry";if(lM(e))return"Webos";if(oM(e))return"Safari";if((e.includes("chrome/")||sM(e))&&!e.includes("edge/"))return"Chrome";if(za(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function rM(n=Ke()){return/firefox\//i.test(n)}function oM(n=Ke()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sM(n=Ke()){return/crios\//i.test(n)}function aM(n=Ke()){return/iemobile/i.test(n)}function za(n=Ke()){return/android/i.test(n)}function cM(n=Ke()){return/blackberry/i.test(n)}function lM(n=Ke()){return/webos/i.test(n)}function qa(n=Ke()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uM(n=Ke()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function m4(n=Ke()){return qa(n)&&!!window.navigator?.standalone}function y4(){return hp()&&document.documentMode===10}function dM(n=Ke()){return qa(n)||za(n)||lM(n)||cM(n)||/windows phone/i.test(n)||aM(n)}function V0(n,e=[]){let t;switch(n){case"Browser":t=Fx(Ke());break;case"Worker":t=`${Fx(Ke())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${lr}/${i}`}var u0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function _4(t){return p(this,arguments,function*(n,e={}){return We(n,"GET","/v2/passwordPolicy",$e(n,e))})}var v4=6,d0=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??v4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Tp=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ap(this),this.idTokenSubscription=new Ap(this),this.beforeStateQueue=new u0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nt(t)),this._initializationPromise=this.queue(()=>p(this,null,function*(){if(!this._deleted&&(this.persistenceManager=yield Sp.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let t=yield Dp(this,{idToken:e}),i=yield ur._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){if(Le(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let t=yield this.assertedPersistence.getCurrentUser(),i=t,r=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=i?._redirectEventId,a=yield this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(i=a.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return M(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield mu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=i4()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(Le(this.app))return Promise.reject(vt(this));let t=e?ve(e):null;return t&&M(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return p(this,null,function*(){if(!this._deleted)return e&&M(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return Le(this.app)?Promise.reject(vt(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Le(this.app)?Promise.reject(vt(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Nt(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield _4(this),t=new d0(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rn("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield p4(this,i)}})}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}_setRedirectUser(e,t){return p(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Nt(e)||this._popupRedirectResolver;M(t,this,"argument-error"),this.redirectPersistenceManager=yield Sp.create(this,[Nt(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(M(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=yield this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let i=yield this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e})}_getAppCheckToken(){return p(this,null,function*(){if(Le(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&t4(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function ke(n){return ve(n)}var Ap=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=pp(t=>this.observer=t)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Du={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b4(n){Du=n}function j0(n){return Du.loadJS(n)}function w4(){return Du.recaptchaV2Script}function E4(){return Du.recaptchaEnterpriseScript}function I4(){return Du.gapiScript}function fM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var C4=500,D4=6e4,bp=1e12,f0=class{constructor(e){this.auth=e,this.counter=bp,this._widgets=new Map}render(e,t){let i=this.counter;return this._widgets.set(i,new g0(e,this.auth.name,t||{})),this.counter++,i}reset(e){let t=e||bp;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){let t=e||bp;return this._widgets.get(t)?.getResponse()||""}execute(e){return p(this,null,function*(){let t=e||bp;return this._widgets.get(t)?.execute(),""})}},h0=class{constructor(){this.enterprise=new p0}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},p0=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},g0=class{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof e=="string"?document.getElementById(e):e;M(r,"argument-error",{appName:t}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=S4(50);let{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},D4)},C4))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function S4(n){let e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<n;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}var T4="recaptcha-enterprise",uu="NO_RECAPTCHA",Rp=class{constructor(e){this.type=T4,this.auth=ke(e)}verify(e="verify",t=!1){return p(this,null,function*(){function i(o){return p(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>p(null,null,function*(){eM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Cp(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function r(o,s,a){let c=window.grecaptcha;Ox(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(uu)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h0().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{i(this.auth).then(a=>{if(!t&&Ox(window.grecaptcha))r(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=E4();c.length!==0&&(c+=a),j0(c).then(()=>{r(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function su(n,e,t,i=!1,r=!1){return p(this,null,function*(){let o=new Rp(n),s;if(r)s=uu;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=E({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function qr(n,e,t,i,r){return p(this,null,function*(){if(r==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield su(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(o=>p(null,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield su(n,e,t,t==="getOobCode");return i(n,s)}else return Promise.reject(o)}));else if(r==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let o=yield su(n,e,t);return i(n,o).catch(s=>p(null,null,function*(){if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(s.code==="auth/missing-recaptcha-token"||s.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let a=yield su(n,e,t,!1,!0);return i(n,a)}return Promise.reject(s)}))}else{let o=yield su(n,e,t,!1,!0);return i(n,o)}else return Promise.reject(r+" provider is not supported.")})}function A4(n){return p(this,null,function*(){let e=ke(n),t=yield eM(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new Cp(t);e.tenantId==null?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.isAnyProviderEnabled()&&new Rp(e).verify()})}function R4(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Nt);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function U0(n,e,t){let i=ke(n);M(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,o=hM(e),{host:s,port:a}=x4(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){M(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),M(zo(l,i.config.emulator)&&zo(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=l,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,nu(s)?(rx(`${o}//${s}${c}`),ox("Auth",!0)):r||M4()}function hM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function x4(n){let e=hM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:Bx(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:Bx(s)}}}function Bx(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function M4(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Di=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,t){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}};function pM(n,e){return p(this,null,function*(){return We(n,"POST","/v1/accounts:resetPassword",$e(n,e))})}function k4(n,e){return p(this,null,function*(){return We(n,"POST","/v1/accounts:update",e)})}function N4(n,e){return p(this,null,function*(){return We(n,"POST","/v1/accounts:signUp",e)})}function O4(n,e){return p(this,null,function*(){return We(n,"POST","/v1/accounts:update",$e(n,e))})}function P4(n,e){return p(this,null,function*(){return hr(n,"POST","/v1/accounts:signInWithPassword",$e(n,e))})}function Bp(n,e){return p(this,null,function*(){return We(n,"POST","/v1/accounts:sendOobCode",$e(n,e))})}function L4(n,e){return p(this,null,function*(){return Bp(n,e)})}function F4(n,e){return p(this,null,function*(){return Bp(n,e)})}function B4(n,e){return p(this,null,function*(){return Bp(n,e)})}function V4(n,e){return p(this,null,function*(){return Bp(n,e)})}function j4(n,e){return p(this,null,function*(){return hr(n,"POST","/v1/accounts:signInWithEmailLink",$e(n,e))})}function U4(n,e){return p(this,null,function*(){return hr(n,"POST","/v1/accounts:signInWithEmailLink",$e(n,e))})}var yu=class n extends Di{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return p(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qr(e,t,"signInWithPassword",P4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return j4(e,{email:this._email,oobCode:this._password});default:ot(e,"internal-error")}})}_linkToIdToken(e,t){return p(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qr(e,i,"signUpPassword",N4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return U4(e,{idToken:t,email:this._email,oobCode:this._password});default:ot(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function dr(n,e){return p(this,null,function*(){return hr(n,"POST","/v1/accounts:signInWithIdp",$e(n,e))})}var H4="http://localhost",Jn=class n extends Di{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ot("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let a=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=a,o=Nc(a,["providerId","signInMethod"]);if(!i||!r)return null;let s=new n(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return dr(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,dr(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,dr(e,t)}buildRequest(){let e={requestUri:H4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qo(t)}return e}};function Vx(n,e){return p(this,null,function*(){return We(n,"POST","/v1/accounts:sendVerificationCode",$e(n,e))})}function $4(n,e){return p(this,null,function*(){return hr(n,"POST","/v1/accounts:signInWithPhoneNumber",$e(n,e))})}function W4(n,e){return p(this,null,function*(){let t=yield hr(n,"POST","/v1/accounts:signInWithPhoneNumber",$e(n,e));if(t.temporaryProof)throw au(n,"account-exists-with-different-credential",t);return t})}var G4={USER_NOT_FOUND:"user-not-found"};function z4(n,e){return p(this,null,function*(){let t=$(E({},e),{operation:"REAUTH"});return hr(n,"POST","/v1/accounts:signInWithPhoneNumber",$e(n,t),G4)})}var $a=class n extends Di{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new n({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new n({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return $4(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return W4(e,E({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return z4(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:o}=e;return!i&&!t&&!r&&!o?null:new n({verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:o})}};function q4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y4(n){let e=$r(Va(n)).link,t=e?$r(Va(e)).deep_link_id:null,i=$r(Va(n)).deep_link_id;return(i?$r(Va(i)).link:null)||i||t||e||n}var _u=class n{constructor(e){let t=$r(Va(e)),i=t.apiKey??null,r=t.oobCode??null,o=q4(t.mode??null);M(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t=Y4(e);try{return new n(t)}catch{return null}}};var Su=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return yu._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=_u.parseLink(i);return M(r,"argument-error"),yu._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Qn=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Xr=class extends Qn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Wa=class n extends Xr{static credentialFromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;return M("providerId"in t&&"signInMethod"in t,"argument-error"),Jn._fromParams(t)}credential(e){return this._credential($(E({},e),{nonce:e.rawNonce}))}_credential(e){return M(e.idToken||e.accessToken,"argument-error"),Jn._fromParams($(E({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return n.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:o,nonce:s,providerId:a}=e;if(!i&&!r&&!t&&!o||!a)return null;try{return new n(a)._credential({idToken:t,accessToken:i,nonce:s,pendingToken:o})}catch{return null}}};var Vp=(()=>{class n extends Xr{constructor(){super("facebook.com")}static credential(t){return Jn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com";return n})(),jp=(()=>{class n extends Xr{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Jn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})(),Up=(()=>{class n extends Xr{constructor(){super("github.com")}static credential(t){return Jn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com";return n})(),K4="http://localhost",Xo=class n extends Di{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){let t=this.buildRequest();return dr(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,dr(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,dr(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:o}=t;return!i||!r||!o||i!==r?null:new n(i,o)}static _create(e,t){return new n(e,t)}buildRequest(){return{requestUri:K4,returnSecureToken:!0,pendingToken:this.pendingToken}}};var X4="saml.",vu=class n extends Qn{constructor(e){M(e.startsWith(X4),"argument-error"),super(e)}static credentialFromResult(e){return n.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return n.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let t=Xo.fromJSON(e);return M(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return Xo._create(i,t)}catch{return null}}};var Hp=(()=>{class n extends Xr{constructor(){super("twitter.com")}static credential(t,i){return Jn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return n.credential(i,r)}catch{return null}}}n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com";return n})();function gM(n,e){return p(this,null,function*(){return hr(n,"POST","/v1/accounts:signUp",$e(n,e))})}var Zn=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return p(this,null,function*(){let o=yield ur._fromIdTokenResponse(e,i,r),s=jx(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return p(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=jx(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function jx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function H0(n){return p(this,null,function*(){if(Le(n.app))return Promise.reject(vt(n));let e=ke(n);if(yield e._initializationPromise,e.currentUser?.isAnonymous)return new Zn({user:e.currentUser,providerId:null,operationType:"signIn"});let t=yield gM(e,{returnSecureToken:!0}),i=yield Zn._fromIdTokenResponse(e,"signIn",t,!0);return yield e._updateCurrentUser(i.user),i})}var m0=class n extends _t{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function mM(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?m0._fromErrorAndOperation(n,o,e,i):o})}function yM(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function $0(n,e){return p(this,null,function*(){let t=ve(n);yield $p(!0,t,e);let{providerUserInfo:i}=yield u4(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),r=yM(i||[]);return t.providerData=t.providerData.filter(o=>r.has(o.providerId)),r.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t})}function W0(n,e,t=!1){return p(this,null,function*(){let i=yield fr(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Zn._forOperation(n,"link",i)})}function $p(n,e,t){return p(this,null,function*(){yield mu(e);let i=yM(e.providerData),r=n===!1?"provider-already-linked":"no-such-provider";M(i.has(t)===n,e.auth,r)})}function _M(n,e,t=!1){return p(this,null,function*(){let{auth:i}=n;if(Le(i.app))return Promise.reject(vt(i));let r="reauthenticate";try{let o=yield fr(n,mM(i,r,e,n),t);M(o.idToken,i,"internal-error");let s=Fp(o.idToken);M(s,i,"internal-error");let{sub:a}=s;return M(n.uid===a,i,"user-mismatch"),Zn._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ot(i,"user-mismatch"),o}})}function vM(n,e,t=!1){return p(this,null,function*(){if(Le(n.app))return Promise.reject(vt(n));let i="signIn",r=yield mM(n,i,e),o=yield Zn._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})}function Ya(n,e){return p(this,null,function*(){return vM(ke(n),e)})}function Wp(n,e){return p(this,null,function*(){let t=ve(n);return yield $p(!1,t,e.providerId),W0(t,e)})}function Gp(n,e){return p(this,null,function*(){return _M(ve(n),e)})}function J4(n,e){return p(this,null,function*(){return hr(n,"POST","/v1/accounts:signInWithCustomToken",$e(n,e))})}function G0(n,e){return p(this,null,function*(){if(Le(n.app))return Promise.reject(vt(n));let t=ke(n),i=yield J4(t,{token:e,returnSecureToken:!0}),r=yield Zn._fromIdTokenResponse(t,"signIn",i);return yield t._updateCurrentUser(r.user),r})}var Jo=class{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?y0._fromServerResponse(e,t):"totpInfo"in t?_0._fromServerResponse(e,t):ot(e,"internal-error")}},y0=class n extends Jo{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new n(t)}},_0=class n extends Jo{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new n(t)}};function zp(n,e,t){M(t.url?.length>0,n,"invalid-continue-uri"),M(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),M(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(M(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(M(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function z0(n){return p(this,null,function*(){let e=ke(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function q0(n,e,t){return p(this,null,function*(){let i=ke(n),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&zp(i,r,t),yield qr(i,r,"getOobCode",F4,"EMAIL_PASSWORD_PROVIDER")})}function Y0(n,e,t){return p(this,null,function*(){yield pM(ve(n),{oobCode:e,newPassword:t}).catch(i=>p(null,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&z0(n),i}))})}function K0(n,e){return p(this,null,function*(){yield O4(ve(n),{oobCode:e})})}function qp(n,e){return p(this,null,function*(){let t=ve(n),i=yield pM(t,{oobCode:e}),r=i.requestType;switch(M(r,t,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":M(i.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":M(i.mfaInfo,t,"internal-error");default:M(i.email,t,"internal-error")}let o=null;return i.mfaInfo&&(o=Jo._fromServerResponse(ke(t),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}})}function X0(n,e){return p(this,null,function*(){let{data:t}=yield qp(ve(n),e);return t.email})}function J0(n,e,t){return p(this,null,function*(){if(Le(n.app))return Promise.reject(vt(n));let i=ke(n),s=yield qr(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gM,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&z0(n),c}),a=yield Zn._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(a.user),a})}function Q0(n,e,t){return Le(n.app)?Promise.reject(vt(n)):Ya(ve(n),Su.credential(e,t)).catch(i=>p(null,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&z0(n),i}))}function Z0(n,e,t){return p(this,null,function*(){let i=ke(n),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(s,a){M(a.handleCodeInApp,i,"argument-error"),a&&zp(i,s,a)}o(r,t),yield qr(i,r,"getOobCode",B4,"EMAIL_PASSWORD_PROVIDER")})}function ew(n,e){return _u.parseLink(e)?.operation==="EMAIL_SIGNIN"}function tw(n,e,t){return p(this,null,function*(){if(Le(n.app))return Promise.reject(vt(n));let i=ve(n),r=Su.credentialWithLink(e,t||hu());return M(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Ya(i,r)})}function Q4(n,e){return p(this,null,function*(){return We(n,"POST","/v1/accounts:createAuthUri",$e(n,e))})}function nw(n,e){return p(this,null,function*(){let t=F0()?hu():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:r}=yield Q4(ve(n),i);return r||[]})}function iw(n,e){return p(this,null,function*(){let t=ve(n),r={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&zp(t.auth,r,e);let{email:o}=yield L4(t.auth,r);o!==n.email&&(yield n.reload())})}function rw(n,e,t){return p(this,null,function*(){let i=ve(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&zp(i.auth,o,t);let{email:s}=yield V4(i.auth,o);s!==n.email&&(yield n.reload())})}function Z4(n,e){return p(this,null,function*(){return We(n,"POST","/v1/accounts:update",e)})}function ow(i,r){return p(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=ve(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield fr(o,Z4(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let l=o.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function sw(n,e){let t=ve(n);return Le(t.auth.app)?Promise.reject(vt(t.auth)):bM(t,e,null)}function aw(n,e){return bM(ve(n),null,e)}function bM(n,e,t){return p(this,null,function*(){let{auth:i}=n,o={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);let s=yield fr(n,k4(i,o));yield n._updateTokensIfNecessary(s,!0)})}function eW(n){if(!n)return null;let{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},i=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&n?.idToken){let r=Fp(n.idToken)?.firebase?.sign_in_provider;if(r){let o=r!=="anonymous"&&r!=="custom"?r:null;return new Yr(i,o)}}if(!e)return null;switch(e){case"facebook.com":return new v0(i,t);case"github.com":return new b0(i,t);case"google.com":return new w0(i,t);case"twitter.com":return new E0(i,t,n.screenName||null);case"custom":case"anonymous":return new Yr(i,null);default:return new Yr(i,e,t)}}var Yr=class{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}},xp=class extends Yr{constructor(e,t,i,r){super(e,t,i),this.username=r}},v0=class extends Yr{constructor(e,t){super(e,"facebook.com",t)}},b0=class extends xp{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}},w0=class extends Yr{constructor(e,t){super(e,"google.com",t)}},E0=class extends xp{constructor(e,t,i){super(e,"twitter.com",t,i)}};function cw(n){let{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:eW(t)}var Mp=class n{constructor(e,t,i){this.type=e,this.credential=t,this.user=i}static _fromIdtoken(e,t){return new n("enroll",e,t)}static _fromMfaPendingCredential(e){return new n("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return n._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return n._fromIdtoken(e.multiFactorSession.idToken)}return null}};var I0=class n{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){let i=ke(e),r=t.customData._serverResponse,o=(r.mfaInfo||[]).map(a=>Jo._fromServerResponse(i,a));M(r.mfaPendingCredential,i,"internal-error");let s=Mp._fromMfaPendingCredential(r.mfaPendingCredential);return new n(s,o,a=>p(null,null,function*(){let c=yield a._process(i,s);delete r.mfaInfo,delete r.mfaPendingCredential;let l=$(E({},r),{idToken:c.idToken,refreshToken:c.refreshToken});switch(t.operationType){case"signIn":let u=yield Zn._fromIdTokenResponse(i,t.operationType,l);return yield i._updateCurrentUser(u.user),u;case"reauthenticate":return M(t.user,i,"internal-error"),Zn._forOperation(t.user,t.operationType,l);default:ot(i,"internal-error")}}))}resolveSignIn(e){return p(this,null,function*(){let t=e;return this.signInResolver(t)})}};function lw(n,e){let t=ve(n),i=e;return M(e.customData.operationType,t,"argument-error"),M(i.customData._serverResponse?.mfaPendingCredential,t,"argument-error"),I0._fromError(t,i)}function Ux(n,e){return We(n,"POST","/v2/accounts/mfaEnrollment:start",$e(n,e))}function tW(n,e){return We(n,"POST","/v2/accounts/mfaEnrollment:finalize",$e(n,e))}function nW(n,e){return We(n,"POST","/v2/accounts/mfaEnrollment:withdraw",$e(n,e))}var C0=class n{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(i=>Jo._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new n(e)}getSession(){return p(this,null,function*(){return Mp._fromIdtoken(yield this.user.getIdToken(),this.user)})}enroll(e,t){return p(this,null,function*(){let i=e,r=yield this.getSession(),o=yield fr(this.user,i._process(this.user.auth,r,t));return yield this.user._updateTokensIfNecessary(o),this.user.reload()})}unenroll(e){return p(this,null,function*(){let t=typeof e=="string"?e:e.uid,i=yield this.user.getIdToken();try{let r=yield fr(this.user,nW(this.user.auth,{idToken:i,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),yield this.user._updateTokensIfNecessary(r),yield this.user.reload()}catch(r){throw r}})}},r0=new WeakMap;function uw(n){let e=ve(n);return r0.has(e)||r0.set(e,C0._fromUser(e)),r0.get(e)}var kp="__sak";var Np=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kp,"1"),this.storage.removeItem(kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var iW=1e3,rW=10,oW=(()=>{class n extends Np{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let r=t.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);y4()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,rW):o()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},iW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return p(this,null,function*(){yield lo(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return p(this,null,function*(){let i=yield lo(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return p(this,null,function*(){yield lo(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Ka=oW;var sW=(()=>{class n extends Np{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),Si=sW;function aW(n){return Promise.all(n.map(e=>p(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var cW=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return p(this,null,function*(){let i=t,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let c=Array.from(a).map(u=>p(this,null,function*(){return u(i.origin,s)})),l=yield aW(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function es(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var D0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return p(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=es("",20);r.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function it(){return window}function lW(n){it().location.href=n}function dw(){return typeof it().WorkerGlobalScope<"u"&&typeof it().importScripts=="function"}function uW(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function dW(){return navigator?.serviceWorker?.controller||null}function fW(){return dw()?self:null}var wM="firebaseLocalStorageDb",hW=1,Op="firebaseLocalStorage",EM="fbase_key",Qo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Yp(n,e){return n.transaction([Op],e?"readwrite":"readonly").objectStore(Op)}function pW(){let n=indexedDB.deleteDatabase(wM);return new Qo(n).toPromise()}function S0(){let n=indexedDB.open(wM,hW);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Op,{keyPath:EM})}catch(r){t(r)}}),n.addEventListener("success",()=>p(null,null,function*(){let i=n.result;i.objectStoreNames.contains(Op)?e(i):(i.close(),yield pW(),e(yield S0()))}))})}function Hx(n,e,t){return p(this,null,function*(){let i=Yp(n,!0).put({[EM]:e,value:t});return new Qo(i).toPromise()})}function gW(n,e){return p(this,null,function*(){let t=Yp(n,!1).get(e),i=yield new Qo(t).toPromise();return i===void 0?null:i.value})}function $x(n,e){let t=Yp(n,!0).delete(e);return new Qo(t).toPromise()}var mW=800,yW=3,_W=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield S0(),this.db)})}_withRetries(t){return p(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>yW)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return dw()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=cW._getInstance(fW()),this.receiver._subscribe("keyChanged",(t,i)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){if(this.activeServiceWorker=yield uW(),!this.activeServiceWorker)return;this.sender=new D0(this.activeServiceWorker);let t=yield this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||dW()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let t=yield S0();return yield Hx(t,kp,"1"),yield $x(t,kp),!0}catch{}return!1})}_withPendingWrite(t){return p(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>Hx(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return p(this,null,function*(){let i=yield this._withRetries(r=>gW(r,t));return this.localCache[t]=i,i})}_remove(t){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>$x(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return p(this,null,function*(){let t=yield this._withRetries(o=>{let s=Yp(o,!1).getAll();return new Qo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),mW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),ts=_W;function Wx(n,e){return We(n,"POST","/v2/accounts/mfaSignIn:start",$e(n,e))}function vW(n,e){return We(n,"POST","/v2/accounts/mfaSignIn:finalize",$e(n,e))}var o0=fM("rcb"),bW=new Ko(3e4,6e4),T0=class{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!it().grecaptcha?.render}load(e,t=""){return M(wW(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Nx(it().grecaptcha)?Promise.resolve(it().grecaptcha):new Promise((i,r)=>{let o=it().setTimeout(()=>{r(rt(e,"network-request-failed"))},bW.get());it()[o0]=()=>{it().clearTimeout(o),delete it()[o0];let a=it().grecaptcha;if(!a||!Nx(a)){r(rt(e,"internal-error"));return}let c=a.render;a.render=(l,u)=>{let d=c(l,u);return this.counter++,d},this.hostLanguage=t,i(a)};let s=`${w4()}?${qo({onload:o0,render:"explicit",hl:t})}`;j0(s).catch(()=>{clearTimeout(o),r(rt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!it().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function wW(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}var A0=class{load(e){return p(this,null,function*(){return new f0(e)})}clearedOneInstance(){}};var du="recaptcha",EW={theme:"light",type:"image"},bu=class{constructor(e,t,i=E({},EW)){this.parameters=i,this.type=du,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ke(e),this.isInvisible=this.parameters.size==="invisible",M(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof t=="string"?document.getElementById(t):t;M(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new A0:new T0,this.validateStartingState()}verify(){return p(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),t=this.getAssertedRecaptcha(),i=t.getResponse(e);return i||new Promise(r=>{let o=s=>{s&&(this.tokenChangeListeners.delete(o),r(s))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){M(!this.parameters.sitekey,this.auth,"argument-error"),M(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),M(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(i=>i(t)),typeof e=="function")e(t);else if(typeof e=="string"){let i=it()[e];typeof i=="function"&&i(t)}}}assertNotDestroyed(){M(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return p(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return p(this,null,function*(){M(F0()&&!dw(),this.auth,"internal-error"),yield IW(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield c4(this.auth);M(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return M(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function IW(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}var wu=class{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){let t=$a._fromVerification(this.verificationId,e);return this.onConfirmation(t)}};function fw(n,e,t){return p(this,null,function*(){if(Le(n.app))return Promise.reject(vt(n));let i=ke(n),r=yield Kp(i,e,ve(t));return new wu(r,o=>Ya(i,o))})}function hw(n,e,t){return p(this,null,function*(){let i=ve(n);yield $p(!1,i,"phone");let r=yield Kp(i.auth,e,ve(t));return new wu(r,o=>Wp(i,o))})}function pw(n,e,t){return p(this,null,function*(){let i=ve(n);if(Le(i.auth.app))return Promise.reject(vt(i.auth));let r=yield Kp(i.auth,e,ve(t));return new wu(r,o=>Gp(i,o))})}function Kp(n,e,t){return p(this,null,function*(){if(!n._getRecaptchaConfig())try{yield A4(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){let r=i.session;if("phoneNumber"in i){M(r.type==="enroll",n,"internal-error");let o={idToken:r.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield qr(n,o,"mfaSmsEnrollment",(l,u)=>p(null,null,function*(){if(u.phoneEnrollmentInfo.captchaResponse===uu){M(t?.type===du,l,"argument-error");let d=yield s0(l,u,t);return Ux(l,d)}return Ux(l,u)}),"PHONE_PROVIDER").catch(l=>Promise.reject(l))).phoneSessionInfo.sessionInfo}else{M(r.type==="signin",n,"internal-error");let o=i.multiFactorHint?.uid||i.multiFactorUid;M(o,n,"missing-multi-factor-info");let s={mfaPendingCredential:r.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield qr(n,s,"mfaSmsSignIn",(u,d)=>p(null,null,function*(){if(d.phoneSignInInfo.captchaResponse===uu){M(t?.type===du,u,"argument-error");let h=yield s0(u,d,t);return Wx(u,h)}return Wx(u,d)}),"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneResponseInfo.sessionInfo}}else{let r={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield qr(n,r,"sendVerificationCode",(c,l)=>p(null,null,function*(){if(l.captchaResponse===uu){M(t?.type===du,c,"argument-error");let u=yield s0(c,l,t);return Vx(c,u)}return Vx(c,l)}),"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{t?._reset()}})}function gw(n,e){return p(this,null,function*(){let t=ve(n);if(Le(t.auth.app))return Promise.reject(vt(t.auth));yield W0(t,e)})}function s0(n,e,t){return p(this,null,function*(){M(t.type===du,n,"argument-error");let i=yield t.verify();M(typeof i=="string",n,"argument-error");let r=E({},e);if("phoneEnrollmentInfo"in r){let o=r.phoneEnrollmentInfo.phoneNumber,s=r.phoneEnrollmentInfo.captchaResponse,a=r.phoneEnrollmentInfo.clientType,c=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i,captchaResponse:s,clientType:a,recaptchaVersion:c}}),r}else if("phoneSignInInfo"in r){let o=r.phoneSignInInfo.captchaResponse,s=r.phoneSignInInfo.clientType,a=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:o,clientType:s,recaptchaVersion:a}}),r}else return Object.assign(r,{recaptchaToken:i}),r})}var ns=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=ke(t)}verifyPhoneNumber(t,i){return Kp(this.auth,t,ve(i))}static credential(t,i){return $a._fromVerification(t,i)}static credentialFromResult(t){let i=t;return n.credentialFromTaggedObject(i)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{phoneNumber:i,temporaryProof:r}=t;return i&&r?$a._fromTokenResponse(i,r):null}}n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone";return n})();function is(n,e){return e?Nt(e):(M(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Eu=class extends Di{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return dr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return dr(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function CW(n){return vM(n.auth,new Eu(n),n.bypassAuthState)}function DW(n){let{auth:e,user:t}=n;return M(t,e,"internal-error"),_M(t,new Eu(n),n.bypassAuthState)}function SW(n){return p(this,null,function*(){let{auth:e,user:t}=n;return M(t,e,"internal-error"),W0(t,new Eu(n),n.bypassAuthState)})}var Pp=class{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CW;case"linkViaPopup":case"linkViaRedirect":return SW;case"reauthViaPopup":case"reauthViaRedirect":return DW;default:ot(this.auth,"internal-error")}}resolve(e){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var TW=new Ko(2e3,1e4);function mw(n,e,t){return p(this,null,function*(){if(Le(n.app))return Promise.reject(rt(n,"operation-not-supported-in-this-environment"));let i=ke(n);Ga(n,e,Qn);let r=is(i,t);return new vw(i,"signInViaPopup",e,r).executeNotNull()})}function yw(n,e,t){return p(this,null,function*(){let i=ve(n);if(Le(i.auth.app))return Promise.reject(rt(i.auth,"operation-not-supported-in-this-environment"));Ga(i.auth,e,Qn);let r=is(i.auth,t);return new vw(i.auth,"reauthViaPopup",e,r,i).executeNotNull()})}function _w(n,e,t){return p(this,null,function*(){let i=ve(n);Ga(i.auth,e,Qn);let r=is(i.auth,t);return new vw(i.auth,"linkViaPopup",e,r,i).executeNotNull()})}var vw=(()=>{class n extends Pp{constructor(t,i,r,o,s){super(t,i,o,s),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return p(this,null,function*(){let t=yield this.execute();return M(t,this.auth,"internal-error"),t})}onExecution(){return p(this,null,function*(){kn(this.filter.length===1,"Popup operations only handle one event");let t=es();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(rt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,TW.get())};t()}}n.currentPopupAction=null;return n})(),AW="pendingRedirect",fu=new Map,R0=class n extends Pp{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return p(this,null,function*(){let e=fu.get(this.auth._key());if(!e){try{let i=(yield RW(this.resolver,this.auth))?yield lo(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}fu.set(this.auth._key(),e)}return this.bypassAuthState||fu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return lo(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,lo(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function RW(n,e){return p(this,null,function*(){let t=DM(e),i=CM(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function bw(n,e){return p(this,null,function*(){return CM(n)._set(DM(e),"true")})}function IM(){fu.clear()}function Xa(n,e){fu.set(n._key(),e)}function CM(n){return Nt(n._redirectPersistence)}function DM(n){return Ci(AW,n.config.apiKey,n.name)}function ww(n,e,t){return xW(n,e,t)}function xW(n,e,t){return p(this,null,function*(){if(Le(n.app))return Promise.reject(vt(n));let i=ke(n);Ga(n,e,Qn),yield i._initializationPromise;let r=is(i,t);return yield bw(r,i),r._openRedirect(i,e,"signInViaRedirect")})}function Ew(n,e,t){return MW(n,e,t)}function MW(n,e,t){return p(this,null,function*(){let i=ve(n);if(Ga(i.auth,e,Qn),Le(i.auth.app))return Promise.reject(vt(i.auth));yield i.auth._initializationPromise;let r=is(i.auth,t);yield bw(r,i.auth);let o=yield SM(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",o)})}function Iw(n,e,t){return kW(n,e,t)}function kW(n,e,t){return p(this,null,function*(){let i=ve(n);Ga(i.auth,e,Qn),yield i.auth._initializationPromise;let r=is(i.auth,t);yield $p(!1,i,e.providerId),yield bw(r,i.auth);let o=yield SM(i);return r._openRedirect(i.auth,e,"linkViaRedirect",o)})}function Cw(n,e){return p(this,null,function*(){return yield ke(n)._initializationPromise,rs(n,e,!1)})}function rs(n,e,t=!1){return p(this,null,function*(){if(Le(n.app))return Promise.reject(vt(n));let i=ke(n),r=is(i,e),s=yield new R0(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}function SM(n){return p(this,null,function*(){let e=es(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})}var NW=10*60*1e3,Iu=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OW(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!TM(e)){let i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(rt(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NW&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gx(e))}saveEventToCache(e){this.cachedEventUids.add(Gx(e)),this.lastProcessedEventTime=Date.now()}};function Gx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function TM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function OW(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TM(n);default:return!1}}function Dw(t){return p(this,arguments,function*(n,e={}){return We(n,"GET","/v1/projects",e)})}var PW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LW=/^https?/;function FW(n){return p(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield Dw(n);for(let t of e)try{if(BW(t))return}catch{}ot(n,"unauthorized-domain")})}function BW(n){let e=hu(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!LW.test(t))return!1;if(PW.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var VW=new Ko(3e4,6e4);function zx(){let n=it().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jW(n){return new Promise((e,t)=>{function i(){zx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zx(),t(rt(n,"network-request-failed"))},timeout:VW.get()})}if(it().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(it().gapi?.load)i();else{let r=fM("iframefcb");return it()[r]=()=>{gapi.load?i():t(rt(n,"network-request-failed"))},j0(`${I4()}?onload=${r}`).catch(o=>t(o))}}).catch(e=>{throw Ep=null,e})}var Ep=null;function UW(n){return Ep=Ep||jW(n),Ep}var HW=new Ko(5e3,15e3),$W="__/auth/iframe",WW="emulator/auth/iframe",GW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qW(n){let e=n.config;M(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?B0(e,WW):`https://${n.config.authDomain}/${$W}`,i={apiKey:e.apiKey,appName:n.name,v:lr},r=zW.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${qo(i).slice(1)}`}function YW(n){return p(this,null,function*(){let e=yield UW(n),t=it().gapi;return M(t,n,"internal-error"),e.open({where:document.body,url:qW(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GW,dontclear:!0},i=>new Promise((r,o)=>p(null,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=rt(n,"network-request-failed"),a=it().setTimeout(()=>{o(s)},HW.get());function c(){it().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{o(s)})})))})}var KW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XW=500,JW=600,QW="_blank",ZW="http://localhost",Cu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function eG(n,e,t,i=XW,r=JW){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=$(E({},KW),{width:i.toString(),height:r.toString(),top:o,left:s}),l=Ke().toLowerCase();t&&(a=sM(l)?QW:t),rM(l)&&(e=e||ZW,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[f,b])=>`${h}${f}=${b},`,"");if(m4(l)&&a!=="_self")return tG(e||"",a),new Cu(null);let d=window.open(e||"",a,u);M(d,n,"popup-blocked");try{d.focus()}catch{}return new Cu(d)}function tG(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var nG="__/auth/handler",iG="emulator/auth/handler",rG=encodeURIComponent("fac");function Lp(n,e,t,i,r,o){return p(this,null,function*(){M(n.config.authDomain,n,"auth-domain-config-required"),M(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:lr,eventId:r};if(e instanceof Qn){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",ux(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Xr){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield n._getAppCheckToken(),l=c?`#${rG}=${encodeURIComponent(c)}`:"";return`${oG(n)}?${qo(a).slice(1)}${l}`})}function oG({config:n}){return n.emulator?B0(n,iG):`https://${n.authDomain}/${nG}`}var a0="webStorageSupport",x0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Si,this._completeRedirectFn=rs,this._overrideRedirectResult=Xa}_openPopup(e,t,i,r){return p(this,null,function*(){kn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=yield Lp(e,t,i,hu(),r);return eG(e,o,es())})}_openRedirect(e,t,i,r){return p(this,null,function*(){yield this._originValidation(e);let o=yield Lp(e,t,i,hu(),r);return lW(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(kn(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return p(this,null,function*(){let t=yield YW(e),i=new Iu(e);return t.register("authEvent",r=>(M(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(a0,{type:a0},r=>{let o=r?.[0]?.[a0];o!==void 0&&t(!!o),ot(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=FW(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dM()||oM()||qa()}},Sw=x0,M0=class{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ii("unexpected MultiFactorSessionType")}}},k0=class n extends M0{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new n(e)}_finalizeEnroll(e,t,i){return tW(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return vW(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},Tw=(()=>{class n{constructor(){}static assertion(t){return k0._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var qx="@firebase/auth",Yx="1.11.0";var N0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function sG(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aG(n){cr(new Zt("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;M(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V0(n)},l=new Tp(i,r,o,c);return R4(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),cr(new Zt("auth-internal",e=>{let t=ke(e.getProvider("auth").getImmediate());return(i=>new N0(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xn(qx,Yx,sG(n)),xn(qx,Yx,"esm2020")}var cG=5*60,Jle=ix("authIdTokenMaxAge")||cG;function lG(){return document.getElementsByTagName("head")?.[0]??document}b4({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=rt("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",lG().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aG("Browser");function os(){return window}var uG=2e3;function dG(n,e,t){return p(this,null,function*(){let{BuildInfo:i}=os();kn(e.sessionId,"AuthEvent did not contain a session ID");let r=yield mG(e.sessionId),o={};return qa()?o.ibi=i.packageName:za()?o.apn=i.packageName:ot(n,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=r,Lp(n,t,e.type,void 0,e.eventId??void 0,o)})}function fG(n){return p(this,null,function*(){let{BuildInfo:e}=os(),t={};qa()?t.iosBundleId=e.packageName:za()?t.androidPackageName=e.packageName:ot(n,"operation-not-supported-in-this-environment"),yield Dw(n,t)})}function hG(n){let{cordova:e}=os();return new Promise(t=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(n):r=e.InAppBrowser.open(n,uM()?"_blank":"_system","location=yes"),t(r)})})}function pG(n,e,t){return p(this,null,function*(){let{cordova:i}=os(),r=()=>{};try{yield new Promise((o,s)=>{let a=null;function c(){o();let d=i.plugins.browsertab?.close;typeof d=="function"&&d(),typeof t?.close=="function"&&t.close()}function l(){a||(a=window.setTimeout(()=>{s(rt(n,"redirect-cancelled-by-user"))},uG))}function u(){document?.visibilityState==="visible"&&l()}e.addPassiveListener(c),document.addEventListener("resume",l,!1),za()&&document.addEventListener("visibilitychange",u,!1),r=()=>{e.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{r()}})}function gG(n){let e=os();M(typeof e?.universalLinks?.subscribe=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),M(typeof e?.BuildInfo?.packageName<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),M(typeof e?.cordova?.plugins?.browsertab?.openUrl=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),M(typeof e?.cordova?.plugins?.browsertab?.isAvailable=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),M(typeof e?.cordova?.InAppBrowser?.open=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function mG(n){return p(this,null,function*(){let e=yG(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(r=>r.toString(16).padStart(2,"0")).join("")})}function yG(n){if(kn(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);let e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let i=0;i<n.length;i++)t[i]=n.charCodeAt(i);return t}var _G=20,Aw=class extends Iu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){return p(this,null,function*(){yield this.initPromise})}};function vG(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:EG(),postBody:null,tenantId:n.tenantId,error:rt(n,"no-auth-event")}}function bG(n,e){return Rw()._set(xw(n),e)}function AM(n){return p(this,null,function*(){let e=yield Rw()._get(xw(n));return e&&(yield Rw()._remove(xw(n))),e})}function wG(n,e){let t=CG(e);if(t.includes("/__/auth/callback")){let i=Xp(t),o=(i.firebaseError?IG(decodeURIComponent(i.firebaseError)):null)?.code?.split("auth/")?.[1],s=o?rt(o):null;return s?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:t,postBody:null}}return null}function EG(){let n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<_G;t++){let i=Math.floor(Math.random()*e.length);n.push(e.charAt(i))}return n.join("")}function Rw(){return Nt(Ka)}function xw(n){return Ci("authEvent",n.config.apiKey,n.name)}function IG(n){try{return JSON.parse(n)}catch{return null}}function CG(n){let e=Xp(n),t=e.link?decodeURIComponent(e.link):void 0,i=Xp(t).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Xp(r).link||r||i||t||n}function Xp(n){if(!n?.includes("?"))return{};let[e,...t]=n.split("?");return $r(t.join("?"))}var DG=500,Mw=class{constructor(){this._redirectPersistence=Si,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=rs,this._overrideRedirectResult=Xa}_initialize(e){return p(this,null,function*(){let t=e._key(),i=this.eventManagers.get(t);return i||(i=new Aw(e),this.eventManagers.set(t,i),this.attachCallbackListeners(e,i)),i})}_openPopup(e){ot(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,i,r){return p(this,null,function*(){gG(e);let o=yield this._initialize(e);yield o.initialized(),o.resetRedirect(),IM(),yield this._originValidation(e);let s=vG(e,i,r);yield bG(e,s);let a=yield dG(e,s,t),c=yield hG(a);return pG(e,o,c)})}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fG(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){let{universalLinks:i,handleOpenURL:r,BuildInfo:o}=os(),s=setTimeout(()=>p(null,null,function*(){yield AM(e),t.onEvent(RM())}),DG),a=u=>p(null,null,function*(){clearTimeout(s);let d=yield AM(e),h=null;d&&u?.url&&(h=wG(d,u.url)),t.onEvent(h||RM())});typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,a);let c=r,l=`${o.packageName.toLowerCase()}://`;os().handleOpenURL=u=>p(null,null,function*(){if(u.toLowerCase().startsWith(l)&&a({url:u}),typeof c=="function")try{c(u)}catch(d){console.error(d)}})}},xM=Mw;function RM(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:rt("no-auth-event")}}function MM(n,e){ke(n)._logFramework(e)}var TG="@firebase/auth-compat",AG="0.6.0";var RG=1e3;function Ru(){return self?.location?.protocol||null}function xG(){return Ru()==="http:"||Ru()==="https:"}function OM(n=Ke()){return!!((Ru()==="file:"||Ru()==="ionic:"||Ru()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function MG(){return iu()||Ob()}function kG(){return hp()&&document?.documentMode===11}function NG(n=Ke()){return/Edge\/\d+/.test(n)}function OG(n=Ke()){return kG()||NG(n)}function PM(){try{let n=self.localStorage,e=es();if(n)return n.setItem(e,"1"),n.removeItem(e),OG()?Ba():!0}catch{return Fw()&&Ba()}return!1}function Fw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function kw(){return(xG()||fp()||OM())&&!MG()&&PM()&&!Fw()}function LM(){return OM()&&typeof document<"u"}function PG(){return p(this,null,function*(){return LM()?new Promise(n=>{let e=setTimeout(()=>{n(!1)},RG);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1})}function LG(){return typeof window<"u"?window:null}var mn={LOCAL:"local",NONE:"none",SESSION:"session"},Tu=M,FM="persistence";function FG(n,e){if(Tu(Object.values(mn).includes(e),n,"invalid-persistence-type"),iu()){Tu(e!==mn.SESSION,n,"unsupported-persistence-type");return}if(Ob()){Tu(e===mn.NONE,n,"unsupported-persistence-type");return}if(Fw()){Tu(e===mn.NONE||e===mn.LOCAL&&Ba(),n,"unsupported-persistence-type");return}Tu(e===mn.NONE||PM(),n,"unsupported-persistence-type")}function Nw(n){return p(this,null,function*(){yield n._initializationPromise;let e=BM(),t=Ci(FM,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())})}function BG(n,e){let t=BM();if(!t)return[];let i=Ci(FM,n,e);switch(t.getItem(i)){case mn.NONE:return[Kr];case mn.LOCAL:return[ts,Si];case mn.SESSION:return[Si];default:return[]}}function BM(){try{return LG()?.sessionStorage||null}catch{return null}}var VG=M,Ti=class{constructor(){this.browserResolver=Nt(Sw),this.cordovaResolver=Nt(xM),this.underlyingResolver=null,this._redirectPersistence=Si,this._completeRedirectFn=rs,this._overrideRedirectResult=Xa}_initialize(e){return p(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)})}_openPopup(e,t,i,r){return p(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,i,r)})}_openRedirect(e,t,i,r){return p(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,i,r)})}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return LM()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return VG(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){return p(this,null,function*(){if(this.underlyingResolver)return;let e=yield PG();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver})}};function VM(n){return n.unwrap()}function jG(n){return n.wrapped()}function UG(n){return jM(n)}function HG(n,e){let t=e.customData?._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){let i=e;i.resolver=new Pw(n,lw(n,e))}else if(t){let i=jM(e),r=e;i&&(r.credential=i,r.tenantId=t.tenantId||void 0,r.email=t.email||void 0,r.phoneNumber=t.phoneNumber||void 0)}}function jM(n){let{_tokenResponse:e}=n instanceof _t?n.customData:n;if(!e)return null;if(!(n instanceof _t)&&"temporaryProof"in e&&"phoneNumber"in e)return ns.credentialFromResult(n);let t=e.providerId;if(!t||t===Zo.PASSWORD)return null;let i;switch(t){case Zo.GOOGLE:i=jp;break;case Zo.FACEBOOK:i=Vp;break;case Zo.GITHUB:i=Up;break;case Zo.TWITTER:i=Hp;break;default:let{oauthIdToken:r,oauthAccessToken:o,oauthTokenSecret:s,pendingToken:a,nonce:c}=e;return!o&&!s&&!r&&!a?null:a?t.startsWith("saml.")?Xo._create(t,a):Jn._fromParams({providerId:t,signInMethod:t,pendingToken:a,idToken:r,accessToken:o}):new Wa(t).credential({idToken:r,accessToken:o,rawNonce:c})}return n instanceof _t?i.credentialFromError(n):i.credentialFromResult(n)}function en(n,e){return e.catch(t=>{throw t instanceof _t&&HG(n,t),t}).then(t=>{let i=t.operationType,r=t.user;return{operationType:i,credential:UG(t),additionalUserInfo:cw(t),user:Ja.getOrCreate(r)}})}function Ow(n,e){return p(this,null,function*(){let t=yield e;return{verificationId:t.verificationId,confirm:i=>en(n,t.confirm(i))}})}var Pw=class{constructor(e,t){this.resolver=t,this.auth=jG(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return en(VM(this.auth),this.resolver.resolveSignIn(e))}};var Ja=class n{constructor(e){this._delegate=e,this.multiFactor=uw(e)}static getOrCreate(e){return n.USER_MAP.has(e)||n.USER_MAP.set(e,new n(e)),n.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){return p(this,null,function*(){return en(this.auth,Wp(this._delegate,e))})}linkWithPhoneNumber(e,t){return p(this,null,function*(){return Ow(this.auth,hw(this._delegate,e,t))})}linkWithPopup(e){return p(this,null,function*(){return en(this.auth,_w(this._delegate,e,Ti))})}linkWithRedirect(e){return p(this,null,function*(){return yield Nw(ke(this.auth)),Iw(this._delegate,e,Ti)})}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){return p(this,null,function*(){return en(this.auth,Gp(this._delegate,e))})}reauthenticateWithPhoneNumber(e,t){return Ow(this.auth,pw(this._delegate,e,t))}reauthenticateWithPopup(e){return en(this.auth,yw(this._delegate,e,Ti))}reauthenticateWithRedirect(e){return p(this,null,function*(){return yield Nw(ke(this.auth)),Ew(this._delegate,e,Ti)})}sendEmailVerification(e){return iw(this._delegate,e)}unlink(e){return p(this,null,function*(){return yield $0(this._delegate,e),this})}updateEmail(e){return sw(this._delegate,e)}updatePassword(e){return aw(this._delegate,e)}updatePhoneNumber(e){return gw(this._delegate,e)}updateProfile(e){return ow(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return rw(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Ja.USER_MAP=new WeakMap;var Au=M,kM=(()=>{class n{constructor(t,i){if(this.app=t,i.isInitialized()){this._delegate=i.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:r}=t.options;Au(r,"invalid-api-key",{appName:t.name}),Au(r,"invalid-api-key",{appName:t.name});let o=typeof window<"u"?Ti:void 0;this._delegate=i.initialize({options:{persistence:$G(r,t.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(O0),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ja.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,i){U0(this._delegate,t,i)}applyActionCode(t){return K0(this._delegate,t)}checkActionCode(t){return qp(this._delegate,t)}confirmPasswordReset(t,i){return Y0(this._delegate,t,i)}createUserWithEmailAndPassword(t,i){return p(this,null,function*(){return en(this._delegate,J0(this._delegate,t,i))})}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return nw(this._delegate,t)}isSignInWithEmailLink(t){return ew(this._delegate,t)}getRedirectResult(){return p(this,null,function*(){Au(kw(),this._delegate,"operation-not-supported-in-this-environment");let t=yield Cw(this._delegate,Ti);return t?en(this._delegate,Promise.resolve(t)):{credential:null,user:null}})}addFrameworkForLogging(t){MM(this._delegate,t)}onAuthStateChanged(t,i,r){let{next:o,error:s,complete:a}=NM(t,i,r);return this._delegate.onAuthStateChanged(o,s,a)}onIdTokenChanged(t,i,r){let{next:o,error:s,complete:a}=NM(t,i,r);return this._delegate.onIdTokenChanged(o,s,a)}sendSignInLinkToEmail(t,i){return Z0(this._delegate,t,i)}sendPasswordResetEmail(t,i){return q0(this._delegate,t,i||void 0)}setPersistence(t){return p(this,null,function*(){FG(this._delegate,t);let i;switch(t){case mn.SESSION:i=Si;break;case mn.LOCAL:i=(yield Nt(ts)._isAvailable())?ts:Ka;break;case mn.NONE:i=Kr;break;default:return ot("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(i)})}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return en(this._delegate,H0(this._delegate))}signInWithCredential(t){return en(this._delegate,Ya(this._delegate,t))}signInWithCustomToken(t){return en(this._delegate,G0(this._delegate,t))}signInWithEmailAndPassword(t,i){return en(this._delegate,Q0(this._delegate,t,i))}signInWithEmailLink(t,i){return en(this._delegate,tw(this._delegate,t,i))}signInWithPhoneNumber(t,i){return Ow(this._delegate,fw(this._delegate,t,i))}signInWithPopup(t){return p(this,null,function*(){return Au(kw(),this._delegate,"operation-not-supported-in-this-environment"),en(this._delegate,mw(this._delegate,t,Ti))})}signInWithRedirect(t){return p(this,null,function*(){return Au(kw(),this._delegate,"operation-not-supported-in-this-environment"),yield Nw(this._delegate),ww(this._delegate,t,Ti)})}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return X0(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=mn,n})();function NM(n,e,t){let i=n;typeof n!="function"&&({next:i,error:e,complete:t}=n);let r=i;return{next:s=>r(s&&Ja.getOrCreate(s)),error:e,complete:t}}function $G(n,e){let t=BG(n,e);if(typeof self<"u"&&!t.includes(ts)&&t.push(ts),typeof window<"u")for(let i of[Ka,Si])t.includes(i)||t.push(i);return t.includes(Kr)||t.push(Kr),t}var xu=class{static credential(e,t){return ns.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new ns(VM(Mn.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}};xu.PHONE_SIGN_IN_METHOD=ns.PHONE_SIGN_IN_METHOD;xu.PROVIDER_ID=ns.PROVIDER_ID;var WG=M,Lw=class{constructor(e,t,i=Mn.app()){WG(i.options?.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new bu(i.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var GG="auth-compat";function zG(n){n.INTERNAL.registerComponent(new Zt(GG,e=>{let t=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new kM(t,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Jr.EMAIL_SIGNIN,PASSWORD_RESET:Jr.PASSWORD_RESET,RECOVER_EMAIL:Jr.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Jr.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Jr.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Jr.VERIFY_EMAIL}},EmailAuthProvider:Su,FacebookAuthProvider:Vp,GithubAuthProvider:Up,GoogleAuthProvider:jp,OAuthProvider:Wa,SAMLAuthProvider:vu,PhoneAuthProvider:xu,PhoneMultiFactorGenerator:Tw,RecaptchaVerifier:Lw,TwitterAuthProvider:Hp,Auth:kM,AuthCredential:Di,Error:_t}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(TG,AG)}zG(Mn);var pr={production:!1,firebaseConfig:{apiKey:"AIzaSyCJoAvdMagPFHTG--zurc3RjBekWLJzvxo",authDomain:"codycolor-f2519.firebaseapp.com",databaseURL:"https://codycolor-f2519.firebaseio.com",projectId:"codycolor-f2519",storageBucket:"codycolor-f2519.appspot.com",messagingSenderId:"839718298178",appId:"1:839718298178:web:6e3b0cf34856eb12"},rabbit:{username:"guest",password:"guest",vHost:"/",socketUrl:"wss://codycolor.codemooc.net/api/ws"},webBaseUrl:"https://codycolor.codemooc.net"};var Jp=(()=>{class n{constructor(t,i){this.document=t,this.platformId=i,this.documentIsAccessible=ml(this.platformId)}static getCookieRegExp(t){let i=t.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+i+"|;\\s*"+i+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch{return t}}check(t){return this.documentIsAccessible?(t=encodeURIComponent(t),n.getCookieRegExp(t).test(this.document.cookie)):!1}get(t){if(this.check(t)){t=encodeURIComponent(t);let r=n.getCookieRegExp(t).exec(this.document.cookie);return r&&r[1]?n.safeDecodeURIComponent(r[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let t={},i=this.document;return i.cookie&&i.cookie!==""&&i.cookie.split(";").forEach(r=>{let[o,s]=r.split("=");t[n.safeDecodeURIComponent(o.replace(/^ /,""))]=n.safeDecodeURIComponent(s)}),t}set(t,i,r,o,s,a,c,l){if(!this.documentIsAccessible)return;if(typeof r=="number"||r instanceof Date||o||s||a||c){let h={expires:r,path:o,domain:s,secure:a,sameSite:c||"Lax",partitioned:l};this.set(t,i,h);return}let u=encodeURIComponent(t)+"="+encodeURIComponent(i)+";",d=r||{};if(d.expires)if(typeof d.expires=="number"){let h=new Date(new Date().getTime()+d.expires*1e3*60*60*24);u+="expires="+h.toUTCString()+";"}else u+="expires="+d.expires.toUTCString()+";";d.path&&(u+="path="+d.path+";"),d.domain&&(u+="domain="+d.domain+";"),d.secure===!1&&d.sameSite==="None"&&(d.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),d.secure&&(u+="secure;"),d.sameSite||(d.sameSite="Lax"),u+="sameSite="+d.sameSite+";",d.partitioned&&(u+="Partitioned;"),this.document.cookie=u}delete(t,i,r,o,s="Lax"){if(!this.documentIsAccessible)return;let a=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(t,"",{expires:a,path:i,domain:r,secure:o,sameSite:s})}deleteAll(t,i,r,o="Lax"){if(!this.documentIsAccessible)return;let s=this.getAll();for(let a in s)s.hasOwnProperty(a)&&this.delete(a,t,i,r,o)}static{this.\u0275fac=function(i){return new(i||n)(L(ce),L(Ji))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ot=class n{constructor(e){this.cookieService=e}initialized=!1;firebaseUserData={};serverUserData={};startCookieSignIn;cookieNickCallback;callbacks={};setAuthCallbacks(e){this.callbacks=e}setCookieNickCallback(e){this.serverUserData.nickname||(this.cookieNickCallback=e)}enableCookieSignIn(){this.startCookieSignIn=e=>{console.log("1/2 [CookieSignIn] - User",e.email),this.firebaseUserData=e;let t=this.cookieService.get("serverUserData");t?(console.log("2/2 [CookieSignIn] - Cookie nickname validated."),this.serverUserData=JSON.parse(t)):(console.log("2/2 [CookieSignIn] - Cookie nickname not found. Logging out."),this.logout()),this.cookieNickCallback&&(this.cookieNickCallback(this.serverUserData.nickname),this.cookieNickCallback=void 0)}}disableCookieSignIn(){this.startCookieSignIn=void 0}initializeAuth(){this.initialized||(Mn.initializeApp(pr.firebaseConfig),Mn.auth().onAuthStateChanged(e=>{e&&this.startCookieSignIn&&(this.startCookieSignIn(e),this.startCookieSignIn=void 0)}),this.initialized=!0)}logout(){this.cookieService.delete("serverUserData"),this.serverUserData={},this.firebaseUserData={},Mn.auth().signOut().then(()=>{this.callbacks.onFirebaseSignOut?.()})}deleteAccount(){Mn.auth().currentUser?.delete().then(()=>{this.cookieService.delete("serverUserData"),this.serverUserData={},this.firebaseUserData={},this.callbacks.onFirebaseUserDeleted?.()}).catch(()=>{this.callbacks.onFirebaseUserDeletedError?.()})}loginCompleted(){return!!(Object.keys(this.serverUserData).length&&Object.keys(this.firebaseUserData).length)}setFirebaseUserData(e){this.firebaseUserData=e}getFirebaseUserData(){return this.firebaseUserData}setServerUserData(e){this.cookieService.set("serverUserData",JSON.stringify(e)),this.serverUserData=e}getServerUserData(){return this.serverUserData}static \u0275fac=function(t){return new(t||n)(L(Jp))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};function HM(n,e){n.terminate=function(){let t=()=>{};this.onerror=t,this.onmessage=t,this.onopen=t;let i=new Date,r=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=s=>{let a=new Date().getTime()-i.getTime();e(`Discarded socket (#${r})  closed after ${a}ms, with code/reason: ${s.code}/${s.reason}`)},this.close(),o?.call(n,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}var as={LF:`
`,NULL:"\0"};var Mu=class n{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(e){let{command:t,headers:i,body:r,binaryBody:o,escapeHeaderValues:s,skipContentLengthHeader:a}=e;this.command=t,this.headers=Object.assign({},i||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=s||!1,this.skipContentLengthHeader=a||!1}static fromRawFrame(e,t){let i={},r=o=>o.replace(/^\s+|\s+$/g,"");for(let o of e.headers.reverse()){let s=o.indexOf(":"),a=r(o[0]),c=r(o[1]);t&&e.command!=="CONNECT"&&e.command!=="CONNECTED"&&(c=n.hdrValueUnEscape(c)),i[a]=c}return new n({command:e.command,headers:i,binaryBody:e.binaryBody,escapeHeaderValues:t})}toString(){return this.serializeCmdAndHeaders()}serialize(){let e=this.serializeCmdAndHeaders();return this.isBinaryBody?n.toUnit8Array(e,this._binaryBody).buffer:e+this._body+as.NULL}serializeCmdAndHeaders(){let e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(let t of Object.keys(this.headers||{})){let i=this.headers[t];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?e.push(`${t}:${n.hdrValueEscape(`${i}`)}`):e.push(`${t}:${i}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(as.LF)+as.LF+as.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){let e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?new TextEncoder().encode(e).length:0}static toUnit8Array(e,t){let i=new TextEncoder().encode(e),r=new Uint8Array([0]),o=new Uint8Array(i.length+t.length+r.length);return o.set(i),o.set(t,i.length),o.set(r,i.length+t.length),o}static marshall(e){return new n(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}};var Qp=class{constructor(e,t){this.onFrame=e,this.onIncomingPing=t,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,t=!1){let i;if(typeof e=="string"?i=this._encoder.encode(e):i=new Uint8Array(e),t&&i[i.length-1]!==0){let r=new Uint8Array(i.length+1);r.set(i,0),r[i.length]=0,i=r}for(let r=0;r<i.length;r++){let o=i[r];this._onByte(o)}}_collectFrame(e){if(e!==0&&e!==13){if(e===10){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(e!==13){if(e===10){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_collectHeaders(e){if(e!==13){if(e===10){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(e===58){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(e)}_collectHeaderValue(e){if(e!==13){if(e===10){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_setupCollectBody(){let e=this._results.headers.filter(t=>t[0]==="content-length")[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){if(e===0){this._retrievedBody();return}this._consumeByte(e)}_collectBodyFixedSize(e){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(e)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",e)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){let e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}};var gr=function(n){return n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED",n}(gr||{}),ei=function(n){return n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE",n}(ei||{}),Zp=function(n){return n[n.LINEAR=0]="LINEAR",n[n.EXPONENTIAL=1]="EXPONENTIAL",n}(Zp||{}),Qa=function(n){return n.Interval="interval",n.Worker="worker",n}(Qa||{});var eg=class{constructor(e,t=Qa.Interval,i){this._interval=e,this._strategy=t,this._debug=i,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(e){this.stop(),this.shouldUseWorker()?this.runWorker(e):this.runInterval(e)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Qa.Worker}runWorker(e){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=t=>e(t.data))}runInterval(e){if(this._debug("Using runInterval for outgoing pings"),!this._timer){let t=Date.now();this._timer=setInterval(()=>{e(Date.now()-t)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}};var ut=class{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}};ut.V1_0="1.0";ut.V1_1="1.1";ut.V1_2="1.2";ut.default=new ut([ut.V1_2,ut.V1_1,ut.V1_0]);var tg=class{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(e,t,i){this._client=e,this._webSocket=t,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===ut.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{let o=r.headers.subscription,s=this._subscriptions[o]||this.onUnhandledMessage,a=r,c=this,l=this._connectedVersion===ut.V1_2?a.headers.ack:a.headers["message-id"];a.ack=(u={})=>c.ack(l,o,u),a.nack=(u={})=>c.nack(l,o,u),s(a)},RECEIPT:r=>{let o=this._receiptWatchers[r.headers["receipt-id"]];o?(o(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=i.debug,this.stompVersions=i.stompVersions,this.connectHeaders=i.connectHeaders,this.disconnectHeaders=i.disconnectHeaders,this.heartbeatIncoming=i.heartbeatIncoming,this.heartbeatOutgoing=i.heartbeatOutgoing,this.splitLargeFrames=i.splitLargeFrames,this.maxWebSocketChunkSize=i.maxWebSocketChunkSize,this.forceBinaryWSFrames=i.forceBinaryWSFrames,this.logRawCommunication=i.logRawCommunication,this.appendMissingNULLonIncoming=i.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=i.discardWebsocketOnCommFailure,this.onConnect=i.onConnect,this.onDisconnect=i.onDisconnect,this.onStompError=i.onStompError,this.onWebSocketClose=i.onWebSocketClose,this.onWebSocketError=i.onWebSocketError,this.onUnhandledMessage=i.onUnhandledMessage,this.onUnhandledReceipt=i.onUnhandledReceipt,this.onUnhandledFrame=i.onUnhandledFrame}start(){let e=new Qp(t=>{let i=Mu.fromRawFrame(t,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${i}`),(this._serverFrameHandlers[i.command]||this.onUnhandledFrame)(i)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=t=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){let i=t.data instanceof ArrayBuffer?new TextDecoder().decode(t.data):t.data;this.debug(`<<< ${i}`)}e.parseChunk(t.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=t=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(t)},this._webSocket.onerror=t=>{this.onWebSocketError(t)},this._webSocket.onopen=()=>{let t=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),t["accept-version"]=this.stompVersions.supportedVersions(),t["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:t})}}_setupHeartbeat(e){if(e.version!==ut.V1_1&&e.version!==ut.V1_2||!e["heart-beat"])return;let[t,i]=e["heart-beat"].split(",").map(r=>parseInt(r,10));if(this.heartbeatOutgoing!==0&&i!==0){let r=Math.max(this.heartbeatOutgoing,i);this.debug(`send PING every ${r}ms`),this._pinger=new eg(r,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===gr.OPEN&&(this._webSocket.send(as.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&t!==0){let r=Math.max(this.heartbeatIncoming,t);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{let o=Date.now()-this._lastServerActivityTS;o>r*2&&(this.debug(`did not receive server activity for the last ${o}ms`),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===gr.CONNECTING||this._webSocket.readyState===gr.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&HM(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){let{command:t,headers:i,body:r,binaryBody:o,skipContentLengthHeader:s}=e,a=new Mu({command:t,headers:i,body:r,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:s}),c=a.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${a}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let l=c;for(;l.length>0;){let u=l.substring(0,this.maxWebSocketChunkSize);l=l.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug(`chunk sent = ${u.length}, remaining = ${l.length}`)}}}dispose(){if(this.connected)try{let e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,t=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(t)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===gr.CONNECTING||this._webSocket.readyState===gr.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){let{destination:t,headers:i,body:r,binaryBody:o,skipContentLengthHeader:s}=e,a=Object.assign({destination:t},i);this._transmit({command:"SEND",headers:a,body:r,binaryBody:o,skipContentLengthHeader:s})}watchForReceipt(e,t){this._receiptWatchers[e]=t}subscribe(e,t,i={}){i=Object.assign({},i),i.id||(i.id=`sub-${this._counter++}`),i.destination=e,this._subscriptions[i.id]=t,this._transmit({command:"SUBSCRIBE",headers:i});let r=this;return{id:i.id,unsubscribe(o){return r.unsubscribe(i.id,o)}}}unsubscribe(e,t={}){t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}begin(e){let t=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:t}});let i=this;return{id:t,commit(){i.commit(t)},abort(){i.abort(t)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,t,i={}){i=Object.assign({},i),this._connectedVersion===ut.V1_2?i.id=e:i["message-id"]=e,i.subscription=t,this._transmit({command:"ACK",headers:i})}nack(e,t,i={}){return i=Object.assign({},i),this._connectedVersion===ut.V1_2?i.id=e:i["message-id"]=e,i.subscription=t,this._transmit({command:"NACK",headers:i})}};var ng=class{get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===ei.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}constructor(e={}){this.stompVersions=ut.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=Zp.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Qa.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=ei.INACTIVE;let t=()=>{};this.debug=t,this.beforeConnect=t,this.onConnect=t,this.onDisconnect=t,this.onUnhandledMessage=t,this.onUnhandledReceipt=t,this.onUnhandledFrame=t,this.onStompError=t,this.onWebSocketClose=t,this.onWebSocketError=t,this.logRawCommunication=!1,this.onChangeState=t,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}configure(e){Object.assign(this,e),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){let e=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(ei.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===ei.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}_connect(){return p(this,null,function*(){if(yield this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");let e=this._createWebSocket();this._stompHandler=new tg(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:t=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(t)},onDisconnect:t=>{this.onDisconnect(t)},onStompError:t=>{this.onStompError(t)},onWebSocketClose:t=>{this._stompHandler=void 0,this.state===ei.DEACTIVATING&&this._changeState(ei.INACTIVE),this.onWebSocketClose(t),this.active&&this._schedule_reconnect()},onWebSocketError:t=>{this.onWebSocketError(t)},onUnhandledMessage:t=>{this.onUnhandledMessage(t)},onUnhandledReceipt:t=>{this.onUnhandledReceipt(t)},onUnhandledFrame:t=>{this.onUnhandledFrame(t)}}),this._stompHandler.start()})}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else if(this.brokerURL)e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return e.binaryType="arraybuffer",e}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Zp.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}deactivate(){return p(this,arguments,function*(e={}){let t=e.force||!1,i=this.active,r;if(this.state===ei.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(ei.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==gr.CLOSED){let o=this._stompHandler.onWebSocketClose;r=new Promise((s,a)=>{this._stompHandler.onWebSocketClose=c=>{o(c),s()}})}else return this._changeState(ei.INACTIVE),Promise.resolve();return t?this._stompHandler?.discardWebsocket():i&&this._disposeStompHandler(),r})}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,t){this._checkConnection(),this._stompHandler.watchForReceipt(e,t)}subscribe(e,t,i={}){return this._checkConnection(),this._stompHandler.subscribe(e,t,i)}unsubscribe(e,t={}){this._checkConnection(),this._stompHandler.unsubscribe(e,t)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,t,i={}){this._checkConnection(),this._stompHandler.ack(e,t,i)}nack(e,t,i={}){this._checkConnection(),this._stompHandler.nack(e,t,i)}};var MO=HP(xO());var Et=class n{data;gameTypes={bootmp:"bootmp",random:"random",custom:"custom",royale:"royale"};constructor(){console.log("Inizialize game data"),this.initializeGameData()}initializeGameData(){this.data=this.generateEmptyGameData()}initializeMatchData(){this.data.match=this.generateEmptyMatch(),this.data.matchRanking=[],this.data.globalRanking=[]}getData(){return this.data}edit(e){Object.assign(this.data,e)}getUser(){return console.log("Getting user data:"),console.log(this.data.user),this.data.user}editUser(e){Object.assign(this.data.user,e)}getEnemy(){return console.log("Getting enemy data:"),console.log(this.data.enemy),this.data.enemy}editEnemy(e){Object.assign(this.data.enemy,e)}getGeneral(){return console.log("Getting general data:"),console.log(this.data.general),this.data.general}editGeneral(e){console.log("Editing general data:"),console.log(e),Object.assign(this.data.general,e)}getAggregated(){return this.data.aggregated}editAggregated(e){Object.assign(this.data.aggregated,e)}getMatch(){return console.log("Getting match data:"),console.log(this.data.match),this.data.match}editMatch(e){Object.assign(this.data.match,e)}getGlobalRanking(){return this.data.globalRanking}editGlobalRanking(e){Object.assign(this.data.globalRanking,e);let t=this.data.general.gameType;if(t===this.gameTypes.random||t===this.gameTypes.custom){let[i,r]=this.data.globalRanking,o=i.playerId===this.data.user.playerId?i:r,s=o===i?r:i;Object.assign(this.data.userGlobalResult,o),Object.assign(this.data.enemyGlobalResult,s)}}getMatchRanking(){return this.data.matchRanking}editMatchRanking(e){Object.assign(this.data.matchRanking,e);let t=this.data.general.gameType;if(t===this.gameTypes.random||t===this.gameTypes.custom){let[i,r]=this.data.matchRanking,o=i.playerId===this.data.user.playerId?i:r,s=o===i?r:i;Object.assign(this.data.userMatchResult,o),Object.assign(this.data.enemyMatchResult,s)}}getUserMatchResult(){return this.data.userMatchResult}editUserMatchResult(e){Object.assign(this.data.userMatchResult,e)}getEnemyMatchResult(){return this.data.enemyMatchResult}editEnemyMatchResult(e){Object.assign(this.data.enemyMatchResult,e)}getUserGlobalResult(){return this.data.userGlobalResult}editUserGlobalResult(e){Object.assign(this.data.userGlobalResult,e)}getEnemyGlobalResult(){return this.data.enemyGlobalResult}editEnemyGlobalResult(e){Object.assign(this.data.enemyGlobalResult,e)}calculateMatchPoints(e){return e*2}calculateWinnerBonusPoints(e){return Math.floor(15*e/this.data.general.timerSetting)}generateNewMatchTiles(){let e=["R","Y","G"],t="";for(let i=0;i<25;i++)t+=e[Math.floor(Math.random()*3)];return this.formatMatchTiles(t)}formatMatchTiles(e){let t=[];for(let i=0;i<5;i++){let r=[];for(let o=0;o<5;o++)r.push(e[i*5+o]);t.push(r)}return t}formatTimeDecimals(e){let t=Math.floor(e/10%100).toString().padStart(2,"0"),i=Math.floor(e/1e3%60),r=Math.floor(e/6e4);return r?`${r}:${i}:${t}`:`${i}:${t}`}formatTimeMatchClock(e){let t=Math.floor(e/100%10),i=Math.floor(e/1e3%60).toString().padStart(2,"0"),r=Math.floor(e/6e4);return r?`${r}' ${i}`:`${i}:${t}`}formatTimeSeconds(e){let t=Math.floor(e%6e4/1e3).toString().padStart(2,"0"),i=Math.floor(e%36e5/6e4),r=Math.floor(e/36e5);return(r?r+":":"")+i+":"+t}formatTimeStatic(e){switch(e){case 15e3:return"15_SECONDS";case 3e4:return"30_SECONDS";case 6e4:return"1_MINUTE";case 12e4:return"2_MINUTES";default:return""}}formatChatDate(e){let t=new Date(e),i=t.getHours(),r=t.getMinutes().toString().padStart(2,"0");return`${i}:${r}`}getMatchWinner(){let{gameType:e,botSetting:t}=this.data.general,i=this.data.userMatchResult,r=this.data.enemyMatchResult;return e===this.gameTypes.royale?this.data.matchRanking[0]:t===0||i.pathLength>r.pathLength?i:i.pathLength<r.pathLength?r:i.time>r.time?i:i.time<r.time?r:{playerId:-1,nickname:"Draw!"}}getGameTypes(){return this.gameTypes}generateEmptyGameData(){return{general:this.generateEmptyGeneral(),user:this.generateEmptyUser(),enemy:this.generateEmptyUser(),aggregated:this.generateEmptyAggregated(),match:this.generateEmptyMatch(),matchRanking:[],globalRanking:[],userMatchResult:this.generatePlayerMatchResult(),userGlobalResult:this.generatePlayerGlobalResult(),enemyMatchResult:this.generatePlayerMatchResult(),enemyGlobalResult:this.generatePlayerGlobalResult()}}generateEmptyGeneral(){return{gameName:void 0,startDate:void 0,scheduledStart:!1,gameRoomId:-1,timerSetting:3e4,maxPlayersSetting:20,code:"0000",gameType:void 0,botSetting:-1}}generateEmptyUser(){return{nickname:"Anonymous",validated:!1,organizer:!1,playerId:-1}}generateEmptyAggregated(){return{connectedPlayers:0,positionedPlayers:0,readyPlayers:0,matchCount:0}}generateEmptyMatch(){return{tiles:void 0,enemyTime:-1,enemyPositioned:!1,time:-1,positioned:!1,winnerId:-1,startPosition:{side:-1,distance:-1}}}generatePlayerMatchResult(){return{nickname:"Anonymous",playerId:-1,time:-1,points:0,pathLength:0,startPosition:{side:-1,distance:-1}}}generatePlayerGlobalResult(){return{nickname:"Anonymous",playerId:-1,wonMatches:0,points:0}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var Hg=class n{constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var ro=class n{constructor(e,t,i,r){this.authHandler=e;this.gameDataService=t;this.sessionHandler=i;this.settings=r;this.debug=pr.rabbit.socketUrl!=="wss://codycolor.codemooc.net/api/ws"}client;connectedToBroker=!1;connectedToServer=!1;pageCallbacks={};heartbeatTimer;subscriptions={};lastMsgId;debug;endpoints={serverControlQueue:"/queue/serverControl",clientControlTopic:"/topic/clientsControl",generalTopic:"/topic/general",randomGameRoomsTopic:"/topic/gameRooms",customGameRoomsTopic:"/topic/custGameRooms",agaGameRoomsTopics:"/topic/agaGameRooms"};messageTypes={c_connectedSignal:"c_connectedSignal",s_generalInfo:"s_generalInfo",c_gameRequest:"c_gameRequest",s_gameResponse:"s_gameResponse",c_playerQuit:"c_playerQuit",s_gameQuit:"s_gameQuit",s_playerAdded:"s_playerAdded",s_playerRemoved:"s_playerRemoved",c_validation:"c_validation",c_ready:"c_ready",s_startMatch:"s_startMatch",c_positioned:"c_positioned",s_timerSync:"s_timerSync",s_startAnimation:"s_startAnimation",c_endAnimation:"c_endAnimation",s_endMatch:"s_endMatch",c_heartbeat:"c_heartbeat",c_chat:"c_chat",c_signUpRequest:"c_signUpRequest",c_logInRequest:"c_logInRequest",s_authResponse:"s_authResponse",c_userDeleteRequest:"c_userDeleteRequest",s_userDeleteResponse:"s_userDeleteResponse",c_rankingsRequest:"c_rankingsRequest",s_rankingsResponse:"s_rankingsResponse"};connect(){this.client=new ng({brokerURL:pr.rabbit.socketUrl,connectHeaders:{login:pr.rabbit.username,passcode:pr.rabbit.password},debug:e=>{this.debug&&console.log(e)},reconnectDelay:5e3,heartbeatIncoming:5e3,heartbeatOutgoing:5e3}),this.client.onConnect=()=>this.onConnected(),this.client.onWebSocketClose=()=>this.onConnectionLost(),this.client.activate()}setPageCallbacks(e){this.pageCallbacks=e}getBrokerConnectionState(){return this.connectedToBroker}getServerConnectionState(){return this.connectedToServer}subscribeGameRoom(){let e=this.getGameRoomEndpoint();this.subscriptions.gameRoom=this.client.subscribe(e,t=>this.handleIncomingMessage(t)),this.heartbeatTimer=setInterval(()=>{this.sendInServerControlQueue({msgType:this.messageTypes.c_heartbeat,gameRoomId:this.gameDataService.getGeneral().gameRoomId,playerId:this.gameDataService.getUser().playerId,gameType:this.gameDataService.getGeneral().gameType})},5e3)}quitGame(){this.subscriptions.gameRoom?.unsubscribe(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.pageCallbacks={}}onConnected(){this.connectedToBroker=!0;let e=`${this.endpoints.clientControlTopic}.${this.sessionHandler.getSessionId()}`;this.subscriptions.serverDirect=this.client.subscribe(e,t=>this.handleIncomingMessage(t)),this.subscriptions.general=this.client.subscribe(this.endpoints.generalTopic,t=>this.handleIncomingMessage(t)),this.sendInServerControlQueue({msgType:this.messageTypes.c_connectedSignal,correlationId:this.sessionHandler.getSessionId()}),this.pageCallbacks?.onConnected?.()}onConnectionLost(){this.connectedToBroker=!1,this.connectedToServer=!1,this.pageCallbacks?.onConnectionLost?.()}sendInServerControlQueue(e){this.debug&&console.log("DEBUG: Sent message in server queue:",e),e.msgId=Math.floor(Math.random()*1e5).toString(),this.client.publish({destination:this.endpoints.serverControlQueue,body:JSON.stringify(e)})}sendInGameRoomTopic(e){this.debug&&console.log("DEBUG: Sent message in topic:",e),!(this.gameDataService.getGeneral().gameRoomId===-1||this.gameDataService.getUser().playerId===-1)&&(e.msgId=Math.floor(Math.random()*1e5).toString(),this.client.publish({destination:this.getGameRoomEndpoint(),body:JSON.stringify(e)}))}getGameRoomEndpoint(){let e=this.gameDataService.getGeneral().gameType,t=this.gameDataService.getGeneral().gameRoomId;return e===this.gameDataService.getGameTypes().random?`${this.endpoints.randomGameRoomsTopic}.${t}`:e===this.gameDataService.getGameTypes().custom?`${this.endpoints.customGameRoomsTopic}.${t}`:e===this.gameDataService.getGameTypes().royale?`${this.endpoints.agaGameRoomsTopics}.${t}`:""}handleIncomingMessage(e){this.debug&&console.log("DEBUG: Received message:",e.body);let t=JSON.parse(e.body);if(t.gameData&&(t.gameData=JSON.parse(MO.decompress(t.gameData,{inputEncoding:"StorageBinaryString"}))),this.lastMsgId===t.msgId){console.log("Received duplicate message. Ignored.");return}this.lastMsgId=t.msgId;let i=this.pageCallbacks;switch(t.msgType){case this.messageTypes.s_gameResponse:i?.onGameRequestResponse?.(t);break;case this.messageTypes.s_authResponse:i?.onLogInResponse?.(t);break;case this.messageTypes.s_userDeleteResponse:i?.onUserDeletedResponse?.(t);break;case this.messageTypes.s_rankingsResponse:i?.onRankingsResponse?.(t);break;case this.messageTypes.s_generalInfo:this.connectedToServer=!0,this.sessionHandler.setGeneralInfo({totalMatches:t.totalMatches,connectedPlayers:t.connectedPlayers,randomWaitingPlayers:t.randomWaitingPlayers,requiredClientVersion:t.requiredClientVersion}),i?.onGeneralInfoMessage?.(t);break;case this.messageTypes.c_ready:t.playerId!==this.gameDataService.getUser().playerId&&i?.onReadyMessage?.(t);break;case this.messageTypes.c_positioned:t.playerId!==this.gameDataService.getUser().playerId&&i?.onEnemyPositioned?.(t);break;case this.messageTypes.c_chat:t.playerId!==this.gameDataService.getUser().playerId&&i?.onChatMessage?.(t);break;case this.messageTypes.s_startAnimation:i?.onStartAnimation?.(t);break;case this.messageTypes.s_startMatch:i?.onStartMatch?.(t);break;case this.messageTypes.s_endMatch:i?.onEndMatch?.(t);break;case this.messageTypes.s_gameQuit:i?.onGameQuit?.(t);break;case this.messageTypes.s_playerAdded:i?.onPlayerAdded?.(t);break;case this.messageTypes.s_playerRemoved:i?.onPlayerRemoved?.(t);break}}sendGameRequest(){this.sendInServerControlQueue({msgType:this.messageTypes.c_gameRequest,user:this.gameDataService.getUser(),general:this.gameDataService.getGeneral(),gameType:this.gameDataService.getGeneral().gameType,userId:this.authHandler.getFirebaseUserData().uid,correlationId:this.sessionHandler.getSessionId(),clientVersion:this.sessionHandler.getClientVersion()})}sendSignUpRequest(e){this.sendInServerControlQueue({msgType:this.messageTypes.c_signUpRequest,nickname:e,email:this.authHandler.getFirebaseUserData().email,correlationId:this.sessionHandler.getSessionId(),userId:this.authHandler.getFirebaseUserData().uid})}sendLogInRequest(){this.sendInServerControlQueue({msgType:this.messageTypes.c_logInRequest,correlationId:this.sessionHandler.getSessionId(),userId:this.authHandler.getFirebaseUserData().uid})}sendRankingsRequest(){this.sendInServerControlQueue({msgType:this.messageTypes.c_rankingsRequest,correlationId:this.sessionHandler.getSessionId()})}sendUserDeleteRequest(){this.sendInServerControlQueue({msgType:this.messageTypes.c_userDeleteRequest,correlationId:this.sessionHandler.getSessionId(),userId:this.authHandler.getFirebaseUserData().uid})}sendReadyMessage(){this.sendInGameRoomTopic({msgType:this.messageTypes.c_ready,gameRoomId:this.gameDataService.getGeneral().gameRoomId,playerId:this.gameDataService.getUser().playerId,gameType:this.gameDataService.getGeneral().gameType,clientDirect:!0})}sendValidationMessage(){this.sendInGameRoomTopic({msgType:this.messageTypes.c_validation,organizer:this.gameDataService.getUser().organizer,gameRoomId:this.gameDataService.getGeneral().gameRoomId,playerId:this.gameDataService.getUser().playerId,nickname:this.gameDataService.getUser().nickname,gameType:this.gameDataService.getGeneral().gameType})}sendPlayerPositionedMessage(){this.sendInGameRoomTopic({msgType:this.messageTypes.c_positioned,gameRoomId:this.gameDataService.getGeneral().gameRoomId,playerId:this.gameDataService.getUser().playerId,gameType:this.gameDataService.getGeneral().gameType,matchTime:this.gameDataService.getMatch().time,side:this.gameDataService.getMatch().startPosition.side,distance:this.gameDataService.getMatch().startPosition.distance})}sendPlayerQuitRequest(){this.sendInGameRoomTopic({msgType:this.messageTypes.c_playerQuit,gameRoomId:this.gameDataService.getGeneral().gameRoomId,playerId:this.gameDataService.getUser().playerId,gameType:this.gameDataService.getGeneral().gameType})}sendEndAnimationMessage(){this.sendInGameRoomTopic({msgType:this.messageTypes.c_endAnimation,gameRoomId:this.gameDataService.getGeneral().gameRoomId,playerId:this.gameDataService.getUser().playerId,gameType:this.gameDataService.getGeneral().gameType})}sendChatMessage(e){let t={msgType:this.messageTypes.c_chat,gameRoomId:this.gameDataService.getGeneral().gameRoomId,playerId:this.gameDataService.getUser().playerId,sender:this.gameDataService.getUser().nickname,body:e,date:new Date().getTime(),clientDirect:!0,gameType:this.gameDataService.getGeneral().gameType};return this.sendInGameRoomTopic(t),t}static \u0275fac=function(t){return new(t||n)(L(Ot),L(Et),L(yt),L(Hg))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var rn=class n{constructor(e,t){this.router=e;this.location=t;this.initBackNavigationBlock()}backBlock=!0;initBackNavigationBlock(){history.pushState(null,"",location.href),window.addEventListener("popstate",()=>{this.backBlock?(alert("Use the in-game buttons to navigate!"),history.pushState(null,"",location.href)):this.backBlock=!0})}blockBackNavigation(){this.backBlock=!0}allowBackNavigationOnce(){this.backBlock=!1}goToPage(e){this.allowBackNavigationOnce(),this.router.navigate([e],{queryParams:{}})}static \u0275fac=function(t){return new(t||n)(L(Ce),L(gi))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var It=class n{constructor(e){this.cookies=e;this.musicBase.loop=!0,this.ensureAudioCookie()}MUSIC_SRC="assets/audio/music.mp3";musicBase=new Audio(this.MUSIC_SRC);isAudioEnabled;ensureAudioCookie(){if(this.isAudioEnabled===void 0){let e=this.cookies.get("audioEnabled");e?this.isAudioEnabled=e==="true":(this.cookies.set("audioEnabled","true"),this.isAudioEnabled=!0)}}isEnabled(){return this.isAudioEnabled===!0}toggleBase(){this.isEnabled()?(this.isAudioEnabled=!1,this.cookies.set("audioEnabled","false"),this.musicBase.pause()):(this.isAudioEnabled=!0,this.cookies.set("audioEnabled","true"),this.musicBase.play())}stopAudioBackground(){this.isEnabled()&&(this.isAudioEnabled=!1,this.musicBase.pause())}playAudioForeground(){!this.isEnabled()&&this.cookies.get("audioEnabled")==="true"&&(this.isAudioEnabled=!0,this.musicBase.play())}splashStartBase(){this.isEnabled()&&this.musicBase.paused&&this.musicBase.play()}playSound(e){this.isEnabled()&&new Audio(`assets/audio/${e}.mp3`).play().catch(i=>console.warn("Sound play failed:",i))}static \u0275fac=function(t){return new(t||n)(L(Jp))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var on=class n{constructor(e){this.audio=e;this.visibilityChangeSub=Wc(document,"visibilitychange").subscribe(()=>this.handleVisibilityChange())}backgroundTimer;deadlineCallback;visibilityChangeSub;setDeadlineCallback(e){this.deadlineCallback=e}handleVisibilityChange(){document.visibilityState==="visible"?this.backgroundTimer?(clearTimeout(this.backgroundTimer),this.backgroundTimer=void 0,this.audio.playAudioForeground()):this.audio.playAudioForeground():(this.audio.stopAudioBackground(),this.backgroundTimer=setTimeout(()=>{this.deadlineCallback&&this.deadlineCallback()},15e3))}ngOnDestroy(){this.visibilityChangeSub.unsubscribe(),this.backgroundTimer&&clearTimeout(this.backgroundTimer)}static \u0275fac=function(t){return new(t||n)(L(It))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ec=class n{chatMessages=[];chatHintsPreMatch=[];chatHintsAfterMatch=[];constructor(){let e=["HI","WELCOME","I_FEEL_STRONG_TODAY","I_M_READY","HAPPY_TO_PLAY_WITH_YOU","ARE_YOU_READY","PLAYING_WITH_FRIENDS","FROM_NORTH","FROM_SOUTH","FROM_WEST","FROM_EAST","WELLDONE","YOU_MADE_A_GREAT_SCORE","IT_WAS_FUN","DO_BETTER_NEXT_TIME","THANKS","LET_S_PLAY_AGAIN","BYE","SEE_YOU_NEXT_TIME","EMOJI_1","EMOJI_2","EMOJI_3","EMOJI_4","EMOJI_5","EMOJI_6","EMOJI_7","EMOJI_8"];this.chatHintsPreMatch=[...e],this.chatHintsAfterMatch=[...e]}getChatMessages(){return this.chatMessages}getChatHintsPreMatch(){return this.chatHintsPreMatch}getChatHintsAfterMatch(){return this.chatHintsAfterMatch}enqueueChatMessage(e){this.chatMessages.push(e),this.chatMessages.sort((t,i)=>t.date<i.date?1:t.date>i.date?-1:0),this.chatMessages.length>10&&this.chatMessages.splice(10,1)}clearChat(){this.chatMessages=[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var sn=class n{constructor(e){this.translate=e;this.initLanguage()}defaultLang="it";supportedLangs=["it","en","hu"];initLanguage(){this.translate.addLangs(this.supportedLangs),this.translate.setDefaultLang(this.defaultLang);let e=localStorage.getItem("language"),t=this.translate.getBrowserLang()??"",i=e&&this.supportedLangs.includes(e)?e:this.supportedLangs.includes(t)?t:this.defaultLang;this.translate.use(i)}getCurrentLanguage(){return this.translate.currentLang}changeLanguage(e){this.supportedLangs.includes(e)&&(this.translate.use(e),localStorage.setItem("language",e))}getSupportedLanguages(){return this.supportedLangs}translateM(e){return p(this,null,function*(){return iy(this.translate.get(e))})}setTranslation(e,t){return p(this,null,function*(){let i=yield this.translateM(t);return this.translate.setTranslation(this.getCurrentLanguage(),{[e]:i},!0),i})}static \u0275fac=function(t){return new(t||n)(L(Me))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var EY=n=>({randomWaitingPlayers:n}),IY=n=>({enemyNickname:n});function CY(n,e){if(n&1){let t=Re();y(0,"div",10)(1,"form",null,0)(3,"ul",11)(4,"li",12)(5,"h2"),w(6),x(7,"translate"),m()(),y(8,"li",13),w(9),x(10,"translate"),m(),y(11,"li",12)(12,"label",14),w(13),x(14,"translate"),m()(),y(15,"li",13)(16,"input",15,1),x(18,"translate"),Nr("ngModelChange",function(r){J(t);let o=N();return ko(o.nickname,r)||(o.nickname=r),Q(r)}),m()(),y(19,"li",16)(20,"button",17),B("click",function(){J(t);let r=N();return Q(r.requestMMaking())}),V(21,"span",18),x(22,"translate"),y(23,"span",19),w(24),m()()(),y(25,"li",13)(26,"p",20),w(27),x(28,"translate"),m()()()()()}if(n&2){let t=Mo(2),i=N();g(6),F(O(7,10,"RANDOM_MATCH")),g(3),k(" ",O(10,12,"RANDOM_MMAKING_DESC")," "),g(4),F(O(14,14,"NICKNAME")),g(3),kr("ngModel",i.nickname),D("placeholder",O(18,16,"NICKNAME_EXAMPLE"))("disabled",i.userLogged),g(4),D("disabled",!t.valid||i.mmakingRequested),g(),D("innerHTML",O(22,18,"FIND_ENEMY"),fa),g(3),F("keyboard_double_arrow_right"),g(3),k(" ",Jt(28,20,"ENEMIES_WAITING",pi(23,EY,i.randomWaitingPlayers))," ")}}function DY(n,e){if(n&1&&(y(0,"div",10)(1,"ul",11)(2,"li",13)(3,"div",21),V(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div"),m()(),y(13,"li",13)(14,"div",20),w(15),x(16,"translate"),V(17,"br"),w(18),m()()()()),n&2){let t=N();g(15),k(" ",O(16,2,"WAITING_NEW_PLAYERS"),""),g(3),k(" ",t.mmakingTimerFormatter(t.mmakingTimerValue)," ")}}function SY(n,e){if(n&1){let t=Re();y(0,"div",22)(1,"ul",11)(2,"li",13),w(3),x(4,"translate"),m(),y(5,"li",12)(6,"button",23),B("click",function(){J(t);let r=N();return Q(r.playerReady())}),w(7),x(8,"translate"),V(9,"i",24),m()()()()}if(n&2){let t=N();g(3),k(" ",Jt(4,3,"NEW_ENEMY",pi(8,IY,t.enemy.nickname))," "),g(3),D("disabled",t.readyClicked),g(),k(" ",O(8,6,"START")," ")}}function TY(n,e){n&1&&(y(0,"div",25)(1,"ul",11)(2,"li",13)(3,"div",21),V(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div"),m()(),y(13,"li",13)(14,"div",20),w(15),x(16,"translate"),m()()()()),n&2&&(g(15),F(O(16,1,"ENEMY_WAIT")))}function AY(n,e){if(n&1&&(y(0,"div",31)(1,"div",32)(2,"div",33)(3,"div",34),w(4),m(),w(5),x(6,"translate"),m()()()),n&2){let t=e.$implicit,i=N(2);g(2),D("ngClass",i.getBubbleStyle(t)),g(2),F(t.sender),g(),k(" ",O(6,3,t.body)," ")}}function RY(n,e){if(n&1){let t=Re();y(0,"div",35)(1,"button",36),B("click",function(){let r=J(t).$implicit,o=N(2);return Q(o.sendChatMessage(r))}),w(2),x(3,"translate"),m()()}if(n&2){let t=e.$implicit;g(2),k(" ",O(3,1,t)," ")}}function xY(n,e){if(n&1&&(y(0,"div",26)(1,"div",27),w(2),x(3,"translate"),Y(4,AY,7,5,"div",28),m(),y(5,"div",29),w(6),x(7,"translate"),Y(8,RY,4,3,"div",30),m()()),n&2){let t=N();g(2),k(" ",O(3,4,"CHAT_TITLE")," "),g(2),D("ngForOf",t.chatBubbles),g(2),k(" ",O(7,6,"CHAT_SEND")," "),g(2),D("ngForOf",t.chatHints)}}var $g=class n{constructor(e,t,i,r,o,s,a,c,l,u,d){this.authHandler=e;this.rabbit=t;this.gameData=i;this.router=r;this.navigation=o;this.audio=s;this.visibility=a;this.chat=c;this.sessionHandler=l;this.translate=u;this.translation=d}nickname="";userNickname="";userLogged=!1;mmakingRequested=!1;mmakingState="nicknameSelection";screens={loadingScreen:"loadingScreen",nicknameSelection:"nicknameSelection",waitingEnemy:"waitingEnemy",enemyFound:"enemyFound",waitingReady:"waitingReady"};mmakingTimerValue=12e4;enemy={};enemyReady=!1;chatBubbles=[];chatHints=[];readyClicked=!1;exitGameModal=!1;forceExitModal=!1;forceExitText="";languageModal=!1;basePlaying=!1;randomWaitingPlayers="";mmakingTimerId;subscriptions=[];ngOnInit(){this.initMatchmaking()}ngOnDestroy(){this.clearTimers(),this.subscriptions.forEach(e=>e.unsubscribe())}initMatchmaking(){if(this.gameData.getGeneral().gameType=this.gameData.getGameTypes().random,this.enemy=this.gameData.getEnemy(),this.navigation.blockBackNavigation(),this.sessionHandler.isSessionInvalid()){this.quitGame(),this.router.navigate(["/"]);return}if(this.visibility.setDeadlineCallback(()=>{this.rabbit.sendPlayerQuitRequest(),this.quitGame(),this.translation.setTranslation("forceExitText","FORCE_EXIT").then(e=>{this.forceExitText=e,this.forceExitModal=!0})}),this.userLogged=this.authHandler.loginCompleted(),this.userLogged){let e=this.authHandler.getServerUserData();this.nickname=this.userNickname=e.nickname}else this.translation.setTranslation("userNickname","NOT_LOGGED").then(e=>{this.userNickname=e});this.changeScreen(this.screens.nicknameSelection),this.randomWaitingPlayers=this.sessionHandler.getRandomWaitingPlayers().toString(),this.chatBubbles=this.chat.getChatMessages(),this.chatHints=this.chat.getChatHintsPreMatch(),this.initPageCallbacks()}changeScreen(e){this.mmakingState=this.screens.loadingScreen,setTimeout(()=>this.mmakingState=e,200)}initPageCallbacks(){this.rabbit.setPageCallbacks({onGeneralInfoMessage:()=>{this.randomWaitingPlayers=this.sessionHandler.getRandomWaitingPlayers().toString()},onGameRequestResponse:e=>{this.gameData.editGeneral(e.general),this.gameData.editUser(e.user),this.gameData.editEnemy(e.enemy),this.rabbit.subscribeGameRoom(),this.gameData.getEnemy().validated?(this.clearTimers(),this.changeScreen(this.screens.enemyFound)):(this.startMatchmakingTimer(),this.changeScreen(this.screens.waitingEnemy))},onPlayerAdded:e=>{e.addedPlayerId!==this.gameData.getUser().playerId&&(this.audio.playSound("enemy-found"),this.gameData.editEnemy(e.addedPlayer),this.clearTimers(),this.changeScreen(this.screens.enemyFound))},onReadyMessage:()=>this.enemyReady=!0,onStartMatch:e=>{this.gameData.editMatch({tiles:this.gameData.formatMatchTiles(e.tiles)}),this.router.navigate(["/arcade-match"])},onGameQuit:()=>this.handleForcedExit("ENEMY_LEFT"),onConnectionLost:()=>this.handleForcedExit("FORCE_EXIT"),onChatMessage:e=>{this.audio.playSound("roby-over"),this.chat.enqueueChatMessage(e),this.chatBubbles=this.chat.getChatMessages()}})}startMatchmakingTimer(){this.clearTimers(),this.mmakingTimerId=setInterval(()=>{this.mmakingTimerValue-=1e3,this.mmakingTimerValue<=0&&(this.quitGame(),this.translation.translateM("NO_NEW_ENEMY").then(e=>{this.forceExitText=e,this.forceExitModal=!0}),this.clearTimers())},1e3)}clearTimers(){this.mmakingTimerId&&(clearInterval(this.mmakingTimerId),this.mmakingTimerId=null)}quitGame(){this.rabbit.quitGame(),this.gameData.initializeGameData(),this.chat.clearChat(),this.clearTimers()}handleForcedExit(e){this.quitGame(),this.translation.setTranslation("forceExitText",e).then(t=>{this.forceExitText=t,this.forceExitModal=!0})}getBubbleStyle(e){return e.playerId===this.gameData.getUser().playerId?"chat--bubble-player":"chat--bubble-enemy"}sendChatMessage(e){this.audio.playSound("menu-click");let t=this.rabbit.sendChatMessage(e);this.chat.enqueueChatMessage(t),this.chatBubbles=this.chat.getChatMessages()}requestMMaking(){this.mmakingRequested=!0,this.audio.playSound("menu-click"),this.gameData.editUser({nickname:this.nickname}),this.rabbit.sendGameRequest()}playerReady(){this.audio.playSound("menu-click"),this.readyClicked=!0,this.rabbit.sendReadyMessage(),this.enemyReady||this.changeScreen(this.screens.waitingReady)}exitGame(){this.audio.playSound("menu-click"),this.exitGameModal=!0}continueExitGame(){this.audio.playSound("menu-click"),this.rabbit.sendPlayerQuitRequest(),this.quitGame(),this.router.navigate(["/home"])}stopExitGame(){this.audio.playSound("menu-click"),this.exitGameModal=!1}continueForceExit(){this.audio.playSound("menu-click"),this.router.navigate(["/home"])}openLanguageModal(){this.languageModal=!0,this.audio.playSound("menu-click")}closeLanguageModal(){this.languageModal=!1,this.audio.playSound("menu-click")}changeLanguage(e){this.translation.changeLanguage(e),this.languageModal=!1,this.audio.playSound("menu-click"),this.authHandler.loginCompleted()||this.translation.setTranslation("userNickname","NOT_LOGGED").then(t=>this.userNickname=t)}toggleBase(){this.audio.toggleBase(),this.basePlaying=this.audio.isEnabled()}mmakingTimerFormatter(e){let t=Math.floor(e/1e3);return`${Math.floor(t/60)}:${("0"+t%60).slice(-2)}`}static \u0275fac=function(t){return new(t||n)(T(Ot),T(ro),T(Et),T(Ce),T(rn),T(It),T(on),T(Ec),T(yt),T(Me),T(sn))};static \u0275cmp=W({type:n,selectors:[["app-random-mmaking"]],decls:9,vars:5,consts:[["nickForm","ngForm"],["nicknameModel","ngModel"],["id","random-mmaking",1,"page"],[1,"page--wrapper"],[1,"page--body"],["class","page--component",4,"ngIf"],["id","enemy-found","class","page--component",4,"ngIf"],["id","waiting-confirm","class","page--component",4,"ngIf"],["class","chat",4,"ngIf"],[1,"page--push"],[1,"page--component"],[1,"list"],[1,"list--simple-element"],[1,"list--spaced-element"],["for","nickname"],["type","text","name","nickname","id","nickname","maxlength","22","required","","autofocus","",1,"standard-input",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"list--spaced-element","flex","justify-center"],[1,"navigation--button","flashing-animation","flex","items-end","gap-4",3,"click","disabled"],[3,"innerHTML"],[1,"material-symbols-outlined","inline-block","animate-slide-left"],[1,"flashing-animation"],[1,"loading-spinner"],["id","enemy-found",1,"page--component"],[1,"navigation--button","flashing-animation",3,"click","disabled"],[1,"fas","fa-angle-double-right","navigation--icon-in-text","floating-right-animation"],["id","waiting-confirm",1,"page--component"],[1,"chat"],[1,"chat--bubbles-container"],["class","chat--bubbles-sub-container",4,"ngFor","ngForOf"],[1,"chat--hints-container"],["class","chat--hints-sub-container",4,"ngFor","ngForOf"],[1,"chat--bubbles-sub-container"],[1,"chat--bubble-row"],[3,"ngClass"],[1,"chat--bubble-sender"],[1,"chat--hints-sub-container"],[1,"chat--hint",3,"click"]],template:function(t,i){t&1&&(y(0,"div",2)(1,"div",3)(2,"div",4),Y(3,CY,29,25,"div",5)(4,DY,19,4,"div",5)(5,SY,10,10,"div",6)(6,TY,17,3,"div",7)(7,xY,9,8,"div",8),m(),V(8,"div",9),m()()),t&2&&(g(3),D("ngIf",i.mmakingState===i.screens.nicknameSelection),g(),D("ngIf",i.mmakingState===i.screens.waitingEnemy),g(),D("ngIf",i.mmakingState===i.screens.enemyFound),g(),D("ngIf",i.mmakingState===i.screens.waitingReady),g(),D("ngIf",i.mmakingState===i.screens.waitingReady||i.mmakingState===i.screens.enemyFound))},dependencies:[He,nt,Ue,Ut,mi,St,Fa,La,Hr,Oa,Pa,Wo,Go,$o,Ho],encapsulation:2})};var Cc=class n{constructor(){}copyTextToClipboard(e){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(e).catch(t=>{console.error("Clipboard write failed",t)});else{let t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}shareText(e,t,i){let r=!1;return navigator.share?navigator.share({title:e,text:t,url:i}).then(()=>console.log("Thanks for sharing!")).catch(o=>console.error("Share failed",o)):(r=!0,this.copyTextToClipboard(`${t} Play with me in ${i}`)),r}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var MY=n=>({"flashing-component":n}),kY=(n,e)=>({enemyNickname:n,totTime:e}),NY=n=>({enemyNickname:n});function OY(n,e){if(n&1&&(y(0,"li",32),w(1),m()),n&2){let t=N(2);D("ngClass",pi(2,MY,t.joinMessage)),g(),k(" ",t.joinMessage," ")}}function PY(n,e){if(n&1){let t=Re();y(0,"div",22)(1,"ul",23)(2,"li",24)(3,"h2"),w(4),x(5,"translate"),m()(),y(6,"li",25),w(7),x(8,"translate"),m(),y(9,"li",25)(10,"button",26),B("click",function(){J(t);let r=N();return Q(r.goToCreateMatch())}),y(11,"span"),w(12),x(13,"translate"),m(),V(14,"i",27),m()()(),y(15,"form",null,0)(17,"ul",23)(18,"li",24)(19,"h2"),w(20),x(21,"translate"),m()(),y(22,"li",25),w(23),x(24,"translate"),m(),y(25,"li",24)(26,"label",28),w(27),x(28,"translate"),m()(),y(29,"li",25)(30,"input",29,1),x(32,"translate"),Nr("ngModelChange",function(r){J(t);let o=N();return ko(o.codeValue,r)||(o.codeValue=r),Q(r)}),m()(),y(33,"li",25)(34,"button",26),B("click",function(){J(t);let r=N();return Q(r.joinGame(r.codeValue))}),w(35),x(36,"translate"),V(37,"i",30),m()(),Y(38,OY,2,4,"li",31),m()()()}if(n&2){let t=Mo(31),i=N();g(4),F(O(5,12,"CUSTOM_MATCH")),g(3),k(" ",O(8,14,"CUSTOM_MATCH_DESC")," "),g(3),D("disabled",i.mmakingRequested),g(2),F(O(13,16,"NEW_CUSTOM_MATCH")),g(8),F(O(21,18,"JOIN_TITLE")),g(3),F(O(24,20,"JOIN_DESC")),g(4),F(O(28,22,"CODE")),g(3),Zf("placeholder",O(32,24,"CODE_EXAMPLE")),kr("ngModel",i.codeValue),g(4),D("disabled",t.invalid||i.mmakingRequested),g(),k(" ",O(36,26,"JOIN")," "),g(3),D("ngIf",i.joinMessage)}}function LY(n,e){if(n&1){let t=Re();y(0,"div",22)(1,"form",null,2)(3,"ul",23)(4,"li",25),w(5),x(6,"translate"),m(),y(7,"li",24)(8,"label",33),w(9),x(10,"translate"),m()(),y(11,"li",25)(12,"input",34,3),x(14,"translate"),Nr("ngModelChange",function(r){J(t);let o=N();return ko(o.nickname,r)||(o.nickname=r),Q(r)}),m()(),y(15,"li",25)(16,"button",26),B("click",function(){J(t);let r=N();return Q(r.validPlayer())}),w(17),x(18,"translate"),V(19,"i",27),m()()()()()}if(n&2){let t=Mo(13),i=N();g(5),k(" ",Jt(6,7,"MATCH_JOINED",nr(16,kY,i.enemy.nickname,i.totTime))," "),g(4),F(O(10,10,"NICKNAME")),g(3),Zf("placeholder",O(14,12,"NICKNAME_EXAMPLE")),kr("ngModel",i.nickname),D("disabled",i.userLogged),g(4),D("disabled",t.invalid||i.playerValidated),g(),k(" ",O(18,14,"START")," ")}}function FY(n,e){n&1&&(y(0,"div",40),V(1,"i",41),w(2),x(3,"translate"),m()),n&2&&(g(2),k(" ",O(3,1,"COPIED")," "))}function BY(n,e){n&1&&(y(0,"div",40),V(1,"i",41),w(2),x(3,"translate"),m()),n&2&&(g(2),k(" ",O(3,1,"COPIED")," "))}function VY(n,e){if(n&1){let t=Re();y(0,"div",22)(1,"ul",23)(2,"li",25),w(3),x(4,"translate"),m(),y(5,"li",25)(6,"div",35),B("click",function(){J(t);let r=N();return Q(r.copyCode())}),y(7,"div",36),w(8),m(),Y(9,FY,4,3,"div",37),m()(),y(10,"li",25),w(11),x(12,"translate"),m(),y(13,"li",25)(14,"div",35),B("click",function(){J(t);let r=N();return Q(r.copyLink())}),y(15,"div",38),w(16),m(),Y(17,BY,4,3,"div",37),m()(),y(18,"li",25)(19,"div",39),w(20),x(21,"translate"),m()()()()}if(n&2){let t=N();g(3),k(" ",O(4,7,"ENEMY_INVITATION_DESC")," "),g(5),F(t.general.code),g(),D("ngIf",t.codeCopied),g(2),k(" ",O(12,9,"ENEMY_INVITATION_SUB_DESC")," "),g(5),F(t.matchUrl),g(),D("ngIf",t.linkCopied),g(3),F(O(21,11,"ENEMY_WAIT"))}}function jY(n,e){if(n&1){let t=Re();y(0,"div",42)(1,"ul",23)(2,"li",25),w(3),x(4,"translate"),m(),y(5,"li",24)(6,"button",26),B("click",function(){J(t);let r=N();return Q(r.playerReady())}),w(7),x(8,"translate"),V(9,"i",30),m()()()()}if(n&2){let t=N();g(3),k(" ",Jt(4,3,"NEW_ENEMY",pi(8,NY,t.enemy.nickname))," "),g(3),D("disabled",t.readyClicked),g(),k(" ",O(8,6,"START")," ")}}function UY(n,e){n&1&&(y(0,"div",43)(1,"ul",23)(2,"li",25)(3,"div",44),V(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div"),m()(),y(13,"li",25)(14,"div",39),w(15),x(16,"translate"),m()()()()),n&2&&(g(15),F(O(16,1,"ENEMY_WAIT")))}function HY(n,e){if(n&1&&(y(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53),w(4),m(),w(5),x(6,"translate"),m()()()),n&2){let t=e.$implicit,i=N(2);g(2),D("ngClass",i.getBubbleStyle(t)),g(2),F(t.sender),g(),k(" ",O(6,3,t.body)," ")}}function $Y(n,e){if(n&1){let t=Re();y(0,"div",54)(1,"button",55),B("click",function(){let r=J(t).$implicit,o=N(2);return Q(o.sendChatMessage(r))}),w(2),x(3,"translate"),m()()}if(n&2){let t=e.$implicit;g(2),k(" ",O(3,1,t)," ")}}function WY(n,e){if(n&1&&(y(0,"div",45)(1,"div",46),w(2),x(3,"translate"),Y(4,HY,7,5,"div",47),m(),y(5,"div",48),w(6),x(7,"translate"),Y(8,$Y,4,3,"div",49),m()()),n&2){let t=N();g(2),k(" ",O(3,4,"CHAT_TITLE")," "),g(2),D("ngForOf",t.chatBubbles),g(2),k(" ",O(7,6,"CHAT_SEND")," "),g(2),D("ngForOf",t.chatHints)}}function GY(n,e){if(n&1){let t=Re();y(0,"div",56)(1,"div",57)(2,"p"),w(3),x(4,"translate"),m(),y(5,"div",58)(6,"button",59),B("click",function(){J(t);let r=N();return Q(r.stopExitGame())}),w(7),x(8,"translate"),m(),y(9,"button",60),B("click",function(){J(t);let r=N();return Q(r.continueExitGame())}),w(10),x(11,"translate"),m()()()()}n&2&&(g(3),F(O(4,3,"MODAL_EXIT_DESC")),g(4),k(" ",O(8,5,"UNDO")," "),g(3),k(" ",O(11,7,"OK")," "))}function zY(n,e){if(n&1){let t=Re();y(0,"div",56)(1,"div",57)(2,"p"),w(3),m(),y(4,"div",58)(5,"button",60),B("click",function(){J(t);let r=N();return Q(r.continueForceExit())}),w(6),x(7,"translate"),m()()()()}if(n&2){let t=N();g(3),F(t.forceExitText),g(3),k(" ",O(7,2,"OK")," ")}}function qY(n,e){if(n&1){let t=Re();y(0,"div",56)(1,"div",57)(2,"p"),w(3),x(4,"translate"),m(),y(5,"ul",23)(6,"li",24)(7,"button",61),B("click",function(){J(t);let r=N();return Q(r.changeLanguage("it"))}),w(8),x(9,"translate"),m()(),y(10,"li",24)(11,"button",61),B("click",function(){J(t);let r=N();return Q(r.changeLanguage("en"))}),w(12),x(13,"translate"),m()(),y(14,"li",24)(15,"button",61),B("click",function(){J(t);let r=N();return Q(r.changeLanguage("hu"))}),w(16),x(17,"translate"),m()()(),y(18,"div",58)(19,"button",60),B("click",function(){J(t);let r=N();return Q(r.closeLanguageModal())}),w(20),x(21,"translate"),m()()()()}n&2&&(g(3),F(O(4,5,"LANG_DESC")),g(5),k(" ",O(9,7,"LANG_ITALIAN")," "),g(4),k(" ",O(13,9,"LANG_ENGLISH")," "),g(4),k(" ",O(17,11,"LANG_HUNGARIAN")," "),g(4),k(" ",O(21,13,"OK")," "))}var Wg=class n{constructor(e,t,i,r,o,s,a,c,l,u,d,h){this.chatService=e;this.rabbit=t;this.router=i;this.navigation=r;this.translate=o;this.languageService=s;this.audio=a;this.session=c;this.gameData=l;this.authHandler=u;this.shareService=d;this.visibilityHandler=h}user;enemy;userLogged=!1;userNickname="";nickname="";timerSettings=[];currentTimerIndex=1;creatingMatch=!1;exitGameModal=!1;forceExitModal=!1;forceExitText="";languageModal=!1;basePlaying=!1;screens={loadingScreen:"loadingScreen",joinMatch:"joinMatch",nicknameSelection:"nicknameSelection",waitingEnemy:"waitingEnemy",waitingReady:"waitingReady",enemyFound:"enemyFound"};mmakingState=this.screens.loadingScreen;mmakingRequested=!1;enemyReady=!1;readyClicked=!1;playerValidated=!1;linkCopied=!1;codeCopied=!1;codeValue="";joinMessage="";general;totTime="";baseUrl=pr.webBaseUrl;matchUrl="";bubble={id:"",body:"",sender:""};chatVisible=!1;chatBubbles=[];chatHints=[];ngOnInit(){this.initializeSession(),this.setupUser(),this.loadTimerSettings(),this.basePlaying=this.audio.isEnabled(),this.general=this.gameData.getGeneral(),this.chatBubbles=this.chatService.getChatMessages(),this.chatHints=this.chatService.getChatHintsPreMatch(),this.rabbit.setPageCallbacks({onGameRequestResponse:t=>{t.code.toString()!=="0000"&&(this.gameData.editGeneral(t.general),this.matchUrl=`${this.baseUrl}/#!?custom=${t.general.code}`,this.rabbit.subscribeGameRoom())},onConnectionLost:()=>this.handleForceExit()}),this.visibilityHandler.setDeadlineCallback(()=>this.handleForceExit());let e=this.gameData.formatTimeStatic(this.gameData.getGeneral().timerSetting);this.translate.get(e).subscribe(t=>{this.totTime=t})}quitGame(){this.rabbit.quitGame(),this.gameData.initializeGameData()}getBubbleStyle(e){return e.playerId===this.gameData.getUser().playerId?"chat--bubble-player":"chat--bubble-enemy"}sendChatMessage(e){this.audio.playSound("menu-click");let t=this.rabbit.sendChatMessage(e);this.chatService.enqueueChatMessage(t),this.chatBubbles=this.chatService.getChatMessages()}goToCreateMatch(){this.audio.playSound("menu-click"),this.navigation.goToPage("/custom-new-match")}initializeSession(){this.navigation.allowBackNavigationOnce(),this.session.isSessionInvalid()&&(this.quitGame(),this.router.navigate(["/"]))}joinGame(e){this.mmakingRequested=!0,this.audio.playSound("menu-click"),this.translate.get("SEARCH_MATCH_INFO").subscribe(t=>{this.joinMessage=t}),this.gameData.editGeneral({code:e}),this.rabbit.sendGameRequest()}playerReady(){this.readyClicked=!0,this.rabbit.sendReadyMessage(),this.enemyReady||this.changeScreen(this.screens.waitingReady)}validPlayer(){this.playerValidated=!0,this.gameData.editUser({nickname:this.nickname}),this.rabbit.sendValidationMessage(),this.session.enableNoSleep(),this.audio.splashStartBase()}copyLink(){this.audio.playSound("menu-click"),this.shareService.copyTextToClipboard(this.matchUrl),this.linkCopied=!0,this.codeCopied=!1}copyCode(){this.audio.playSound("menu-click"),this.shareService.copyTextToClipboard(this.gameData.getGeneral().code),this.linkCopied=!1,this.codeCopied=!0}setupUser(){if(this.userLogged=this.authHandler.loginCompleted(),this.userLogged){let e=this.authHandler.getServerUserData();this.userNickname=e.nickname,this.nickname=e.nickname}else this.languageService.setTranslation("userNickname","NOT_LOGGED")}changeScreen(e){this.mmakingState=this.screens.loadingScreen,setTimeout(()=>{this.mmakingState=e},200)}loadTimerSettings(){this.translate.get(["15_SECONDS","30_SECONDS","1_MINUTE","2_MINUTES"]).subscribe(e=>{this.timerSettings=[{text:e["15_SECONDS"],value:15e3},{text:e["30_SECONDS"],value:3e4},{text:e["1_MINUTE"],value:6e4},{text:e["2_MINUTES"],value:12e4}]})}editTimer(e){this.audio.playSound("menu-click"),e?this.currentTimerIndex=Math.min(this.currentTimerIndex+1,3):this.currentTimerIndex=Math.max(this.currentTimerIndex-1,0),this.gameData.editGeneral({timerSetting:this.timerSettings[this.currentTimerIndex].value})}requestMMaking(){this.audio.playSound("menu-click"),this.creatingMatch=!0,this.gameData.editGeneral({code:"0000"}),this.gameData.editUser({nickname:this.nickname,organizer:!0}),this.router.navigate(["/custom-mmaking"])}exitGame(){this.audio.playSound("menu-click"),this.exitGameModal=!0}continueExitGame(){this.audio.playSound("menu-click"),this.rabbit.sendPlayerQuitRequest(),this.quitGame(),this.router.navigate(["/home"])}stopExitGame(){this.audio.playSound("menu-click"),this.exitGameModal=!1}handleForceExit(){this.quitGame(),this.forceExitModal=!0}continueForceExit(){this.audio.playSound("menu-click"),this.router.navigate(["/home"])}openLanguageModal(){this.languageModal=!0,this.audio.playSound("menu-click")}closeLanguageModal(){this.languageModal=!1,this.audio.playSound("menu-click")}changeLanguage(e){this.translate.use(e),this.languageModal=!1,this.loadTimerSettings(),this.authHandler.loginCompleted()||this.languageService.setTranslation("userNickname","NOT_LOGGED").then(t=>{this.userNickname=t}),this.audio.playSound("menu-click")}toggleBase(){this.audio.toggleBase(),this.basePlaying=this.audio.isEnabled()}static \u0275fac=function(t){return new(t||n)(T(Ec),T(ro),T(Ce),T(rn),T(Me),T(sn),T(It),T(yt),T(Et),T(Ot),T(Cc),T(on))};static \u0275cmp=W({type:n,selectors:[["app-custom-mmaking"]],decls:27,vars:15,consts:[["customMatchForm","ngForm"],["codeCtrl","ngModel"],["landingMatchForm","ngForm"],["nicknameCtrl","ngModel"],["id","custom-mmaking",1,"page"],[1,"page--wrapper"],[1,"page--body"],["class","page--component",4,"ngIf"],["id","enemy-found","class","page--component",4,"ngIf"],["id","waiting-confirm","class","page--component",4,"ngIf"],["class","chat",4,"ngIf"],[1,"page--push"],[1,"page--footer"],[1,"page--footer-column-left","ellipsize"],[1,"page--footer-button",3,"click"],[1,"fa","fa-times","page--footer-icons"],[1,"page--footer-icons",3,"ngClass"],[1,"page--footer-icons","fas",3,"ngClass"],[1,"page--footer-column-right","ellipsize"],[1,"page--footer-button"],[1,"ellipsize"],["class","modal",4,"ngIf"],[1,"page--component"],[1,"list"],[1,"list--simple-element"],[1,"list--spaced-element"],[1,"navigation--button","flashing-animation",3,"click","disabled"],[1,"fas","fa-angle-double-right","floating-right-animation","navigation--icon-in-text"],["for","code"],["type","number","name","codeValue","id","code","max","9999","min","1","required","","autofocus","",1,"standard-input",3,"ngModelChange","ngModel","placeholder"],[1,"fas","fa-angle-double-right","navigation--icon-in-text","floating-right-animation"],["class","list--spaced-element",3,"ngClass",4,"ngIf"],[1,"list--spaced-element",3,"ngClass"],["for","nickname"],["type","text","id","nickname","name","nickname","maxlength","22","required","","autofocus","",1,"standard-input",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"copyable",3,"click"],[1,"copyable--big-text"],["class","copyable--copy-text",4,"ngIf"],[1,"copyable--small-text"],[1,"flashing-animation"],[1,"copyable--copy-text"],[1,"far","fa-copy","copyable--copy-icon"],["id","enemy-found",1,"page--component"],["id","waiting-confirm",1,"page--component"],[1,"loading-spinner"],[1,"chat"],[1,"chat--bubbles-container"],["class","chat--bubbles-sub-container",4,"ngFor","ngForOf"],[1,"chat--hints-container"],["class","chat--hints-sub-container",4,"ngFor","ngForOf"],[1,"chat--bubbles-sub-container"],[1,"chat--bubble-row"],[3,"ngClass"],[1,"chat--bubble-sender"],[1,"chat--hints-sub-container"],[1,"chat--hint",3,"click"],[1,"modal"],[1,"modal--content"],[1,"modal--buttons-container"],[1,"modal--button-secondary",3,"click"],[1,"modal--button-primary",3,"click"],[1,"modal--button-language",3,"click"]],template:function(t,i){t&1&&(y(0,"div",4)(1,"div",5)(2,"div",6),Y(3,PY,39,28,"div",7)(4,LY,20,19,"div",7)(5,VY,22,13,"div",7)(6,jY,10,10,"div",8)(7,UY,17,3,"div",9)(8,WY,9,8,"div",10),m(),V(9,"div",11),m(),y(10,"div",12)(11,"div",13)(12,"button",14),B("click",function(){return i.exitGame()}),V(13,"i",15),m(),y(14,"button",14),B("click",function(){return i.toggleBase()}),V(15,"i",16),m(),y(16,"button",14),B("click",function(){return i.openLanguageModal()}),V(17,"i",17),x(18,"translate"),m()(),y(19,"div",18)(20,"button",19)(21,"span",20),V(22,"i",16),w(23),m()()()(),Y(24,GY,12,9,"div",21)(25,zY,8,4,"div",21)(26,qY,22,15,"div",21),m()),t&2&&(g(3),D("ngIf",i.mmakingState===i.screens.joinMatch),g(),D("ngIf",i.mmakingState===i.screens.nicknameSelection),g(),D("ngIf",i.mmakingState===i.screens.waitingEnemy),g(),D("ngIf",i.mmakingState===i.screens.enemyFound),g(),D("ngIf",i.mmakingState===i.screens.waitingReady),g(),D("ngIf",i.mmakingState===i.screens.enemyFound||i.mmakingState===i.screens.waitingReady),g(7),D("ngClass",i.basePlaying?"fas fa-volume-up":"fas fa-volume-mute"),g(2),D("ngClass",O(18,13,"LANGUAGE")==="it"?"fa-globe-europe":"fa-globe-americas"),g(5),D("ngClass",i.userLogged?"fas fa-user-circle":"far fa-user-circle"),g(),k(" ",i.userNickname," "),g(),D("ngIf",i.exitGameModal),g(),D("ngIf",i.forceExitModal),g(),D("ngIf",i.languageModal))},dependencies:[Ue,Ut,mi,St,Fa,La,Hr,Cb,Oa,Pa,Wo,Go,Sb,Db,$o,Ho,He,nt],encapsulation:2})};var Gg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=W({type:n,selectors:[["app-royale-mmaking"]],decls:2,vars:0,template:function(t,i){t&1&&(y(0,"p"),w(1,"royale-mmaking works!"),m())},encapsulation:2})};var zg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=W({type:n,selectors:[["app-custom-new-match"]],decls:2,vars:0,template:function(t,i){t&1&&(y(0,"p"),w(1,"custom-new-match works!"),m())},encapsulation:2})};var qg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=W({type:n,selectors:[["app-royale-new-match"]],decls:2,vars:0,template:function(t,i){t&1&&(y(0,"p"),w(1,"royale-new-match works!"),m())},encapsulation:2})};var Yg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=W({type:n,selectors:[["app-arcade-match"]],decls:2,vars:0,template:function(t,i){t&1&&(y(0,"p"),w(1,"arcade-match works!"),m())},encapsulation:2})};var Kg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=W({type:n,selectors:[["app-arcade-aftermatch"]],decls:2,vars:0,template:function(t,i){t&1&&(y(0,"p"),w(1,"arcade-aftermatch works!"),m())},encapsulation:2})};var Xg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=W({type:n,selectors:[["app-royale-match"]],decls:2,vars:0,template:function(t,i){t&1&&(y(0,"p"),w(1,"royale-match works!"),m())},encapsulation:2})};var Jg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=W({type:n,selectors:[["app-royale-aftermatch"]],decls:2,vars:0,template:function(t,i){t&1&&(y(0,"p"),w(1,"royale-aftermatch works!"),m())},encapsulation:2})};function YY(n,e){if(n&1){let t=Re();y(0,"div",6)(1,"form",7,0),B("ngSubmit",function(){J(t);let r=N();return Q(r.createBootcamp())}),y(3,"ul",8)(4,"li",9)(5,"h2"),w(6),x(7,"translate"),m()(),y(8,"li",10),w(9),x(10,"translate"),m(),y(11,"li",9)(12,"label",11),w(13),x(14,"translate"),m()(),y(15,"li",10)(16,"input",12,1),x(18,"translate"),Nr("ngModelChange",function(r){J(t);let o=N();return ko(o.nickname,r)||(o.nickname=r),Q(r)}),m()(),y(19,"li",9),w(20),x(21,"translate"),m(),y(22,"li",10)(23,"div",13)(24,"div",14),B("click",function(){J(t);let r=N();return Q(r.editBotSetting(!1))}),y(25,"span",15),w(26),m()(),y(27,"div",16),w(28),m(),y(29,"div",14),B("click",function(){J(t);let r=N();return Q(r.editBotSetting(!0))}),y(30,"span",15),w(31),m()()()(),y(32,"li",9),w(33),x(34,"translate"),m(),y(35,"li",10)(36,"div",13)(37,"div",14),B("click",function(){J(t);let r=N();return Q(r.editTimer(!1))}),y(38,"span",15),w(39),m()(),y(40,"div",16),w(41),m(),y(42,"div",14),B("click",function(){J(t);let r=N();return Q(r.editTimer(!0))}),y(43,"span",15),w(44),m()()()(),y(45,"li",10)(46,"button",17),w(47),x(48,"translate"),y(49,"span",18),w(50),m()()()()()()}if(n&2){let t=Mo(17),i=N();g(6),F(O(7,17,"BOOT_CAMP")),g(3),k(" ",O(10,19,"BOOTCAMPMAKING_DESC")," "),g(4),F(O(14,21,"NICKNAME")),g(3),kr("ngModel",i.nickname),D("placeholder",O(18,23,"NICKNAME_EXAMPLE"))("disabled",i.userLogged),g(4),F(O(21,25,"ENEMY")),g(6),F("keyboard_arrow_left"),g(2),k(" ",i.botSettings[i.currentBotSettingIndex].text," "),g(3),F("keyboard_arrow_right"),g(2),F(O(34,27,"MATCH_TIME")),g(6),F("keyboard_arrow_left"),g(2),k(" ",i.timerSettings[i.currentTimerIndex].text," "),g(3),F("keyboard_arrow_right"),g(2),D("disabled",t.invalid),g(),k(" ",O(48,29,"CREATE_MATCH")," "),g(3),F("keyboard_double_arrow_right")}}var Qg=class n{constructor(e,t,i,r,o,s,a,c,l){this.gameData=e;this.auth=t;this.audio=i;this.translate=r;this.translation=o;this.router=s;this.navigation=a;this.session=c;this.visibility=l}nickname="";userNickname="";userLogged=!1;pageReady=!1;botSettings=[];currentBotSettingIndex=0;timerSettings=[];currentTimerIndex=1;exitGameModal=!1;forceExitModal=!1;forceExitText="";languageModal=!1;basePlaying=!1;ngOnInit(){if(this.gameData.getGeneral().gameType=this.gameData.getGameTypes().bootmp,this.session.isSessionInvalid()){this.quitGame(),this.router.navigateByUrl("/");return}if(this.userLogged=this.auth.loginCompleted(),this.userLogged){let e=this.auth.getServerUserData();this.nickname=e.nickname,this.userNickname=e.nickname}else this.userNickname=this.translate.instant("NOT_LOGGED");setTimeout(()=>{this.pageReady=!0},200),this.loadTimerSettings(),this.loadBotSettings(),this.basePlaying=this.audio.isEnabled()}quitGame(){this.gameData.initializeGameData()}editTimer(e){this.audio.playSound("menu-click"),e?this.currentTimerIndex=Math.min(this.currentTimerIndex+1,this.timerSettings.length-1):this.currentTimerIndex=Math.max(this.currentTimerIndex-1,0),this.gameData.editGeneral({timerSetting:this.timerSettings[this.currentTimerIndex].value})}editBotSetting(e){e?this.currentBotSettingIndex=Math.min(this.currentBotSettingIndex+1,this.botSettings.length-1):this.currentBotSettingIndex=Math.max(this.currentBotSettingIndex-1,0),this.gameData.editGeneral({botSetting:this.botSettings[this.currentBotSettingIndex].value})}createBootcamp(){this.gameData.editUser({nickname:this.nickname,playerId:0}),this.gameData.editEnemy({nickname:"CodyColor",playerId:1}),this.gameData.editMatch({tiles:this.gameData.generateNewMatchTiles()}),this.router.navigateByUrl("/bootmp-match")}exitGame(){this.audio.playSound("menu-click"),this.exitGameModal=!0}continueExitGame(){this.audio.playSound("menu-click"),this.quitGame(),this.router.navigateByUrl("/home")}stopExitGame(){this.audio.playSound("menu-click"),this.exitGameModal=!1}openLanguageModal(){this.languageModal=!0,this.audio.playSound("menu-click")}closeLanguageModal(){this.languageModal=!1,this.audio.playSound("menu-click")}changeLanguage(e){this.translate.use(e).subscribe(()=>{this.loadTimerSettings(),this.loadBotSettings(),this.auth.loginCompleted()||(this.userNickname=this.translate.instant("NOT_LOGGED")),this.languageModal=!1,this.audio.playSound("menu-click")})}toggleBase(){this.audio.toggleBase(),this.basePlaying=this.audio.isEnabled()}loadTimerSettings(){this.translate.get(["15_SECONDS","30_SECONDS","1_MINUTE","2_MINUTES"]).subscribe(e=>{this.timerSettings=[{text:e["15_SECONDS"],value:15e3},{text:e["30_SECONDS"],value:3e4},{text:e["1_MINUTE"],value:6e4},{text:e["2_MINUTES"],value:12e4}]})}loadBotSettings(){this.translate.get(["NO_ENEMY","AI_EASY","AI_MEDIUM","AI_HARD"]).subscribe(e=>{this.botSettings=[{text:e.NO_ENEMY,value:0},{text:e.AI_EASY,value:1},{text:e.AI_MEDIUM,value:2},{text:e.AI_HARD,value:3}],this.gameData.editGeneral({botSetting:0})})}static \u0275fac=function(t){return new(t||n)(T(Et),T(Ot),T(It),T(Me),T(sn),T(Ce),T(rn),T(yt),T(on))};static \u0275cmp=W({type:n,selectors:[["app-bootmp-mmaking"]],decls:4,vars:1,consts:[["customMatchForm","ngForm"],["nicknameModel","ngModel"],["id","bootmp-mmaking",1,"page"],[1,"page--wrapper"],["class","page--body",4,"ngIf"],[1,"page--push"],[1,"page--body"],[3,"ngSubmit"],[1,"list"],[1,"list--simple-element"],[1,"list--spaced-element"],["for","nickname"],["type","text","name","nickname","maxlength","22","id","nickname","required","","autofocus","",1,"standard-input",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"selector"],[1,"selector--button",3,"click"],[1,"material-symbols-outlined"],[1,"selector--text"],["type","submit",1,"navigation--button","flashing-animation",3,"disabled"],[1,"material-symbols-outlined","inline-block","animate-slide-left"]],template:function(t,i){t&1&&(y(0,"div",2)(1,"div",3),Y(2,YY,51,31,"div",4),V(3,"div",5),m()()),t&2&&(g(2),D("ngIf",i.pageReady))},dependencies:[Ue,St,Fa,La,Hr,Oa,Pa,Wo,Go,$o,Ho,He,nt],encapsulation:2})};function Cs(n,e=0){return KY(n)?Number(n):arguments.length===2?e:0}function KY(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function qu(n){return Array.isArray(n)?n:[n]}function Qe(n){return n==null?"":typeof n=="string"?n:`${n}px`}function an(n){return n instanceof Pe?n.nativeElement:n}var wI;try{wI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{wI=!1}var yn=(()=>{class n{_platformId=_(Ji);isBrowser=this._platformId?ml(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||wI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yu;function XY(){if(Yu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Yu=!0}))}finally{Yu=Yu||!1}return Yu}function OO(n){return XY()?n:!!n.capture}var Ds;function EI(){if(Ds==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ds=!1,Ds;if("scrollBehavior"in document.documentElement.style)Ds=!0;else{let n=Element.prototype.scrollTo;n?Ds=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Ds=!1}}return Ds}var bI;function JY(){if(bI==null){let n=typeof document<"u"?document.head:null;bI=!!(n&&(n.createShadowRoot||n.attachShadow))}return bI}function Dc(n){if(JY()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ku(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function cn(n){return n.composedPath?n.composedPath()[0]:n.target}function II(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function At(n,e,t,i,r){let o=parseInt(Ev.major),s=parseInt(Ev.minor);return o>19||o===19&&s>0||o===0&&s===0?n.listen(e,t,i,r):(e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)})}var QY=new P("cdk-dir-doc",{providedIn:"root",factory:ZY});function ZY(){return _(ce)}var eK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function tK(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?eK.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var so=(()=>{class n{value="ltr";change=new ie;constructor(){let t=_(QY,{optional:!0});if(t){let i=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.value=tK(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nK=20,Zg=(()=>{class n{_ngZone=_(pe);_platform=_(yn);_renderer=_(gt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new U;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=nK){return this._platform.isBrowser?new ne(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=t>0?this._scrolled.pipe($d(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):q()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ne(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_scrollableContainsElement(t,i){let r=an(i),o=t.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var iK=20,Xu=(()=>{class n{_platform=_(yn);_listeners;_viewportSize;_change=new U;_document=_(ce,{optional:!0});constructor(){let t=_(pe),i=_(gt).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect(),s=-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(t=iK){return t>0?this._change.pipe($d(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var em=new WeakMap,Ss=(()=>{class n{_appRef;_injector=_(Ae);_environmentInjector=_(pt);load(t){let i=this._appRef=this._appRef||this._injector.get(zn),r=em.get(i);r||(r={loaders:new Set,refs:[]},em.set(i,r),i.onDestroy(()=>{em.get(i)?.refs.forEach(o=>o.destroy()),em.delete(i)})),r.loaders.has(t)||(r.loaders.add(t),r.refs.push(nh(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=W({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return n})();function tm(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var TI=(()=>{class n{_platform=_(yn);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return oK(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let i=rK(hK(t));if(i&&(LO(i)===-1||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=LO(t);return t.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!dK(t)?!1:r==="audio"?t.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,i){return fK(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rK(n){try{return n.frameElement}catch{return null}}function oK(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function sK(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function aK(n){return lK(n)&&n.type=="hidden"}function cK(n){return uK(n)&&n.hasAttribute("href")}function lK(n){return n.nodeName.toLowerCase()=="input"}function uK(n){return n.nodeName.toLowerCase()=="a"}function FO(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function LO(n){if(!FO(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function dK(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function fK(n){return aK(n)?!1:sK(n)||cK(n)||n.hasAttribute("contenteditable")||FO(n)}function hK(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var SI=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,t,i,r,o=!1,s){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._injector=s,o||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let i=0;i<t.length;i++){let r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let i=t.length-1;i>=0;i--){let r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Yn(e,{injector:this._injector}):setTimeout(e)}},BO=(()=>{class n{_checker=_(TI);_ngZone=_(pe);_document=_(ce);_injector=_(Ae);constructor(){_(Ss).load(PO)}create(t,i=!1){return new SI(t,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AI(n){return n.buttons===0||n.detail===0}function RI(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var pK=new P("cdk-input-modality-detector-options"),gK={ignoreKeys:[18,17,224,91,16]},VO=650,CI={passive:!0,capture:!0},mK=(()=>{class n{_platform=_(yn);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Ge(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(i=>i===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=cn(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<VO||(this._modality.next(AI(t)?"keyboard":"mouse"),this._mostRecentTarget=cn(t))};_onTouchstart=t=>{if(RI(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=cn(t)};constructor(){let t=_(pe),i=_(ce),r=_(pK,{optional:!0});if(this._options=E(E({},gK),r),this.modalityDetected=this._modality.pipe(cy(1)),this.modalityChanged=this.modalityDetected.pipe(Wd()),this._platform.isBrowser){let o=_(gt).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[At(o,i,"keydown",this._onKeydown,CI),At(o,i,"mousedown",this._onMousedown,CI),At(o,i,"touchstart",this._onTouchstart,CI)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var im=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(im||{}),yK=new P("cdk-focus-monitor-default-options"),nm=OO({passive:!0,capture:!0}),jO=(()=>{class n{_ngZone=_(pe);_platform=_(yn);_inputModalityDetector=_(mK);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=_(ce,{optional:!0});_stopInputModalityDetector=new U;constructor(){let t=_(yK,{optional:!0});this._detectionMode=t?.detectionMode||im.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let i=cn(t);for(let r=i;r;r=r.parentElement)t.type==="focus"?this._onFocus(t,r):this._onBlur(t,r)};monitor(t,i=!1){let r=an(t);if(!this._platform.isBrowser||r.nodeType!==1)return q();let o=Dc(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new U,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let i=an(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){let o=an(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===im.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===im.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?VO:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(t,i){let r=this._elementInfo.get(i),o=cn(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,nm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,nm)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ln(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,nm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,nm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var DI={},ao=(()=>{class n{_appId=_(dl);getId(t){return this._appId!=="ng"&&(t+=this._appId),DI.hasOwnProperty(t)||(DI[t]=0),`${t}${DI[t]++}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tP(n){let e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return i==="canvas"?$O(n,e):(i==="input"||i==="select"||i==="textarea")&&HO(n,e),UO("canvas",n,e,$O),UO("input, textarea, select",n,e,HO),e}function UO(n,e,t,i){let r=e.querySelectorAll(n);if(r.length){let o=t.querySelectorAll(n);for(let s=0;s<r.length;s++)i(r[s],o[s])}}var _K=0;function HO(n,e){e.type!=="file"&&(e.value=n.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${_K++}`)}function $O(n,e){let t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function FI(n){let e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function kI(n,e,t){let{top:i,bottom:r,left:o,right:s}=n;return t>=i&&t<=r&&e>=o&&e<=s}function Zu(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function WO(n,e,t,i){let{top:r,right:o,bottom:s,left:a,width:c,height:l}=n,u=c*e,d=l*e;return i>r-d&&i<s+d&&t>a-u&&t<o+u}var rm=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:FI(t)})})}handleScroll(e){let t=cn(e),i=this.positions.get(t);if(!i)return null;let r=i.scrollPosition,o,s;if(t===this._document){let l=this.getViewportScrollPosition();o=l.top,s=l.left}else o=t.scrollTop,s=t.scrollLeft;let a=r.top-o,c=r.left-s;return this.positions.forEach((l,u)=>{l.clientRect&&t!==u&&t.contains(u)&&Zu(l.clientRect,a,c)}),r.top=o,r.left=s,{top:a,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function nP(n,e){let t=n.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let i=e.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function BI(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];r?n.setProperty(i,r,t?.has(i)?"important":""):n.removeProperty(i)}return n}function Sc(n,e){let t=e?"":"none";BI(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function GO(n,e,t){BI(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function om(n,e){return e&&e!="none"?n+" "+e:n}function zO(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=sm(e.left,e.top)}function sm(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function qO(n){let e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function vK(n){let e=getComputedStyle(n),t=xI(e,"transition-property"),i=t.find(a=>a==="transform"||a==="all");if(!i)return 0;let r=t.indexOf(i),o=xI(e,"transition-duration"),s=xI(e,"transition-delay");return qO(o[r])+qO(s[r])}function xI(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}var bK=new Set(["position"]),NI=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,t,i,r,o,s,a,c,l,u){this._document=e,this._rootElement=t,this._direction=i,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=c,this._zIndex=l,this._renderer=u}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),YO(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return vK(this._preview)}addEventListener(e,t){return this._renderer.listen(this._preview,e,t)}_createPreview(){let e=this._previewTemplate,t=this._previewClass,i=e?e.template:null,r;if(i&&e){let o=e.matchSize?this._initialDomRect:null,s=e.viewContainer.createEmbeddedView(i,e.context);s.detectChanges(),r=nP(s,this._document),this._previewEmbeddedView=s,e.matchSize?zO(r,o):r.style.transform=sm(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=tP(this._rootElement),zO(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return BI(r.style,{"pointer-events":"none",margin:YO(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},bK),Sc(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>r.classList.add(o)):r.classList.add(t)),r}};function YO(n){return"showPopover"in n}var wK={passive:!0},KO={passive:!1},EK={passive:!1,capture:!0},IK=800,XO=new Set(["position"]),OI=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Xi(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new U;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=_e.EMPTY;_pointerUpSubscription=_e.EMPTY;_scrollSubscription=_e.EMPTY;_resizeSubscription=_e.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Sc(t,e)))}_disabled=!1;beforeStarted=new U;started=new U;released=new U;ended=new U;entered=new U;exited=new U;dropped=new U;moved=this._moveEvents;data;constrainPosition;constructor(e,t,i,r,o,s,a){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new rm(i),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>an(i)),this._handles.forEach(i=>Sc(i,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=an(e);return t!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[At(this._renderer,t,"mousedown",this._pointerDown,KO),At(this._renderer,t,"touchstart",this._pointerDown,wK),At(this._renderer,t,"dragstart",this._nativeDragStart,KO)]),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?an(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Sc(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Sc(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let r=Math.abs(t.x-this._pickupPositionOnPage.x),o=Math.abs(t.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),c=this._dropContainer;if(!a){this._endDragSequence(e);return}(!c||!c.isDragging()&&!c.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let i=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,t);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=i.x-r.x+this._passiveTransform.x,o.y=i.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:e,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Ju(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),i=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=At(this._renderer,t,"selectstart",CK,EK)}),i){let r=this._rootElement,o=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new NI(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,t)),GO(r,!1,XO),this._document.body.appendChild(o.replaceChild(s,r)),this.started.next({source:this,event:e}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let i=this.isDragging(),r=Ju(t),o=!r&&t.button!==0,s=this._rootElement,a=cn(t),c=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+IK>Date.now(),l=r?RI(t):AI(t);if(a&&a.draggable&&t.type==="mousedown"&&t.preventDefault(),i||o||c||l)return;if(this._handles.length){let h=s.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=FI(this._boundaryElement));let u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);let d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){GO(this._rootElement,!0,XO),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),o=this._getDragDistance(r),s=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,s,o,r,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let r=a=>{(!a||this._preview&&cn(a)===this._preview.element&&a.propertyName==="transform")&&(s(),i(),clearTimeout(o))},o=setTimeout(r,t*1.5),s=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=nP(this._placeholderRef,this._document)):i=tP(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){let r=t===this._rootElement?null:t,o=r?r.getBoundingClientRect():e,s=Ju(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition(),c=s.pageX-o.left-a.left,l=s.pageY-o.top-a.top;return{x:o.left-e.left+c,y:o.top-e.top+l}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),i=Ju(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=i.pageX-t.left,o=i.pageY-t.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:r}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||t==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:c,height:l}=this._getPreviewRect(),u=a.top+s,d=a.bottom-(l-s),h=a.left+o,f=a.right-(c-o);i=JO(i,h,f),r=JO(r,u,d)}return{x:i,y:r}}_updatePointerDirectionDelta(e){let{x:t,y:i}=e,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-o.x),a=Math.abs(i-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=t>o.x?1:-1,o.x=t),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Sc(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,t){let i=1/this.scale,r=sm(e*i,t*i),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=om(r,this._initialTransform)}_applyPreviewTransform(e,t){let i=this._previewTemplate?.template?void 0:this._initialTransform,r=sm(e,t);this._preview.setTransform(om(r,i))}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||i.width===0&&i.height===0)return;let o=r.left-i.left,s=i.right-r.right,a=r.top-i.top,c=i.bottom-r.bottom;r.width>i.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,r.height>i.height?(a>0&&(t+=a),c>0&&(t-=c)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:Ju(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let i=cn(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Zu(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Dc(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let i=this._previewContainer||"global";if(i==="parent")return e;if(i==="global"){let r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return an(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}};function JO(n,e,t){return Math.max(e,Math.min(t,n))}function Ju(n){return n.type[0]==="t"}function CK(n){n.preventDefault()}function lm(n,e,t){let i=am(e,n.length-1),r=am(t,n.length-1);if(i===r)return;let o=n[i],s=r<i?-1:1;for(let a=i;a!==r;a+=s)n[a]=n[a+s];n[r]=o}function iP(n,e,t,i){let r=am(t,n.length-1),o=am(i,e.length);n.length&&e.splice(o,0,n.splice(r,1)[0])}function am(n,e){return Math.max(0,Math.min(e,n))}var cm=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,t,i,r){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,i,r);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",c=o.findIndex(I=>I.drag===e),l=o[s],u=o[c].clientRect,d=l.clientRect,h=c>s?1:-1,f=this._getItemOffsetPx(u,d,h),b=this._getSiblingOffsetPx(c,o,h),v=o.slice();return lm(o,c,s),o.forEach((I,R)=>{if(v[R]===I)return;let G=I.drag===e,K=G?f:b,te=G?e.getPlaceholderElement():I.drag.getRootElement();I.offset+=K;let ge=Math.round(I.offset*(1/I.drag.scale));a?(te.style.transform=om(`translate3d(${ge}px, 0, 0)`,I.initialTransform),Zu(I.clientRect,0,K)):(te.style.transform=om(`translate3d(0, ${ge}px, 0)`,I.initialTransform),Zu(I.clientRect,K,0))}),this._previousSwap.overlaps=kI(d,t,i),this._previousSwap.drag=l.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:c,currentIndex:s}}enter(e,t,i,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(e,t,i):r,s=this._activeDraggables,a=s.indexOf(e),c=e.getPlaceholderElement(),l=s[o];if(l===e&&(l=s[o+1]),!l&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(l=s[0]),a>-1&&s.splice(a,1),l&&!this._dragDropRegistry.isDragging(l)){let u=l.getRootElement();u.parentElement.insertBefore(c,u),s.splice(o,0,e)}else this._element.appendChild(c),s.push(e);c.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let t=e.getRootElement();if(t){let i=this._itemPositions.find(r=>r.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{Zu(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:FI(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,t,i){let r=this.orientation==="horizontal",o=r?t.left-e.left:t.top-e.top;return i===-1&&(o+=r?t.width-e.width:t.height-e.height),o}_getSiblingOffsetPx(e,t,i){let r=this.orientation==="horizontal",o=t[e].clientRect,s=t[e+i*-1],a=o[r?"width":"height"]*i;if(s){let c=r?"left":"top",l=r?"right":"bottom";i===-1?a-=s.clientRect[c]-o[l]:a+=o[c]-s.clientRect[l]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,r=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let s=i[i.length-1].clientRect;return r?e>=s.right:t>=s.bottom}else{let s=i[0].clientRect;return r?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,i,r){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:c})=>{if(a===e)return!1;if(r){let l=o?r.x:r.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&l===this._previousSwap.delta)return!1}return o?t>=Math.floor(c.left)&&t<Math.floor(c.right):i>=Math.floor(c.top)&&i<Math.floor(c.bottom)});return s===-1||!this._sortPredicate(s,e)?-1:s}},PI=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,t){this._document=e,this._dragDropRegistry=t}start(e){let t=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<t.length;i++){let r=t[i];this._relatedNodes.push([r,r.nextSibling])}this.withItems(e)}sort(e,t,i,r){let o=this._getItemIndexFromPointerPosition(e,t,i),s=this._previousSwap;if(o===-1||this._activeItems[o]===e)return null;let a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===r.x&&s.deltaY===r.y)return null;let c=this.getItemIndex(e),l=e.getPlaceholderElement(),u=a.getRootElement();o>c?u.after(l):u.before(l),lm(this._activeItems,c,o);let d=this._getRootNode().elementFromPoint(t,i);return s.deltaX=r.x,s.deltaY=r.y,s.drag=a,s.overlaps=u===d||u.contains(d),{previousIndex:c,currentIndex:o}}enter(e,t,i,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(e,t,i):r;o===-1&&(o=this._getClosestItemIndexToPointer(e,t,i));let s=this._activeItems[o],a=this._activeItems.indexOf(e);a>-1&&this._activeItems.splice(a,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(o,0,e),s.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,t=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[r,o]=this._relatedNodes[i];r.parentNode===e&&r.nextSibling!==o&&(o===null?e.appendChild(r):o.parentNode===e&&e.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,i){let r=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(i)),o=r?this._activeItems.findIndex(s=>{let a=s.getRootElement();return r===a||a.contains(r)}):-1;return o===-1||!this._sortPredicate(o,e)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=Dc(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==e){let{x:c,y:l}=a.getRootElement().getBoundingClientRect(),u=Math.hypot(t-c,i-l);u<r&&(r=u,o=s)}}return o}},QO=.05,rP=.05,Ln=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(Ln||{}),$t=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}($t||{}),LI=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new U;entered=new U;exited=new U;dropped=new U;sorted=new U;receivingStarted=new U;receivingStopped=new U;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=_e.EMPTY;_verticalScrollDirection=Ln.NONE;_horizontalScrollDirection=$t.NONE;_scrollNode;_stopScrollTimers=new U;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,t,i,r,o){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=o;let s=this.element=an(e);this._document=i,this.withOrientation("vertical").withElementContainer(s),t.registerDropContainer(this),this._parentPositions=new rm(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,r,o,s,a,c={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:c})}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>e.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof cm&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new PI(this._document,this._dragDropRegistry);else{let t=new cm(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,i)=>this.sortPredicate(t,i,this)),this}withScrollableParents(e){let t=this._container;return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let t=an(this.element),i=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(e);return i>-1&&this._scrollableElements.splice(i,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,r){if(this.sortingDisabled||!this._domRect||!WO(this._domRect,QO,t,i))return;let o=this._sortStrategy.sort(e,t,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,r=Ln.NONE,o=$t.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||i||WO(s.clientRect,QO,e,t)&&([r,o]=DK(a,s.clientRect,this._direction,e,t),(r||o)&&(i=a))}),!r&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),c={width:s,height:a,top:0,right:s,bottom:a,left:0};r=oP(c,t),o=sP(c,e),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),ry(0,Cd).pipe(ln(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===Ln.UP?e.scrollBy(0,-t):this._verticalScrollDirection===Ln.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===$t.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===$t.RIGHT&&e.scrollBy(t,0)})};_isOverContainer(e,t){return this._domRect!=null&&kI(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(r=>r._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._domRect||!kI(this._domRect,t,i)||!this.enterPredicate(e,this))return!1;let r=this._getShadowRoot().elementFromPoint(t,i);return r?r===this._container||this._container.contains(r):!1}_startReceiving(e,t){let i=this._activeSiblings;!i.has(e)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=Dc(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}};function oP(n,e){let{top:t,bottom:i,height:r}=n,o=r*rP;return e>=t-o&&e<=t+o?Ln.UP:e>=i-o&&e<=i+o?Ln.DOWN:Ln.NONE}function sP(n,e){let{left:t,right:i,width:r}=n,o=r*rP;return e>=t-o&&e<=t+o?$t.LEFT:e>=i-o&&e<=i+o?$t.RIGHT:$t.NONE}function DK(n,e,t,i,r){let o=oP(e,r),s=sP(e,i),a=Ln.NONE,c=$t.NONE;if(o){let l=n.scrollTop;o===Ln.UP?l>0&&(a=Ln.UP):n.scrollHeight-l>n.clientHeight&&(a=Ln.DOWN)}if(s){let l=n.scrollLeft;t==="rtl"?s===$t.RIGHT?l<0&&(c=$t.RIGHT):n.scrollWidth+l>n.clientWidth&&(c=$t.LEFT):s===$t.LEFT?l>0&&(c=$t.LEFT):n.scrollWidth-l>n.clientWidth&&(c=$t.RIGHT)}return[a,c]}var Qu={capture:!0},MI={passive:!1,capture:!0},SK=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=W({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,r){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return n})(),aP=(()=>{class n{_ngZone=_(pe);_document=_(ce);_styleLoader=_(Ss);_renderer=_(gt).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=Xi([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new U;pointerUp=new U;scroll=new U;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=At(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,MI)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(t,i){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(SK),this._activeDragInstances.update(r=>[...r,t]),this._activeDragInstances().length===1)){let r=i.type.startsWith("touch"),o=a=>this.pointerUp.next(a),s=[["scroll",a=>this.scroll.next(a),Qu],["selectstart",this._preventDefaultWhileDragging,MI]];r?s.push(["touchend",o,Qu],["touchcancel",o,Qu]):s.push(["mouseup",o,Qu]),r||s.push(["mousemove",a=>this.pointerMove.next(a),MI]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,c,l])=>At(this._renderer,this._document,a,c,l))})}}stopDragging(t){this._activeDragInstances.update(i=>{let r=i.indexOf(t);return r>-1?(i.splice(r,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let i=[this.scroll];return t&&t!==this._document&&i.push(new ne(r=>this._ngZone.runOutsideAngular(()=>{let o=At(this._renderer,t,"scroll",s=>{this._activeDragInstances().length&&r.next(s)},Qu);return()=>{o()}}))),Hi(...i)}registerDirectiveNode(t,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,i)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TK={dragStartThreshold:5,pointerDirectionChangeThreshold:5},cP=(()=>{class n{_document=_(ce);_ngZone=_(pe);_viewportRuler=_(Xu);_dragDropRegistry=_(aP);_renderer=_(gt).createRenderer(null,null);constructor(){}createDrag(t,i=TK){return new OI(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new LI(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZO=new P("CDK_DRAG_PARENT");var AK=new P("CdkDragHandle");var lP=new P("CDK_DRAG_CONFIG"),uP=new P("CdkDropList"),um=(()=>{class n{element=_(Pe);dropContainer=_(uP,{optional:!0,skipSelf:!0});_ngZone=_(pe);_viewContainerRef=_(Xt);_dir=_(so,{optional:!0});_changeDetectorRef=_(fn);_selfHandle=_(AK,{optional:!0,self:!0});_parentDrag=_(ZO,{optional:!0,skipSelf:!0});_dragDropRegistry=_(aP);_destroyed=new U;_handles=new Ge([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new ie;released=new ie;ended=new ie;entered=new ie;exited=new ie;dropped=new ie;moved=new ne(t=>{let i=this._dragRef.moved.pipe(Z(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(t);return()=>{i.unsubscribe()}});_injector=_(Ae);constructor(){let t=this.dropContainer,i=_(lP,{optional:!0}),r=_(cP);this._dragRef=r.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this),t._dropListRef.beforeStarted.pipe(ln(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){Yn(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let i=t.rootElementSelector,r=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let i=this._handles.getValue();i.push(t),this._handles.next(i)}_removeHandle(t){let i=this._handles.getValue(),r=i.indexOf(t);r>-1&&(i.splice(r,1),this._handles.next(i))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,i=t;this.rootElementSelector&&(i=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):an(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof r=="object"&&r?r:Cs(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(qe(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let r=this._dragDropRegistry.getDragDirectiveForNode(i);if(r){t.withParent(r._dragRef);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){let{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:c,rootElementSelector:l,previewContainer:u}=t;this.disabled=c??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),l&&(this.rootElementSelector=l),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.pipe(Ze(t=>{let i=t.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),at(t=>Hi(...t.map(i=>i._stateChanges.pipe(Hn(i))))),ln(this._destroyed)).subscribe(t=>{let i=this._dragRef,r=t.element.nativeElement;t.disabled?i.disableHandle(r):i.enableHandle(r)})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=be({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,r){i&2&&hi("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Dn],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",rA]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[jt([{provide:ZO,useExisting:n}]),Cn]})}return n})(),eP=new P("CdkDropListGroup");var dm=(()=>{class n{element=_(Pe);_changeDetectorRef=_(fn);_scrollDispatcher=_(Zg);_dir=_(so,{optional:!0});_group=_(eP,{optional:!0,skipSelf:!0});_destroyed=new U;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=_(ao).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new ie;entered=new ie;exited=new ie;sorted=new ie;_unsortedItems=new Set;constructor(){let t=_(cP),i=_(lP,{optional:!0});this._dropListRef=t.createDropList(this.element),this._dropListRef.data=this,i&&this._assignDefaults(i),this._dropListRef.enterPredicate=(r,o)=>this.enterPredicate(r.data,o.data),this._dropListRef.sortPredicate=(r,o,s)=>this.sortPredicate(r,o.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Hn(this._dir.value),ln(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{let i=qu(this.connectedTo).map(r=>{if(typeof r=="string"){let o=n._dropLists.find(s=>s.id===r);return o}return r});if(this._group&&this._group._items.forEach(r=>{i.indexOf(r)===-1&&i.push(r)}),!this._scrollableParentsResolved){let r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let r=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(r)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=Cs(this.autoScrollStep,2),t.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),Hi(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){let{lockAxis:i,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=t;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=be({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,r){i&2&&(Dt("id",r.id),hi("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Dn],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Dn],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Dn],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[jt([{provide:eP,useValue:void 0},{provide:uP,useExisting:n}])]})}return n})();var Tc=class n{constructor(e){this.gameData=e}playerRoby;enemiesRoby;startTiles;completeTiles;ngOnDestroy(){this.quitGame()}quitGame(){this.cleanupTimers(this.playerRoby),this.enemiesRoby?.flat().forEach(e=>this.cleanupTimers(e)),this.playerRoby={},this.enemiesRoby=[]}getPlayerRoby(){return this.playerRoby}getEnemiesRoby(){return this.enemiesRoby}initialize(e){this.startTiles=e.startTiles,this.completeTiles=e.completeTiles,this.initializePlayer(),this.initializeEnemies()}initializePlayer(){}initializeEnemies(){}positionAllEnemies(e){let t=this.gameData.getMatch().startPosition;e.forEach(i=>{(i.playerCount>1||i.position.side!==t.side||i.position.distance!==t.distance)&&this.positionRoby(!1,i.position)})}positionRoby(e,t){let i=this.calculatePath(t);if(t.side>=0){let r=e?this.playerRoby:this.enemiesRoby[t.side][t.distance];r.show=!0;let s=this.startTiles[t.side][t.distance].getBoundingClientRect(),a=this.getAngle((t.side+2)%4);r.changeImage(r.positionedImage),Object.assign(r,i)}return i}animateActiveRobys(e){this.animateRoby(this.playerRoby,e,!0),this.enemiesRoby?.forEach(t=>t.forEach(i=>{i.show&&this.animateRoby(i,e,!1)}))}animateRoby(e,t,i){if(!e||e.startPosition.side<0){e.animationFinished=!0,t();return}}calculateBotPath(e){let t=[];for(let i=0;i<4;i++)for(let r=0;r<5;r++)t.push(this.calculatePath({side:i,distance:r}));return t.sort((i,r)=>i.pathLength-r.pathLength),e===1?t[Math.floor(Math.random()*10)]:e===2?t[Math.floor(Math.random()*10)+10]:t[19]}calculatePath(e){let t={startPosition:e,endPosition:{side:-1,distance:-1},tilesCoords:[],direction:[],pathLength:0};return e.side<0,t}cleanupTimers(e){e?.walkingTimer&&(clearInterval(e.walkingTimer),e.walkingTimer=void 0)}getAngle(e){return[0,90,180,270][e]??0}static \u0275fac=function(t){return new(t||n)(L(Et))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var RK=()=>({type:"robot"}),xK=(n,e)=>({row:n,col:e}),MK=(n,e)=>({type:"arrow",row:n,col:e}),kK=n=>({time:n});function NK(n,e){if(n&1&&(y(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),w(4),m()(),y(5,"div",19)(6,"div",20),w(7),m()()(),y(8,"div",18)(9,"div",21),w(10),m(),y(11,"div",21),w(12),m()(),y(13,"div",18)(14,"div",22)(15,"span",23),w(16),m(),V(17,"i",24),w(18),m(),y(19,"div",22),V(20,"i",24),w(21),m()()()),n&2){let t=N(2);g(4),F(t.userPoints),g(3),F(t.enemyPoints),g(3),k(" ",t.user.nickname," "),g(2),k(" ",t.enemy.nickname," "),g(2),D("ngClass",t.userTimerAnimation),g(2),F("schedule"),g(2),k(" ",t.timerFormatter(t.userTimerValue)," "),g(),D("ngClass",t.enemyTimerAnimation),g(2),k(" ",t.timerFormatter(t.enemyTimerValue)," ")}}function OK(n,e){if(n&1&&(y(0,"div",25)(1,"div",26),V(2,"i",24),w(3),m(),y(4,"div",27)(5,"div",20),w(6),m(),y(7,"div",28),w(8),m()()()),n&2){let t=N(2);g(),D("ngClass",t.userTimerAnimation),g(2),k(" ",t.timerFormatter(t.userTimerValue)," "),g(3),F(t.userPoints),g(2),F(t.user.nickname)}}function PK(n,e){if(n&1&&(y(0,"td"),V(1,"div",31),m()),n&2){let t=e.$implicit;g(),D("ngClass",t)}}function LK(n,e){if(n&1&&(y(0,"tr"),Y(1,PK,2,1,"td",30),m()),n&2){let t=e.$implicit;g(),D("ngForOf",t)}}function FK(n,e){if(n&1&&(y(0,"table",29),Y(1,LK,2,1,"tr",30),m()),n&2){let t=N(2);g(),D("ngForOf",t.tilesCss)}}function BK(n,e){if(n&1&&(y(0,"div",13),w(1),m()),n&2){let t=e.$implicit;g(),F(t)}}function VK(n,e){n&1&&(er(0),V(1,"div",35),tr())}function jK(n,e){if(n&1){let t=Re();er(0),y(1,"div",36),B("cdkDropListDropped",function(r){J(t);let o=N(5);return Q(o.onTileDropped(r))}),y(2,"span",37),w(3," keyboard_arrow_right "),m()(),tr()}if(n&2){let t=N().index,i=N().index,r=N(3);g(),D("cdkDropListData",nr(3,xK,i,t)),g(),D("cdkDragData",nr(6,MK,i,t))("ngClass",r.startPositionsCss[i][t])}}function UK(n,e){if(n&1&&(er(0),V(1,"div",31),tr()),n&2){let t=N().$implicit,i=N(4);g(),D("ngClass",i.tilesCss[t.tile.row][t.tile.col])}}function HK(n,e){if(n&1&&(y(0,"td",33),Y(1,VK,2,0,"ng-container",34)(2,jK,4,9,"ng-container",34)(3,UK,2,1,"ng-container",34),m()),n&2){let t=e.$implicit;Dt("id",t.id),g(),D("ngIf",t.placeholder),g(),D("ngIf",t.start),g(),D("ngIf",t.tile)}}function $K(n,e){if(n&1&&(y(0,"tr"),Y(1,HK,4,4,"td",32),m()),n&2){let t=e.$implicit;g(),D("ngForOf",t)}}function WK(n,e){if(n&1&&(y(0,"table",29),Y(1,$K,2,1,"tr",30),m()),n&2){let t=N(2);g(),D("ngForOf",t.smallGrid)}}function GK(n,e){if(n&1&&(y(0,"div",38),V(1,"i",39),w(2),x(3,"translate"),m()),n&2){let t=N(2);g(2),k(" ",Jt(3,1,"TIME_PLAYER",pi(4,kK,t.finalTimeFormatter(t.match.time)))," ")}}function zK(n,e){n&1&&(y(0,"div",38),V(1,"i",39),w(2),x(3,"translate"),m()),n&2&&(g(2),k(" ",O(3,1,"TIME_OUT")," "))}function qK(n,e){if(n&1){let t=Re();y(0,"div",38)(1,"button",40),B("click",function(){J(t);let r=N(2);return Q(r.skip())}),w(2),x(3,"translate"),y(4,"span",41),w(5),m()()()}n&2&&(g(2),k(" ",O(3,2,"SKIP")," "),g(3),F("keyboard_double_arrow_right"))}function YK(n,e){if(n&1){let t=Re();y(0,"div",7),w(1),y(2,"div",7),Y(3,NK,22,9,"div",8)(4,OK,9,4,"div",9),y(5,"div",10),Y(6,FK,2,1,"table",11),y(7,"div",12,0),B("cdkDropListDropped",function(r){J(t);let o=N();return Q(o.drop(r))}),WT(9,BK,2,1,"div",13,$T),m(),Y(11,WK,2,1,"table",11),m(),y(12,"div",14,1),B("cdkDragStarted",function(){J(t);let r=N();return Q(r.onDragStarted())})("cdkDragEnded",function(){J(t);let r=N();return Q(r.onDragEnded())}),V(14,"img",15),m(),Y(15,GK,4,6,"div",16)(16,zK,4,3,"div",16)(17,qK,6,4,"div",16),m()()}if(n&2){let t=N();g(),k(" data botSetting ",t.general.botSetting," "),g(2),D("ngIf",t.general.botSetting!==0),g(),D("ngIf",t.general.botSetting===0),g(2),D("ngIf",!t.showCompleteGrid),g(),D("cdkDropListData",t.done),g(2),GT(t.done),g(2),D("ngIf",t.showCompleteGrid),g(),D("cdkDragData",eh(12,RK)),g(2),D("src","assets/img/"+t.draggableRobyImage+".png",$f)("ngClass",t.showCompleteGrid?"roby-draggable":"roby-draggable floating-up-animation"),g(),D("ngIf",t.match.positioned&&t.match.time>0),g(),D("ngIf",t.match.positioned&&t.match.time===0),g(),D("ngIf",t.startAnimation)}}var fm=class n{constructor(e,t,i,r,o,s,a,c,l,u){this.gameData=e;this.path=t;this.navigation=i;this.audio=r;this.session=o;this.auth=s;this.translate=a;this.translation=c;this.visibility=l;this.router=u}rows=Array(5).fill(0);cols=Array(5).fill(0);countdownInProgress=!0;startCountdownText="";userLogged=!1;userNickname="";showDraggableRoby=!0;user;enemy;general;match;userPoints=0;enemyPoints=0;userTimerValue=0;enemyTimerValue=0;userTimerAnimation="";enemyTimerAnimation="";tilesCss=[];startPositionsCss=[];showCompleteGrid=!1;showArrows=!1;startAnimation=!1;draggableRobyImage="roby-idle";exitGameModal=!1;languageModal=!1;basePlaying=!1;isDragging=!1;startCountdownTimer;gameTimer;nextGameTimerValue;positionEnemyTrigger;smallGrid=[];timerFormatter;finalTimeFormatter;draggable={data:"myDragData",effectAllowed:"all",disable:!1,handle:!1};done=["Get up","Brush teeth","Take a shower","Check e-mail","Walk dog"];drop(e){e.previousContainer===e.container?lm(e.container.data,e.previousIndex,e.currentIndex):iP(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}ngOnInit(){if(this.buildSmallGrid(),this.session.isSessionInvalid()){this.quitGame(),this.router.navigate(["/"]);return}this.userLogged=this.auth.loginCompleted(),this.userNickname=this.userLogged?this.auth.getServerUserData().nickname:this.translation.setTranslation("userNickname","NOT_LOGGED"),this.user=this.gameData.getUser(),this.enemy=this.gameData.getEnemy(),this.general=this.gameData.getGeneral(),this.match=this.gameData.getMatch(),console.log("Match data:",this.match),this.userPoints=this.gameData.getUserGlobalResult().points,this.enemyPoints=this.gameData.getEnemyGlobalResult().points,this.userTimerValue=this.enemyTimerValue=this.general.timerSetting,this.nextGameTimerValue=this.general.timerSetting,this.initializeArrowCss(!1),this.initializeTilesCss(),this.countdownInProgress=!1,this.startMatchTimers(),this.setupEnemyTrigger();let e=this.gameData.getGeneral().botSetting;this.timerFormatter=e!==0?this.gameData.formatTimeDecimals:this.gameData.formatTimeMatchClock,this.finalTimeFormatter=this.gameData.formatTimeDecimals}ngOnDestroy(){this.clearTimers()}quitGame(){this.clearTimers(),this.path.quitGame(),this.gameData.initializeGameData()}clearTimers(){this.startCountdownTimer&&clearInterval(this.startCountdownTimer),this.gameTimer&&clearTimeout(this.gameTimer)}initializeArrowCss(e){let t=this.smallGrid.length,i=this.smallGrid[0]?.length||0;this.startPositionsCss=Array.from({length:t},(r,o)=>Array.from({length:i},(s,a)=>this.smallGrid[o][a]?.start?this.buildArrowCss(o%4,a%5,e):""))}buildArrowCss(e,t,i){console.log("Building arrow CSS for ",e,t,i);let o=["down","left","up","right"][e]??"",s=i?`fas fa-chevron-circle-${o} playground--arrow-over`:`fas fa-angle-${o} playground--arrow`;return this.showArrows&&(s+=` floating-${o}-animation`),s}initializeTilesCss(){let e=this.match.tiles;this.tilesCss=e.map((t,i)=>t.map((r,o)=>{switch(r){case"Y":return"playground--tile-yellow";case"R":return"playground--tile-red";case"G":return"playground--tile-gray";default:return""}}))}startCountdown(){let e=3;this.startCountdownText=e.toString(),this.audio.playSound("countdown"),this.startCountdownTimer=setInterval(()=>{e--,e>0?(this.audio.playSound("countdown"),this.startCountdownText=e.toString()):e===0?(this.audio.playSound("start"),this.startCountdownText="Let's Cody!"):(clearInterval(this.startCountdownTimer),this.countdownInProgress=!1,this.startMatchTimers())},1e3)}setupEnemyTrigger(){let e=this.general.timerSetting;this.positionEnemyTrigger=e/(this.general.botSetting||2)*(this.general.botSetting/1)}startMatchTimers(){let t=Date.now()+10,i=()=>{let r=Date.now()-t;if(this.nextGameTimerValue-=10+r,this.nextGameTimerValue>0&&!this.startAnimation){if(this.match.positioned||(this.userTimerValue=this.nextGameTimerValue),!this.match.enemyPositioned&&this.general.botSetting!==0&&(console.log("!this.match.enemyPositioned && this.general.botSetting !== 0 is true"),this.enemyTimerValue=this.nextGameTimerValue),this.userTimerValue<1e4&&!this.match.positioned&&(this.userTimerAnimation="clock-ending-animation"),this.enemyTimerValue<1e4&&!this.match.enemyPositioned&&this.general.botSetting!==0&&(console.log("Enemy timer below 10s"),this.enemyTimerAnimation="clock-ending-animation"),this.enemyTimerValue<=this.positionEnemyTrigger&&!this.match.enemyPositioned&&this.general.botSetting!==0){console.log("Positioning enemy at");let o=this.path.calculateBotPath(this.general.botSetting);this.gameData.editMatch({enemyPositioned:!0,enemyTime:this.positionEnemyTrigger,enemyStartPosition:o.startPosition}),this.enemyTimerValue=this.match.enemyTime,this.enemyTimerAnimation="clock--end"}t=Date.now()+10,this.gameTimer=setTimeout(i,10)}else console.log("Timer ended or animation started"),this.match.positioned||(this.gameData.editMatch({positioned:!0,time:0,startPosition:{side:-1,distance:-1}}),this.userTimerValue=0,this.userTimerAnimation="clock--end",this.showCompleteGrid=!0,this.showArrows=!1,this.showDraggableRoby=!1,this.initializeArrowCss(!1),this.gameData.editUserMatchResult({nickname:this.user.nickname,playerId:this.user.playerId,pathLength:0,time:0,points:0,startPosition:{side:-1,distance:-1}})),this.executeEndSequence()};this.gameTimer=setTimeout(i,10)}executeEndSequence(){if(this.startAnimation=!0,this.general.botSetting!==0){let e=this.path.positionRoby(!1,this.match.enemyStartPosition);this.gameData.editEnemyMatchResult({})}this.gameData.editAggregated({matchCount:this.gameData.getAggregated().matchCount+1}),this.gameData.editMatch({winnerId:this.gameData.getMatchWinner().playerId}),this.path.animateActiveRobys(()=>{this.router.navigate(["/bootmp-aftermatch"])})}onDragStarted(){this.isDragging=!0,this.audio.playSound("roby-drag"),this.showCompleteGrid=!0,this.draggableRobyImage="roby-dragging-trasp",this.showArrows=!0,this.initializeArrowCss(!1)}onDragEnded(){this.isDragging=!1,this.draggableRobyImage="roby-idle",this.audio.playSound("roby-positioned"),this.showCompleteGrid=!0}canDropRobot=(e,t)=>(console.log(e),t.data.start===!0);onTileDropped(e){console.log("Drop event",e);let t=e.event,i=t.clientX||0,r=t.clientY||0,o=e.container.element.nativeElement,a=Array.from(o.querySelectorAll("td")).find(c=>{let l=c.getBoundingClientRect();return i>=l.left&&i<=l.right&&r>=l.top&&r<=l.bottom});a&&console.log("Dropped on cell id",a.id)}onTileOver(e){let{row:t,col:i}=e.container.data;console.log("Roby over",t,i),this.draggableRobyImage="roby-over"}onTileOut(e){let{row:t,col:i}=e.container.data;console.log("Roby out",t,i),this.draggableRobyImage="roby-dragging-trasp"}onDragStart(e){console.log("drag started",JSON.stringify(e,null,2)),this.audio.playSound("roby-drag"),this.showCompleteGrid=!0,this.draggableRobyImage="roby-dragging-trasp",this.showArrows=!0,this.initializeArrowCss(!1)}onDragEnd(e){if(console.log("drag ended",JSON.stringify(e,null,2)),console.log(e),this.audio.playSound("roby-positioned"),this.showCompleteGrid=!0,!this.startAnimation){this.showDraggableRoby=!1,this.userTimerAnimation="clock--end",this.userTimerValue=this.match.time;let t=this.path.positionRoby(!0,this.match.startPosition);if(this.gameData.editUserMatchResult({nickname:this.user.nickname,playerId:this.user.playerId,pathLength:t.pathLength,time:this.match.time,startPosition:this.match.startPosition}),!this.match.enemyPositioned&&this.general.botSetting!==0){let i=this.path.calculateBotPath(this.general.botSetting);this.gameData.editMatch({enemyPositioned:!0,enemyTime:this.positionEnemyTrigger,enemyStartPosition:i.startPosition}),this.enemyTimerValue=this.match.enemyTime,this.enemyTimerAnimation="clock--end"}this.executeEndSequence()}}onRobyOver(e,t){this.audio.playSound("roby-over"),this.draggableRobyImage="roby-over",this.initializeArrowCss(!0)}onRobyOut(){this.draggableRobyImage="roby-dragging-trasp",this.initializeArrowCss(!1)}onRobyDropped(e,t){if(this.audio.playSound("roby-positioned"),this.showCompleteGrid=!0,!this.startAnimation){this.gameData.editMatch({positioned:!0,time:this.nextGameTimerValue,startPosition:{side:e,distance:t}}),this.showDraggableRoby=!1,this.userTimerAnimation="clock--end",this.userTimerValue=this.match.time;let i=this.path.positionRoby(!0,this.match.startPosition);if(this.gameData.editUserMatchResult({nickname:this.user.nickname,playerId:this.user.playerId,pathLength:i.pathLength,time:this.match.time,startPosition:this.match.startPosition}),!this.match.enemyPositioned&&this.general.botSetting!==0){let r=this.path.calculateBotPath(this.general.botSetting);this.gameData.editMatch({enemyPositioned:!0,enemyTime:this.positionEnemyTrigger,enemyStartPosition:r.startPosition}),this.enemyTimerValue=this.match.enemyTime,this.enemyTimerAnimation="clock--end"}this.executeEndSequence()}}onExitGame(){this.audio.playSound("menu-click"),this.exitGameModal=!0}continueExit(){this.audio.playSound("menu-click"),this.quitGame(),this.router.navigate(["/home"])}stopExit(){this.audio.playSound("menu-click"),this.exitGameModal=!1}skip(){this.audio.playSound("menu-click"),this.quitGame(),this.router.navigate(["/bootmp-aftermatch"])}toggleBase(){this.audio.toggleBase(),this.basePlaying=this.audio.isEnabled()}buildSmallGrid(){let e={placeholder:!0},t=this.rows.length,i=this.cols.length;this.smallGrid=[],this.smallGrid.push([e,...Array.from({length:i},(r,o)=>({id:`start-0${o}`,start:!0})),e]);for(let r=0;r<t;r++){let o=[];o.push({id:`start-3${r}`,start:!0});for(let s=0;s<i;s++)o.push({tile:{row:r,col:s}});o.push({id:`start-1${r}`,start:!0}),this.smallGrid.push(o)}this.smallGrid.push([e,...Array.from({length:i},(r,o)=>({id:`start-2${o}`,start:!0})),e])}dropListId(e,t){return`drop-${e}-${t}`}robyOver(e,t){}robyOut(e,t){}robyDropped(e,t){}static \u0275fac=function(t){return new(t||n)(T(Et),T(Tc),T(rn),T(It),T(yt),T(Ot),T(Me),T(sn),T(on),T(Ce))};static \u0275cmp=W({type:n,selectors:[["app-match"]],decls:5,vars:1,consts:[["doneList","cdkDropList"],["robot","cdkDrag"],["id","bootmp-match",1,"page"],[1,"page--wrapper"],[1,"page--body"],["id","match-in-progress","class","page--component",4,"ngIf"],[1,"page--push"],["id","match-in-progress",1,"page--component"],["class","centered-columns",4,"ngIf"],["class","two-columns",4,"ngIf"],[1,"playground"],["class","playground--table",4,"ngIf"],["cdkDropList","",1,"example-list",3,"cdkDropListDropped","cdkDropListData"],["cdkDrag","",1,"example-box"],["cdkDrag","","id","robot",1,"draggable-wrapper",3,"cdkDragStarted","cdkDragEnded","cdkDragData"],["alt","Draggable Roby",3,"src","ngClass"],["class","centered-container",4,"ngIf"],[1,"centered-columns"],[1,"centered-columns--pair"],[1,"centered-columns--column"],[1,"big-text","ellipsize"],[1,"centered-columns--column","ellipsize"],[1,"centered-columns--column","ellipsize",3,"ngClass"],[1,"material-symbols-outlined"],[1,"far","fa-clock"],[1,"two-columns"],[1,"two-columns--column","clock","ellipsize",3,"ngClass"],[1,"two-columns--column"],[1,"ellipsize"],[1,"playground--table"],[4,"ngFor","ngForOf"],[3,"ngClass"],["class","playground--cell",4,"ngFor","ngForOf"],[1,"playground--cell"],[4,"ngIf"],[1,"playground--tile-placeholder"],["cdkDropList","",1,"arrow-dropzone",3,"cdkDropListDropped","cdkDropListData"],["cdkDrag","",1,"material-symbols-outlined",3,"cdkDragData","ngClass"],[1,"centered-container"],[1,"fas","fa-stopwatch"],[1,"navigation--button","flashing-animation",3,"click"],[1,"material-symbols-outlined","inline-block","animate-slide-left"]],template:function(t,i){t&1&&(y(0,"div",2)(1,"div",3)(2,"div",4),Y(3,YK,18,13,"div",5),V(4,"div",6),m()()()),t&2&&(g(3),D("ngIf",!i.countdownInProgress))},dependencies:[Ue,Ut,mi,St,um,dm,He,nt],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,50px);grid-template-rows:repeat(5,50px);gap:5px}.cell[_ngcontent-%COMP%]{background-color:#ff0;margin:10px;width:50px;height:50px}"]})};var KK=(n,e)=>({winner:n,matchCount:e});function XK(n,e){if(n&1&&(y(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22),w(4),m()(),y(5,"div",21)(6,"div",22),w(7),m()()(),y(8,"div",20)(9,"div",23),w(10),m(),y(11,"div",23),w(12),m()()()),n&2){let t=N();g(4),F(t.userGlobal==null?null:t.userGlobal.points),g(3),F(t.enemyGlobal==null?null:t.enemyGlobal.points),g(3),k(" ",t.user==null?null:t.user.nickname," "),g(2),k(" ",t.enemy==null?null:t.enemy.nickname," ")}}function JK(n,e){if(n&1&&(y(0,"div",19)(1,"div",22),w(2),m(),y(3,"div",24),w(4),m()()),n&2){let t=N();g(2),F(t.userGlobal==null?null:t.userGlobal.points),g(2),F(t.user==null?null:t.user.nickname)}}function QK(n,e){if(n&1&&(y(0,"h2",26),w(1),x(2,"translate"),m()),n&2){let t=N(2);g(),k(" ",Jt(2,1,"WINNER",nr(4,KK,t.winner,t.matchCount))," ")}}function ZK(n,e){n&1&&(y(0,"h2"),w(1),x(2,"translate"),m()),n&2&&(g(),F(O(2,1,"DRAW")))}function eX(n,e){if(n&1&&(y(0,"li",4),Y(1,QK,3,7,"h2",25)(2,ZK,3,3,"h2",12),m()),n&2){let t=N();g(),D("ngIf",!t.draw),g(),D("ngIf",t.draw)}}function tX(n,e){n&1&&(y(0,"span"),w(1,"-"),m())}function nX(n,e){if(n&1&&(y(0,"span",27),w(1),m()),n&2){let t=N();g(),F(t.enemyMatch==null?null:t.enemyMatch.pathLength)}}function iX(n,e){n&1&&(y(0,"span"),w(1,"-"),m())}function rX(n,e){if(n&1&&(y(0,"span",27),w(1),m()),n&2){let t=N();g(),F(t.timeFormatter(t.enemyMatch==null?null:t.enemyMatch.time))}}function oX(n,e){n&1&&(y(0,"span"),w(1,"-"),m())}function sX(n,e){if(n&1&&(y(0,"span",27),w(1),m()),n&2){let t=N();g(),F(t.enemyMatch==null?null:t.enemyMatch.points)}}function aX(n,e){n&1&&(y(0,"div",28),V(1,"i",29),w(2),x(3,"translate"),m()),n&2&&(g(2),k(" ",O(3,1,"COPIED")," "))}var hm=class n{constructor(e,t,i,r,o,s,a,c,l,u){this.rabbit=e;this.navigation=t;this.audio=i;this.session=r;this.translate=o;this.auth=s;this.language=a;this.shareService=c;this.visibility=l;this.router=u}gameData=_(Et);userLogged=!1;userNickname="";user;enemy;general;draw=!1;winner="";matchCount=0;userMatch;userGlobal;enemyMatch;enemyGlobal;newMatchClicked=!1;exitGameModal=!1;forceExitModal=!1;languageModal=!1;basePlaying=!1;sharedLegacy=!1;ngOnInit(){if(this.session.isSessionInvalid()){this.quitGame(),this.router.navigate(["/"]);return}this.visibility.setDeadlineCallback(()=>{this.rabbit.sendPlayerQuitRequest(),this.quitGame(),this.language.setTranslation("forceExitText","FORCE_EXIT"),this.forceExitModal=!0}),this.userLogged=this.auth.loginCompleted(),this.userLogged?this.userNickname=this.auth.getServerUserData().nickname:this.language.setTranslation("userNickname","NOT_LOGGED"),this.user=this.gameData.getUser(),this.enemy=this.gameData.getEnemy(),this.general=this.gameData.getGeneral(),this.draw=this.gameData.getMatch().winnerId===-1,this.winner=this.gameData.getMatchWinner().nickname,this.matchCount=this.gameData.getAggregated().matchCount,this.userMatch=this.gameData.getUserMatchResult(),this.userGlobal=this.gameData.getUserGlobalResult(),this.enemyMatch=this.gameData.getEnemyMatchResult(),this.enemyGlobal=this.gameData.getEnemyGlobalResult(),this.winner===this.user.nickname?this.audio.playSound("win"):this.general.botSetting!==0&&this.winner===this.enemy.nickname&&this.audio.playSound("lost"),this.basePlaying=this.audio.isEnabled()}quitGame(){this.gameData.initializeGameData()}newMatch(){this.audio.playSound("menu-click"),this.gameData.initializeMatchData(),this.gameData.editMatch({tiles:this.gameData.generateNewMatchTiles()}),this.router.navigate(["/bootmp-match"])}shareText(){this.audio.playSound("menu-click");let e=`I took ${this.gameData.getUserMatchResult().pathLength} steps with my Roby in a ${this.gameData.getGeneral().gameType} match!`;this.sharedLegacy=this.shareService.shareText("CodyColor Multiplayer",e,"https://codycolor.codemooc.net")}exitGame(){this.audio.playSound("menu-click"),this.exitGameModal=!0}continueExitGame(){this.audio.playSound("menu-click"),this.quitGame(),this.router.navigate(["/home"])}stopExitGame(){this.audio.playSound("menu-click"),this.exitGameModal=!1}toggleBase(){this.audio.toggleBase(),this.basePlaying=this.audio.isEnabled()}timeFormatter=this.gameData.formatTimeDecimals;continueForceExit(){this.audio.playSound("menu-click"),this.quitGame(),this.router.navigate(["/home"])}static \u0275fac=function(t){return new(t||n)(T(ro),T(rn),T(It),T(yt),T(Me),T(Ot),T(sn),T(Cc),T(on),T(Ce))};static \u0275cmp=W({type:n,selectors:[["app-bootmp-aftermatch"]],decls:54,vars:36,consts:[["id","bootmp-aftermatch",1,"page"],[1,"page--wrapper"],[1,"page--body"],[1,"list"],[1,"list--spaced-element"],["class","centered-columns",4,"ngIf"],["class","list--spaced-element",4,"ngIf"],[1,"stats"],[1,"stats--header"],[1,"stats--line"],[1,"material-symbols-outlined"],[1,"stats--player-text"],[4,"ngIf"],["class","stats--enemy-text",4,"ngIf"],[1,"list--simple-element"],[1,"navigation--button","flashing-animation",3,"click"],[1,"material-symbols-outlined","inline-block","animate-slide-left"],["class","copyable--copy-text",4,"ngIf"],[1,"page--push"],[1,"centered-columns"],[1,"centered-columns--pair"],[1,"centered-columns--column"],[1,"big-text","ellipsize"],[1,"centered-columns--column","ellipsize"],[1,"ellipsize"],["class","capitalize",4,"ngIf"],[1,"capitalize"],[1,"stats--enemy-text"],[1,"copyable--copy-text"],[1,"far","fa-copy","copyable--copy-icon"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4),Y(5,XK,13,4,"div",5)(6,JK,5,2,"div",5),m(),Y(7,eX,3,2,"li",6),y(8,"li",4)(9,"div",7)(10,"span",8),w(11),x(12,"translate"),m(),y(13,"p",9)(14,"span",10),w(15),m(),w(16),x(17,"translate"),y(18,"span",11),w(19),m(),Y(20,tX,2,0,"span",12)(21,nX,2,1,"span",13),m(),y(22,"p",9)(23,"span",10),w(24),m(),w(25),x(26,"translate"),y(27,"span",11),w(28),m(),Y(29,iX,2,0,"span",12)(30,rX,2,1,"span",13),m(),y(31,"p",9)(32,"span",10),w(33),m(),w(34),x(35,"translate"),y(36,"span",11),w(37),m(),Y(38,oX,2,0,"span",12)(39,sX,2,1,"span",13),m()()(),y(40,"li",14)(41,"button",15),B("click",function(){return i.shareText()}),w(42),x(43,"translate"),y(44,"span",16),w(45),m()(),Y(46,aX,4,3,"div",17),m(),y(47,"li",4)(48,"button",15),B("click",function(){return i.newMatch()}),w(49),x(50,"translate"),y(51,"span",16),w(52),m()()()()(),V(53,"div",18),m()()),t&2&&(g(5),D("ngIf",(i.general==null?null:i.general.botSetting)!==0),g(),D("ngIf",(i.general==null?null:i.general.botSetting)===0),g(),D("ngIf",(i.general==null?null:i.general.botSetting)!==0),g(4),F(O(12,24,"STATS_TITLE")),g(4),F("footprint"),g(),k(" ",O(17,26,"STATS_MOVES")," "),g(3),F(i.userMatch==null?null:i.userMatch.pathLength),g(),D("ngIf",(i.general==null?null:i.general.botSetting)!==0),g(),D("ngIf",(i.general==null?null:i.general.botSetting)!==0),g(3),F("schedule"),g(),k(" ",O(26,28,"STATS_TIME")," "),g(3),F(i.timeFormatter(i.userMatch==null?null:i.userMatch.time)),g(),D("ngIf",(i.general==null?null:i.general.botSetting)!==0),g(),D("ngIf",(i.general==null?null:i.general.botSetting)!==0),g(3),F("smart_toy"),g(),k(" ",O(35,30,"STATS_POINTS")," "),g(3),F(i.userMatch==null?null:i.userMatch.points),g(),D("ngIf",(i.general==null?null:i.general.botSetting)!==0),g(),D("ngIf",(i.general==null?null:i.general.botSetting)!==0),g(3),k(" ",O(43,32,"SHARE")," "),g(3),F("keyboard_double_arrow_right"),g(),D("ngIf",i.sharedLegacy),g(3),k(" ",O(50,34,"PLAY_AGAIN")," "),g(3),F("keyboard_double_arrow_right"))},dependencies:[Ue,St,He,nt],encapsulation:2})};var pm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=W({type:n,selectors:[["app-terms"]],decls:2,vars:0,template:function(t,i){t&1&&(y(0,"p"),w(1,"terms works!"),m())},encapsulation:2})};var gm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=W({type:n,selectors:[["app-privacy"]],decls:2,vars:0,template:function(t,i){t&1&&(y(0,"p"),w(1,"privacy works!"),m())},encapsulation:2})};var mm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=W({type:n,selectors:[["app-rankings"]],decls:2,vars:0,template:function(t,i){t&1&&(y(0,"p"),w(1,"rankings works!"),m())},encapsulation:2})};function cX(n,e){if(n&1){let t=Re();y(0,"div",13)(1,"div",14)(2,"p"),w(3),x(4,"translate"),m(),y(5,"ul",15)(6,"li",16)(7,"button",17),B("click",function(){J(t);let r=N();return Q(r.changeLanguage("it"))}),w(8),x(9,"translate"),m()(),y(10,"li",16)(11,"button",17),B("click",function(){J(t);let r=N();return Q(r.changeLanguage("en"))}),w(12),x(13,"translate"),m()(),y(14,"li",16)(15,"button",17),B("click",function(){J(t);let r=N();return Q(r.changeLanguage("hu"))}),w(16),x(17,"translate"),m()()(),y(18,"div",18)(19,"button",19),B("click",function(){J(t);let r=N();return Q(r.closeLanguageModal())}),w(20),x(21,"translate"),m()()()()}n&2&&(g(3),F(O(4,5,"LANG_DESC")),g(5),k(" ",O(9,7,"LANG_ITALIAN")," "),g(4),k(" ",O(13,9,"LANG_ENGLISH")," "),g(4),k(" ",O(17,11,"LANG_HUNGARIAN")," "),g(4),k(" ",O(21,13,"OK")," "))}var ym=class n{constructor(e,t){this.router=e;this.translate=t;this.translate.addLangs(["it","en"]),this.translate.setDefaultLang("it"),this.translate.use("it")}basePlaying=!0;languageModal=!1;userLogged=!1;userNickname="Guest";currentLang="en";get isItalian(){return this.currentLang==="it"}goToHome(){this.router.navigate(["/home"])}toggleBase(){this.basePlaying=!this.basePlaying}openLanguageModal(){this.languageModal=!0}closeLanguageModal(){this.languageModal=!1}changeLanguage(e){this.currentLang=e}static \u0275fac=function(t){return new(t||n)(T(Ce),T(Me))};static \u0275cmp=W({type:n,selectors:[["app-not-found"]],decls:23,vars:11,consts:[["id","404",1,"page"],[1,"page--wrapper"],[1,"page--push"],[1,"page--footer"],[1,"page--footer-column-left","ellipsize"],[1,"page--footer-button",3,"click"],[1,"fa","fa-times","page--footer-icons"],[1,"page--footer-icons",3,"ngClass"],[1,"page--footer-icons","fas",3,"ngClass"],[1,"page--footer-column-right","ellipsize"],[1,"page--footer-button"],[1,"ellipsize"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal--content"],[1,"list"],[1,"list--simple-element"],[1,"modal--button-language",3,"click"],[1,"modal--buttons-container"],[1,"modal--button-primary",3,"click"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"div",1)(2,"h1"),w(3),x(4,"translate"),m(),y(5,"h2"),w(6),x(7,"translate"),m(),V(8,"div",2),m(),y(9,"div",3)(10,"div",4)(11,"button",5),B("click",function(){return i.goToHome()}),V(12,"i",6),m(),y(13,"button",5),B("click",function(){return i.toggleBase()}),V(14,"i",7),m(),y(15,"button",5),B("click",function(){return i.openLanguageModal()}),V(16,"i",8),m()(),y(17,"div",9)(18,"button",10)(19,"span",11),V(20,"i",7),w(21),m()()()(),Y(22,cX,22,15,"div",12),m()),t&2&&(g(3),F(O(4,7,"404")),g(3),F(O(7,9,"PAGE_NOT_FOUND")),g(8),D("ngClass",i.basePlaying?"fas fa-volume-up":"fas fa-volume-mute"),g(2),D("ngClass",i.isItalian?"fa-globe-europe":"fa-globe-americas"),g(4),D("ngClass",i.userLogged?"fas fa-user-circle":"far fa-user-circle"),g(),k(" ",i.userNickname," "),g(),D("ngIf",i.languageModal))},dependencies:[Ue,Ut,St,He,nt],encapsulation:2})};var lX=()=>({type:"robot"}),uX=n=>({time:n});function dX(n,e){if(n&1&&(y(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),w(4),m()(),y(5,"div",17)(6,"div",18),w(7),m()()(),y(8,"div",16)(9,"div",19),w(10),m(),y(11,"div",19),w(12),m()(),y(13,"div",16)(14,"div",20)(15,"span",21),w(16),m(),V(17,"i",22),w(18),m(),y(19,"div",20),V(20,"i",22),w(21),m()()()),n&2){let t=N(2);g(4),F(t.userPoints),g(3),F(t.enemyPoints),g(3),k(" ",t.user.nickname," "),g(2),k(" ",t.enemy.nickname," "),g(2),D("ngClass",t.userTimerAnimation),g(2),F("schedule"),g(2),k(" ",t.timerFormatter(t.userTimerValue)," "),g(),D("ngClass",t.enemyTimerAnimation),g(2),k(" ",t.timerFormatter(t.enemyTimerValue)," ")}}function fX(n,e){if(n&1&&(y(0,"div",23)(1,"div",24),V(2,"i",22),w(3),m(),y(4,"div",25)(5,"div",18),w(6),m(),y(7,"div",26),w(8),m()()()),n&2){let t=N(2);g(),D("ngClass",t.userTimerAnimation),g(2),k(" ",t.timerFormatter(t.userTimerValue)," "),g(3),F(t.userPoints),g(2),F(t.user.nickname)}}function hX(n,e){if(n&1&&(y(0,"td"),V(1,"div",29),m()),n&2){let t=e.$implicit;g(),D("ngClass",t)}}function pX(n,e){if(n&1&&(y(0,"tr"),Y(1,hX,2,1,"td",28),m()),n&2){let t=e.$implicit;g(),D("ngForOf",t)}}function gX(n,e){if(n&1&&(y(0,"table",27),Y(1,pX,2,1,"tr",28),m()),n&2){let t=N(2);g(),D("ngForOf",t.tilesCss)}}function mX(n,e){n&1&&(er(0),V(1,"div",34),tr())}function yX(n,e){if(n&1&&(y(0,"span",36),w(1,"keyboard_arrow_right"),m()),n&2){let t=N(2).index,i=N().index,r=N(3);D("ngClass",r.startPositionsCss[i][t])}}function _X(n,e){if(n&1&&(er(0),Y(1,yX,2,1,"span",35),tr()),n&2){let t=N(5);g(),D("ngIf",t.showArrows)}}function vX(n,e){if(n&1&&(er(0),V(1,"div",29),tr()),n&2){let t=N().$implicit,i=N(4);g(),D("ngClass",i.tilesCss[t.tile.row][t.tile.col])}}function bX(n,e){if(n&1&&(y(0,"td",32),V(1,"div"),Y(2,mX,2,0,"ng-container",33)(3,_X,2,1,"ng-container",33)(4,vX,2,1,"ng-container",33),m()),n&2){let t=e.$implicit;Dt("id",t.id),g(2),D("ngIf",t.placeholder),g(),D("ngIf",t.start),g(),D("ngIf",t.tile)}}function wX(n,e){if(n&1&&(y(0,"tr"),Y(1,bX,5,4,"td",31),m()),n&2){let t=e.$implicit;g(),D("ngForOf",t)}}function EX(n,e){if(n&1){let t=Re();y(0,"table",30),B("cdkDropListDropped",function(r){J(t);let o=N(2);return Q(o.onTileDropped(r))}),Y(1,wX,2,1,"tr",28),m()}if(n&2){let t=N(2);D("cdkDropListData",t.smallGrid),g(),D("ngForOf",t.smallGrid)}}function IX(n,e){if(n&1&&(y(0,"div",37),V(1,"i",38),w(2),x(3,"translate"),m()),n&2){let t=N(2);g(2),k(" ",Jt(3,1,"TIME_PLAYER",pi(4,uX,t.finalTimeFormatter(t.match.time)))," ")}}function CX(n,e){n&1&&(y(0,"div",37),V(1,"i",38),w(2),x(3,"translate"),m()),n&2&&(g(2),k(" ",O(3,1,"TIME_OUT")," "))}function DX(n,e){if(n&1){let t=Re();y(0,"div",37)(1,"button",39),B("click",function(){J(t);let r=N(2);return Q(r.skip())}),w(2),x(3,"translate"),y(4,"span",40),w(5),m()()()}n&2&&(g(2),k(" ",O(3,2,"SKIP")," "),g(3),F("keyboard_double_arrow_right"))}function SX(n,e){if(n&1){let t=Re();y(0,"div",6),w(1),y(2,"div",6),Y(3,dX,22,9,"div",7)(4,fX,9,4,"div",8),y(5,"div",9),Y(6,gX,2,1,"table",10)(7,EX,2,2,"table",11),m(),y(8,"div",12,0),B("cdkDragStarted",function(){J(t);let r=N();return Q(r.onDragStarted())})("cdkDragEnded",function(){J(t);let r=N();return Q(r.onDragEnded())}),V(10,"img",13),m(),Y(11,IX,4,6,"div",14)(12,CX,4,3,"div",14)(13,DX,6,4,"div",14),m()()}if(n&2){let t=N();g(),k(" data botSetting ",t.general.botSetting," "),g(2),D("ngIf",t.general.botSetting!==0),g(),D("ngIf",t.general.botSetting===0),g(2),D("ngIf",!t.showCompleteGrid),g(),D("ngIf",t.showCompleteGrid),g(),D("cdkDragData",eh(11,lX)),g(2),D("src","assets/img/"+t.draggableRobyImage+".png",$f)("ngClass",t.showCompleteGrid?"roby-draggable":"roby-draggable floating-up-animation"),g(),D("ngIf",t.match.positioned&&t.match.time>0),g(),D("ngIf",t.match.positioned&&t.match.time===0),g(),D("ngIf",t.startAnimation)}}var _m=class n{constructor(e,t,i,r,o,s,a,c,l,u){this.gameData=e;this.path=t;this.navigation=i;this.audio=r;this.session=o;this.auth=s;this.translate=a;this.translation=c;this.visibility=l;this.router=u}rows=Array(5).fill(0);cols=Array(5).fill(0);countdownInProgress=!0;startCountdownText="";userLogged=!1;userNickname="";showDraggableRoby=!0;user;enemy;general;match;userPoints=0;enemyPoints=0;userTimerValue=0;enemyTimerValue=0;userTimerAnimation="";enemyTimerAnimation="";tilesCss=[];startPositionsCss=[];showCompleteGrid=!1;showArrows=!1;startAnimation=!1;draggableRobyImage="roby-idle";exitGameModal=!1;languageModal=!1;basePlaying=!1;isDragging=!1;startCountdownTimer;gameTimer;nextGameTimerValue;positionEnemyTrigger;smallGrid=[];timerFormatter;finalTimeFormatter;draggable={data:"myDragData",effectAllowed:"all",disable:!1,handle:!1};ngOnInit(){if(this.buildSmallGrid(),this.session.isSessionInvalid()){this.quitGame(),this.router.navigate(["/"]);return}this.userLogged=this.auth.loginCompleted(),this.userNickname=this.userLogged?this.auth.getServerUserData().nickname:this.translation.setTranslation("userNickname","NOT_LOGGED"),this.user=this.gameData.getUser(),this.enemy=this.gameData.getEnemy(),this.general=this.gameData.getGeneral(),this.match=this.gameData.getMatch(),console.log("Match data:",this.match),this.userPoints=this.gameData.getUserGlobalResult().points,this.enemyPoints=this.gameData.getEnemyGlobalResult().points,this.userTimerValue=this.enemyTimerValue=this.general.timerSetting,this.nextGameTimerValue=this.general.timerSetting,this.initializeArrowCss(!1),this.initializeTilesCss(),this.countdownInProgress=!1,this.startMatchTimers(),this.setupEnemyTrigger();let e=this.gameData.getGeneral().botSetting;this.timerFormatter=e!==0?this.gameData.formatTimeDecimals:this.gameData.formatTimeMatchClock,this.finalTimeFormatter=this.gameData.formatTimeDecimals}ngOnDestroy(){this.clearTimers()}quitGame(){this.clearTimers(),this.path.quitGame(),this.gameData.initializeGameData()}clearTimers(){this.startCountdownTimer&&clearInterval(this.startCountdownTimer),this.gameTimer&&clearTimeout(this.gameTimer)}initializeArrowCss(e){let t=this.smallGrid.length,i=this.smallGrid[0]?.length||0;this.startPositionsCss=Array.from({length:t},(r,o)=>Array.from({length:i},(s,a)=>this.smallGrid[o][a]?.start?this.buildArrowCss(o%4,a%5,e):""))}buildArrowCss(e,t,i){let o=["down","left","up","right"][e]??"",s=i?`fas fa-chevron-circle-${o} playground--arrow-over`:`fas fa-angle-${o} playground--arrow`;return this.showArrows&&(s+=` floating-${o}-animation`),s}initializeTilesCss(){let e=this.match.tiles;this.tilesCss=e.map((t,i)=>t.map((r,o)=>{switch(r){case"Y":return"playground--tile-yellow";case"R":return"playground--tile-red";case"G":return"playground--tile-gray";default:return""}}))}startCountdown(){let e=3;this.startCountdownText=e.toString(),this.audio.playSound("countdown"),this.startCountdownTimer=setInterval(()=>{e--,e>0?(this.audio.playSound("countdown"),this.startCountdownText=e.toString()):e===0?(this.audio.playSound("start"),this.startCountdownText="Let's Cody!"):(clearInterval(this.startCountdownTimer),this.countdownInProgress=!1,this.startMatchTimers())},1e3)}setupEnemyTrigger(){let e=this.general.timerSetting;this.positionEnemyTrigger=e/(this.general.botSetting||2)*(this.general.botSetting/1)}startMatchTimers(){let t=Date.now()+10,i=()=>{let r=Date.now()-t;if(this.nextGameTimerValue-=10+r,this.nextGameTimerValue>0&&!this.startAnimation){if(this.match.positioned||(this.userTimerValue=this.nextGameTimerValue),!this.match.enemyPositioned&&this.general.botSetting!==0&&(console.log("!this.match.enemyPositioned && this.general.botSetting !== 0 is true"),this.enemyTimerValue=this.nextGameTimerValue),this.userTimerValue<1e4&&!this.match.positioned&&(this.userTimerAnimation="clock-ending-animation"),this.enemyTimerValue<1e4&&!this.match.enemyPositioned&&this.general.botSetting!==0&&(console.log("Enemy timer below 10s"),this.enemyTimerAnimation="clock-ending-animation"),this.enemyTimerValue<=this.positionEnemyTrigger&&!this.match.enemyPositioned&&this.general.botSetting!==0){console.log("Positioning enemy at");let o=this.path.calculateBotPath(this.general.botSetting);this.gameData.editMatch({enemyPositioned:!0,enemyTime:this.positionEnemyTrigger,enemyStartPosition:o.startPosition}),this.enemyTimerValue=this.match.enemyTime,this.enemyTimerAnimation="clock--end"}t=Date.now()+10,this.gameTimer=setTimeout(i,10)}else console.log("Timer ended or animation started"),this.match.positioned||(this.gameData.editMatch({positioned:!0,time:0,startPosition:{side:-1,distance:-1}}),this.userTimerValue=0,this.userTimerAnimation="clock--end",this.showCompleteGrid=!0,this.showArrows=!1,this.showDraggableRoby=!1,this.initializeArrowCss(!1),this.gameData.editUserMatchResult({nickname:this.user.nickname,playerId:this.user.playerId,pathLength:0,time:0,points:0,startPosition:{side:-1,distance:-1}})),this.executeEndSequence()};this.gameTimer=setTimeout(i,10)}executeEndSequence(){if(this.startAnimation=!0,this.general.botSetting!==0){let e=this.path.positionRoby(!1,this.match.enemyStartPosition);this.gameData.editEnemyMatchResult({})}this.gameData.editAggregated({matchCount:this.gameData.getAggregated().matchCount+1}),this.gameData.editMatch({winnerId:this.gameData.getMatchWinner().playerId}),this.path.animateActiveRobys(()=>{this.router.navigate(["/bootmp-aftermatch"])})}onDragStarted(){this.isDragging=!0,this.audio.playSound("roby-drag"),this.showCompleteGrid=!0,this.draggableRobyImage="roby-dragging-trasp",this.showArrows=!0,this.initializeArrowCss(!1)}onDragEnded(){this.isDragging=!1,this.draggableRobyImage="roby-idle",this.audio.playSound("roby-positioned"),this.showCompleteGrid=!0}canDropRobot=(e,t)=>(console.log(e),t.data.start===!0);onTileDropped(e){console.log("Drop event",e);let t=e.event,i=t.clientX||0,r=t.clientY||0,o=e.container.element.nativeElement,a=Array.from(o.querySelectorAll("td")).find(c=>{let l=c.getBoundingClientRect();return i>=l.left&&i<=l.right&&r>=l.top&&r<=l.bottom});a&&console.log("Dropped on cell id",a.id)}onTileOver(e){let{row:t,col:i}=e.container.data;console.log("Roby over",t,i),this.draggableRobyImage="roby-over"}onTileOut(e){let{row:t,col:i}=e.container.data;console.log("Roby out",t,i),this.draggableRobyImage="roby-dragging-trasp"}onDragStart(e){console.log("drag started",JSON.stringify(e,null,2)),this.audio.playSound("roby-drag"),this.showCompleteGrid=!0,this.draggableRobyImage="roby-dragging-trasp",this.showArrows=!0,this.initializeArrowCss(!1)}onDragEnd(e){if(console.log("drag ended",JSON.stringify(e,null,2)),console.log(e),this.audio.playSound("roby-positioned"),this.showCompleteGrid=!0,!this.startAnimation){this.showDraggableRoby=!1,this.userTimerAnimation="clock--end",this.userTimerValue=this.match.time;let t=this.path.positionRoby(!0,this.match.startPosition);if(this.gameData.editUserMatchResult({nickname:this.user.nickname,playerId:this.user.playerId,pathLength:t.pathLength,time:this.match.time,startPosition:this.match.startPosition}),!this.match.enemyPositioned&&this.general.botSetting!==0){let i=this.path.calculateBotPath(this.general.botSetting);this.gameData.editMatch({enemyPositioned:!0,enemyTime:this.positionEnemyTrigger,enemyStartPosition:i.startPosition}),this.enemyTimerValue=this.match.enemyTime,this.enemyTimerAnimation="clock--end"}this.executeEndSequence()}}onRobyOver(e,t){this.audio.playSound("roby-over"),this.draggableRobyImage="roby-over",this.initializeArrowCss(!0)}onRobyOut(){this.draggableRobyImage="roby-dragging-trasp",this.initializeArrowCss(!1)}onRobyDropped(e,t){if(this.audio.playSound("roby-positioned"),this.showCompleteGrid=!0,!this.startAnimation){this.gameData.editMatch({positioned:!0,time:this.nextGameTimerValue,startPosition:{side:e,distance:t}}),this.showDraggableRoby=!1,this.userTimerAnimation="clock--end",this.userTimerValue=this.match.time;let i=this.path.positionRoby(!0,this.match.startPosition);if(this.gameData.editUserMatchResult({nickname:this.user.nickname,playerId:this.user.playerId,pathLength:i.pathLength,time:this.match.time,startPosition:this.match.startPosition}),!this.match.enemyPositioned&&this.general.botSetting!==0){let r=this.path.calculateBotPath(this.general.botSetting);this.gameData.editMatch({enemyPositioned:!0,enemyTime:this.positionEnemyTrigger,enemyStartPosition:r.startPosition}),this.enemyTimerValue=this.match.enemyTime,this.enemyTimerAnimation="clock--end"}this.executeEndSequence()}}onExitGame(){this.audio.playSound("menu-click"),this.exitGameModal=!0}continueExit(){this.audio.playSound("menu-click"),this.quitGame(),this.router.navigate(["/home"])}stopExit(){this.audio.playSound("menu-click"),this.exitGameModal=!1}skip(){this.audio.playSound("menu-click"),this.quitGame(),this.router.navigate(["/bootmp-aftermatch"])}toggleBase(){this.audio.toggleBase(),this.basePlaying=this.audio.isEnabled()}buildSmallGrid(){let e={placeholder:!0},t=this.rows.length,i=this.cols.length;this.smallGrid=[],console.log("Building small grid with",t,"rows and",i,"cols"),this.smallGrid.push([e,...Array.from({length:i},(r,o)=>({id:`start-0${o}`,start:!0})),e]);for(let r=0;r<t;r++){let o=[];o.push({id:`start-3${r}`,start:!0});for(let s=0;s<i;s++)o.push({tile:{row:r,col:s}});o.push({id:`start-1${r}`,start:!0}),this.smallGrid.push(o)}}dropListId(e,t){return`drop-${e}-${t}`}robyOver(e,t){}robyOut(e,t){}robyDropped(e,t){}static \u0275fac=function(t){return new(t||n)(T(Et),T(Tc),T(rn),T(It),T(yt),T(Ot),T(Me),T(sn),T(on),T(Ce))};static \u0275cmp=W({type:n,selectors:[["app-test-drag"]],decls:5,vars:1,consts:[["robot","cdkDrag"],["id","bootmp-match",1,"page"],[1,"page--wrapper"],[1,"page--body"],["id","match-in-progress","class","page--component",4,"ngIf"],[1,"page--push"],["id","match-in-progress",1,"page--component"],["class","centered-columns",4,"ngIf"],["class","two-columns",4,"ngIf"],[1,"playground"],["class","playground--table",4,"ngIf"],["cdkDropList","","class","playground--table",3,"cdkDropListData","cdkDropListDropped",4,"ngIf"],["cdkDrag","","id","robot",1,"draggable-wrapper",3,"cdkDragStarted","cdkDragEnded","cdkDragData"],["alt","Draggable Roby",3,"src","ngClass"],["class","centered-container",4,"ngIf"],[1,"centered-columns"],[1,"centered-columns--pair"],[1,"centered-columns--column"],[1,"big-text","ellipsize"],[1,"centered-columns--column","ellipsize"],[1,"centered-columns--column","ellipsize",3,"ngClass"],[1,"material-symbols-outlined"],[1,"far","fa-clock"],[1,"two-columns"],[1,"two-columns--column","clock","ellipsize",3,"ngClass"],[1,"two-columns--column"],[1,"ellipsize"],[1,"playground--table"],[4,"ngFor","ngForOf"],[3,"ngClass"],["cdkDropList","",1,"playground--table",3,"cdkDropListDropped","cdkDropListData"],["class","playground--cell",4,"ngFor","ngForOf"],[1,"playground--cell"],[4,"ngIf"],[1,"playground--tile-placeholder"],["class","material-symbols-outlined",3,"ngClass",4,"ngIf"],[1,"material-symbols-outlined",3,"ngClass"],[1,"centered-container"],[1,"fas","fa-stopwatch"],[1,"navigation--button","flashing-animation",3,"click"],[1,"material-symbols-outlined","inline-block","animate-slide-left"]],template:function(t,i){t&1&&(y(0,"div",1)(1,"div",2)(2,"div",3),Y(3,SX,14,12,"div",4),V(4,"div",5),m()()()),t&2&&(g(3),D("ngIf",!i.countdownInProgress))},dependencies:[Ue,Ut,mi,St,um,dm,He,nt],encapsulation:2})};var fP=[{path:"",component:Jh},{path:"home",component:Qh},{path:"login",component:Zh},{path:"rules",component:ep},{path:"random-mmaking",component:$g},{path:"custom-mmaking",component:Wg},{path:"royale-mmaking",component:Gg},{path:"custom-new-match",component:zg},{path:"royale-new-match",component:qg},{path:"arcade-match",component:Yg},{path:"arcade-aftermatch",component:Kg},{path:"royale-match",component:Xg},{path:"royale-aftermatch",component:Jg},{path:"bootmp-mmaking",component:Qg},{path:"bootmp-match",component:fm},{path:"bootmp-aftermatch",component:hm},{path:"terms",component:pm},{path:"privacy",component:gm},{path:"rankings",component:mm},{path:"test",component:_m},{path:"**",component:ym}];var hP=(()=>{class n{http;prefix;suffix;constructor(t,i="/assets/i18n/",r=".json"){this.http=t,this.prefix=i,this.suffix=r}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}static \u0275fac=function(i){return new(i||n)(L(ma),L(String),L(String))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})();var TX=n=>new hP(n,"./i18n/",".json"),pP={providers:[tA({eventCoalescing:!0}),ab(fP),Fv(),AR({defaultLanguage:"it",loader:{provide:sr,useFactory:TX,deps:[ma]}})]};var ed=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Ac=class extends ed{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.projectableNodes=o}},Rc=class extends ed{templateRef;viewContainerRef;context;injector;constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},VI=class extends ed{element;constructor(e){super(),this.element=e instanceof Pe?e.nativeElement:e}},xc=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Ac)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Rc)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof VI)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var vm=class extends xc{outletElement;_appRef;_defaultInjector;_document;constructor(e,t,i,r,o){super(),this.outletElement=e,this._appRef=i,this._defaultInjector=r,this._document=o}attachComponentPortal(e){let t;if(e.viewContainerRef){let i=e.injector||e.viewContainerRef.injector,r=i.get(qi,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else t=nh(e.component,{elementInjector:e.injector||this._defaultInjector||Ae.NULL,environmentInjector:this._appRef.injector,projectableNodes:e.projectableNodes||void 0}),this._appRef.attachView(t.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(t.hostView),t.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);r!==-1&&t.remove(r)}),this._attachedPortal=e,i}attachDomPortal=e=>{let t=e.element;t.parentNode;let i=this._document.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var td=(()=>{class n extends xc{_moduleRef=_(qi,{optional:!0});_document=_(ce);_viewContainerRef=_(Xt);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new ie;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let i=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,r=i.createComponent(t.component,{index:i.length,injector:t.injector||i.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=t=>{let i=t.element;i.parentNode;let r=this._document.createComment("dom-portal");t.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=t,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(i){return new(i||n)};static \u0275dir=be({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[tt]})}return n})();var gP=EI(),jI=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Qe(-this._previousScrollPosition.left),e.style.top=Qe(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,r=t.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),gP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),gP&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};var UI=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Ne(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},bm=class{enable(){}disable(){}attach(){}};function HI(n,e){return e.some(t=>{let i=n.bottom<t.top,r=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return i||r||o||s})}function mP(n,e){return e.some(t=>{let i=n.top<t.top,r=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return i||r||o||s})}var $I=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();HI(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},AX=(()=>{class n{_scrollDispatcher=_(Zg);_viewportRuler=_(Xu);_ngZone=_(pe);_document=_(ce);constructor(){}noop=()=>new bm;close=t=>new UI(this._scrollDispatcher,this._ngZone,this._viewportRuler,t);block=()=>new jI(this._viewportRuler,this._document);reposition=t=>new $I(this._scrollDispatcher,this._viewportRuler,this._ngZone,t);static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nd=class{positionStrategy;scrollStrategy=new bm;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var WI=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var IP=(()=>{class n{_attachedOverlays=[];_document=_(ce);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RX=(()=>{class n extends IP{_ngZone=_(pe);_renderer=_(gt).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(r){return(t||(t=et(n)))(r||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xX=(()=>{class n extends IP{_platform=_(yn);_ngZone=_(pe);_renderer=_(gt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let i=this._document.body,r={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[At(this._renderer,i,"pointerdown",this._pointerDownListener,r),At(this._renderer,i,"click",this._clickListener,r),At(this._renderer,i,"auxclick",this._clickListener,r),At(this._renderer,i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=cn(t)};_clickListener=t=>{let i=cn(t),r=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(yP(a.overlayElement,i)||yP(a.overlayElement,r))break;let c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(t)):c.next(t)}};static \u0275fac=(()=>{let t;return function(r){return(t||(t=et(n)))(r||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yP(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===n)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var CP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=W({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return n})(),wm=(()=>{class n{_platform=_(yn);_containerElement;_document=_(ce);_styleLoader=_(Ss);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||II()){let r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(t),II()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(CP)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GI=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,i,r){this._renderer=t,this._ngZone=i,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Mc=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new U;_attachments=new U;_detachments=new U;_positionStrategy;_scrollStrategy;_locationChanges=_e.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new U;_outsidePointerEvents=new U;_renders=new U;_afterRenderRef;_afterNextRenderRef;constructor(e,t,i,r,o,s,a,c,l,u=!1,d,h){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._injector=d,this._renderer=h,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=Kn(()=>q_(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Yn(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=E(E({},this._config),e),this._updateElementSize()}setDirection(e){this._config=$(E({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Qe(this._config.width),e.height=Qe(this._config.height),e.minWidth=Qe(this._config.minWidth),e.minHeight=Qe(this._config.minHeight),e.maxWidth=Qe(this._config.maxWidth),e.maxHeight=Qe(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new GI(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,i){let r=qu(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(ln(Hi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},_P="cdk-overlay-connected-position-bounding-box",MX=/([A-Za-z%]+)$/,zI=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new U;_resizeSubscription=_e.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(_P),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),u=this._getOverlayFit(l,t,i,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(u,l,i)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let l of o){let u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ts(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(_P),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=i.originX=="start"?s:a}t.left<0&&(r-=t.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r;i.overlayX=="center"?r=-t.width/2:i.overlayX==="start"?r=this._isRtl()?-t.width:0:r=this._isRtl()?0:-t.width;let o;return i.overlayY=="center"?o=-t.height/2:o=i.overlayY=="top"?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){let o=bP(t),{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let u=0-s,d=s+o.width-i.width,h=0-a,f=a+o.height-i.height,b=this._subtractOverflows(o.width,u,d),v=this._subtractOverflows(o.height,h,f),I=b*v;return{visibleArea:I,isCompletelyWithinViewport:o.width*o.height===I,fitsInViewportVertically:v===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let r=i.bottom-t.y,o=i.right-t.x,s=vP(this._overlayRef.getConfig().minHeight),a=vP(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=r,l=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&l}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=bP(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0),u=0,d=0;return r.width<=o.width?u=l||-s:u=e.x<this._viewportMargin?o.left-i.left-e.x:0,r.height<=o.height?d=c||-a:d=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!kX(this._lastScrollVisibility,i)){let r=new WI(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=i.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let f=Math.min(i.bottom-e.y+i.top,e.y),b=this._lastBoundingBoxSize.height;o=f*2,s=e.y-f,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-b/2)}let c=t.overlayX==="start"&&!r||t.overlayX==="end"&&r,l=t.overlayX==="end"&&!r||t.overlayX==="start"&&r,u,d,h;if(l)h=i.width-e.x+this._viewportMargin*2,u=e.x-this._viewportMargin;else if(c)d=e.x,u=i.right-e.x;else{let f=Math.min(i.right-e.x+i.left,e.x),b=this._lastBoundingBoxSize.width;u=f*2,d=e.x-f,u>b&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-b/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Qe(i.height),r.top=Qe(i.top),r.bottom=Qe(i.bottom),r.width=Qe(i.width),r.left=Qe(i.left),r.right=Qe(i.right),t.overlayX==="center"?r.alignItems="center":r.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?r.justifyContent="center":r.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Qe(o)),s&&(r.maxWidth=Qe(s))}this._lastBoundingBoxSize=i,Ts(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ts(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ts(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let u=this._viewportRuler.getViewportScrollPosition();Ts(i,this._getExactOverlayY(t,e,u)),Ts(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=Qe(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Qe(s.maxWidth):o&&(i.maxWidth="")),Ts(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Qe(o.y);return r}_getExactOverlayX(e,t,i){let r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Qe(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mP(e,i),isOriginOutsideView:HI(e,i),isOverlayClipped:mP(t,i),isOverlayOutsideView:HI(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&qu(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Pe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function Ts(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function vP(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(MX);return!t||t==="px"?parseFloat(e):null}return n||null}function bP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function kX(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var wP="cdk-global-overlay-wrapper",qI=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(wP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),l=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,d=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",f="",b="",v="";c?v="flex-start":u==="center"?(v="center",h?b=d:f=d):h?u==="left"||u==="end"?(v="flex-end",f=d):(u==="right"||u==="start")&&(v="flex-start",b=d):u==="left"||u==="start"?(v="flex-start",f=d):(u==="right"||u==="end")&&(v="flex-end",b=d),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":b,t.justifyContent=v,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(wP),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},NX=(()=>{class n{_viewportRuler=_(Xu);_document=_(ce);_platform=_(yn);_overlayContainer=_(wm);constructor(){}global(){return new qI}flexibleConnectedTo(t){return new zI(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kc=(()=>{class n{scrollStrategies=_(AX);_overlayContainer=_(wm);_positionBuilder=_(NX);_keyboardDispatcher=_(RX);_injector=_(Ae);_ngZone=_(pe);_document=_(ce);_directionality=_(so);_location=_(gi);_outsideClickDispatcher=_(xX);_animationsModuleType=_(Uf,{optional:!0});_idGenerator=_(ao);_renderer=_(gt).createRenderer(null,null);_appRef;_styleLoader=_(Ss);constructor(){}create(t){this._styleLoader.load(CP);let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new nd(t);return s.direction=s.direction||this._directionality.value,new Mc(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(pt),this._renderer)}position(){return this._positionBuilder}_createPaneElement(t){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(zn)),new vm(t,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PX(n,e){}var co=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var XI=(()=>{class n extends xc{_elementRef=_(Pe);_focusTrapFactory=_(BO);_config;_interactivityChecker=_(TI);_ngZone=_(pe);_overlayRef=_(Mc);_focusMonitor=_(jO);_renderer=_(Mr);_platform=_(yn);_document=_(ce,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=_(fn);_injector=_(Ae);_isDestroyed=!1;constructor(){super(),this._config=_(co,{optional:!0})||new co,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}attachDomPortal=t=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(t);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),s(),t.removeAttribute("tabindex")},o=this._renderer.listen(t,"blur",r),s=this._renderer.listen(t,"mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){this._isDestroyed||Yn(()=>{let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let t=this._config.restoreFocus,i=null;if(typeof t=="string"?i=this._document.querySelector(t):typeof t=="boolean"?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=Ku(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let t=this._elementRef.nativeElement,i=Ku();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ku()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=W({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&vv(td,7),i&2){let o;bv(o=wv())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&Dt("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[tt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&Y(0,PX,0,0,"ng-template",0)},dependencies:[td],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})(),id=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new U;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(e,t){this.overlayRef=e,this.config=t,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!tm(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(e,t){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},LX=new P("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=_(kc);return()=>n.scrollStrategies.block()}}),FX=new P("DialogData"),BX=new P("DefaultDialogConfig");var DP=(()=>{class n{_overlay=_(kc);_injector=_(Ae);_defaultOptions=_(BX,{optional:!0});_parentDialog=_(n,{optional:!0,skipSelf:!0});_overlayContainer=_(wm);_idGenerator=_(ao);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new U;_afterOpenedAtThisLevel=new U;_ariaHiddenElements=new Map;_scrollStrategy=_(LX);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Un(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Hn(void 0)));constructor(){}open(t,i){let r=this._defaultOptions||new co;i=E(E({},r),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new id(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){YI(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){YI(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),YI(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let i=new nd({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){let o=r.injector||r.viewContainerRef?.injector,s=[{provide:co,useValue:r},{provide:id,useValue:i},{provide:Mc,useValue:t}],a;r.container?typeof r.container=="function"?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=XI;let c=new Ac(a,r.viewContainerRef,Ae.create({parent:o||this._injector,providers:s}));return t.attach(c).instance}_attachDialogContent(t,i,r,o){if(t instanceof un){let s=this._createInjector(o,i,r,void 0),a={$implicit:o.data,dialogRef:i};o.templateContext&&(a=E(E({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Rc(t,null,a,s))}else{let s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new Ac(t,o.viewContainerRef,s));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){let s=t.injector||t.viewContainerRef?.injector,a=[{provide:FX,useValue:t.data},{provide:id,useValue:i}];return t.providers&&(typeof t.providers=="function"?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(so,null,{optional:!0}))&&a.push({provide:so,useValue:{value:t.direction,change:q()}}),Ae.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){let r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let t=this._overlayContainer.getContainerElement();if(t.parentElement){let i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==t&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YI(n,e){let t=n.length;for(;t--;)e(n[t])}function VX(n,e){}var Im=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},JI="mdc-dialog--open",SP="mdc-dialog--opening",TP="mdc-dialog--closing",jX=150,UX=75,HX=(()=>{class n extends XI{_animationMode=_(Uf,{optional:!0});_animationStateChanged=new ie;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?RP(this._config.enterAnimationDuration)??jX:0;_exitAnimationDuration=this._animationsEnabled?RP(this._config.exitAnimationDuration)??UX:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(AP,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(SP,JI)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(JI),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(JI),this._animationsEnabled?(this._hostElement.style.setProperty(AP,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(TP)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(SP,TP)}_waitForAnimationToComplete(t,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let t;return function(r){return(t||(t=et(n)))(r||n)}})();static \u0275cmp=W({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(_v("id",r._config.id),Dt("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),hi("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[tt],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(y(0,"div",0)(1,"div",1),Y(2,VX,0,0,"ng-template",2),m()())},dependencies:[td],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return n})(),AP="--mat-dialog-transition-duration";function RP(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?Cs(n.substring(0,n.length-2)):n.endsWith("s")?Cs(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var Em=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(Em||{}),rd=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new U;_beforeClosed=new U;_result;_closeFallbackTimeout;_state=Em.OPEN;_closeInteractionType;constructor(e,t,i){this._ref=e,this._containerInstance=i,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Ne(r=>r.state==="opened"),qe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Ne(r=>r.state==="closed"),qe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Hi(this.backdropClick(),this.keydownEvents().pipe(Ne(r=>r.keyCode===27&&!this.disableClose&&!tm(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),$X(this,r.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ne(t=>t.state==="closing"),qe(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=Em.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Em.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function $X(n,e,t){return n._closeInteractionType=e,n.close(t)}var WX=new P("MatMdcDialogData"),GX=new P("mat-mdc-dialog-default-options"),zX=new P("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=_(kc);return()=>n.scrollStrategies.block()}});var xP=(()=>{class n{_overlay=_(kc);_defaultOptions=_(GX,{optional:!0});_scrollStrategy=_(zX);_parentDialog=_(n,{optional:!0,skipSelf:!0});_idGenerator=_(ao);_dialog=_(DP);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new U;_afterOpenedAtThisLevel=new U;dialogConfigClass=Im;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Un(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Hn(void 0)));constructor(){this._dialogRefConstructor=rd,this._dialogContainerType=HX,this._dialogDataToken=WX}open(t,i){let r;i=E(E({},this._defaultOptions||new Im),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(t,$(E({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:co,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Cm=class n{constructor(e){this.dialogRef=e}changeLanguage(e){this.dialogRef.close(e)}static \u0275fac=function(t){return new(t||n)(T(rd))};static \u0275cmp=W({type:n,selectors:[["app-dialog-language"]],decls:7,vars:0,consts:[[1,"flags-div"],[1,"modal--button-language",3,"click"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"button",1),B("click",function(){return i.changeLanguage("it")}),w(2," \u{1F1EE}\u{1F1F9} Italiano "),m(),y(3,"button",1),B("click",function(){return i.changeLanguage("en")}),w(4," \u{1F1EC}\u{1F1E7} English "),m(),y(5,"button",1),B("click",function(){return i.changeLanguage("hu")}),w(6," \u{1F1ED}\u{1F1FA} Magyar "),m()())},styles:[".flags-div[_ngcontent-%COMP%]{padding:.5rem 1rem;display:flex;flex-direction:column;align-items:center;justify-content:center}"]})};var Dm=class n{constructor(e,t,i,r){this.audio=e;this.matDialog=t;this.router=i;this.translate=r;this.translate.addLangs(["it","en"]),this.translate.setDefaultLang("it"),this.translate.use("it")}basePlaying=!1;languageModal=!1;language="it";userLogged=!1;userNickname="Guest";goToHome(){this.router.navigate(["/home"])}openLanguageModal(){let e=this.matDialog.open(Cm,{width:"300px",data:{currentLanguage:this.language,availableLanguages:this.translate.getLangs()}}).afterClosed().subscribe(t=>{console.log("Dialog closed with result:"),t&&this.changeLanguage(t)})}closeLanguageModal(){this.languageModal=!1}toggleBase(){this.basePlaying=!this.basePlaying,this.audio.toggleBase()}changeLanguage(e){console.log("Changing language to:",e),this.language=e}static \u0275fac=function(t){return new(t||n)(T(It),T(xP),T(Ce),T(Me))};static \u0275cmp=W({type:n,selectors:[["app-footer"]],decls:15,vars:4,consts:[[1,"page--footer","flex","justify-between"],[1,"page--footer-column-left","ellipsize","flex","items-center"],[1,"page--footer-button","material-symbols-outlined",3,"click"],[1,"page--footer-button",3,"click"],[1,"page--footer-icons","material-symbols-outlined"],[1,"page--footer-icons","fas"],[1,"page--footer-column-right","ellipsize"],[1,"page--footer-button"],[1,"ellipsize"],[1,"page--footer-icons",3,"ngClass"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"div",1)(2,"button",2),B("click",function(){return i.goToHome()}),w(3," close "),m(),y(4,"button",3),B("click",function(){return i.toggleBase()}),y(5,"span",4),w(6),m()(),y(7,"button",2),B("click",function(){return i.openLanguageModal()}),y(8,"span",5),w(9),m()()(),y(10,"div",6)(11,"button",7)(12,"span",8),V(13,"i",9),w(14),m()()()()),t&2&&(g(6),k(" ",i.basePlaying?"volume_off":"volume_up"," "),g(3),k(" ",i.language==="it"?"\u{1F1EE}\u{1F1F9}":i.language==="hu"?"\u{1F1ED}\u{1F1FA}":"\u{1F1EC}\u{1F1E7}"," "),g(4),D("ngClass",i.userLogged?"fas fa-user-circle":"far fa-user-circle"),g(),k(" ",i.userNickname," "))},dependencies:[Ue,Ut,He],encapsulation:2})};var Sm=class n{title="CodyColor-Client";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=W({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"h-screen","page"],[1,"h-full","flex","flex-col","justify-between"],[1,""]],template:function(t,i){t&1&&(y(0,"div",0)(1,"div",1)(2,"div",2),V(3,"router-outlet"),m(),V(4,"app-footer"),m()())},dependencies:[Ul,Dm],encapsulation:2})};Ov(Sm,pP).catch(n=>console.error(n));
